<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>chatGPT的一些使用</title>
      <link href="/artical/473caace.html"/>
      <url>/artical/473caace.html</url>
      
        <content type="html"><![CDATA[<h1 id="ChatGPT"><a href="#ChatGPT" class="headerlink" title="ChatGPT"></a>ChatGPT</h1><ul><li>官网: <a href="https://openai.com/blog/chatgpt/">https://openai.com/blog/chatgpt/</a></li><li>介绍:</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208180949361.png" alt="image-20221208180949361"></p><ul><li>如何使用? B站, 抖音搜索关键词</li><li>使用前提: 可访问Goole</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208181332562.png" alt="image-20221208181332562"></p><h3 id="部分使用演示"><a href="#部分使用演示" class="headerlink" title="部分使用演示"></a>部分使用演示</h3><ul><li>解释代码作用</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208154904020.png" alt="image-20221208154904020"></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208154916194.png" alt="image-20221208154916194"></p><ul><li>整合搜索引擎,</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155039634.png" alt="image-20221208155039634"></p><ul><li>解LeetCode的题</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155221247.png" alt="image-20221208155221247"></p><ul><li>面试问题</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155254473.png" alt="image-20221208155254473"></p><ul><li>工具使用</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155320897.png" alt="image-20221208155320897"></p><ul><li>找资源</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155359549.png" alt="image-20221208155359549"></p><ul><li>搜题</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155430505.png" alt="image-20221208155430505"></p><ul><li>写邮件</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155519915.png" alt="image-20221208155519915"></p><ul><li><h6 id="做题-写英语作文"><a href="#做题-写英语作文" class="headerlink" title="做题, 写英语作文"></a>做题, 写英语作文</h6></li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155558348.png" alt="image-20221208155558348"></p><ul><li>写代码</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208155624350.png" alt="image-20221208155624350"></p><ul><li>写诗</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208162456464.png" alt="image-20221208162456464"></p><ul><li>写博客</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20221208162610959.png" alt="image-20221208162610959"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Python笔记</title>
      <link href="/artical/d83aff49.html"/>
      <url>/artical/d83aff49.html</url>
      
        <content type="html"><![CDATA[<h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><p>2021.9.9</p><h2 id="Turtle官方文档"><a href="#Turtle官方文档" class="headerlink" title="Turtle官方文档"></a><a href="https://docs.python.org/zh-cn/3/library/turtle.html?highlight=reset#turtle.reset">Turtle官方文档</a></h2><h3 id="货币兑换"><a href="#货币兑换" class="headerlink" title="货币兑换"></a>货币兑换</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">money=<span class="built_in">input</span>(<span class="string">&quot;请输入货币符号($/￥)和金额：&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="number">1</span>+<span class="number">1</span>==<span class="number">2</span>:</span><br><span class="line">    <span class="keyword">if</span> money[<span class="number">0</span>] <span class="keyword">in</span> [<span class="string">&#x27;￥&#x27;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;可兑换的美元为:$%.4f&quot;</span>%(<span class="built_in">eval</span>(money[<span class="number">1</span>:<span class="built_in">len</span>(money)])*<span class="number">0.1452</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> money[<span class="number">0</span>] <span class="keyword">in</span> [<span class="string">&#x27;$&#x27;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;可兑换的人民币为:￥%.4f&quot;</span> % (<span class="built_in">eval</span>(money[<span class="number">1</span>:<span class="built_in">len</span>(money)])*<span class="number">6.8833</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        money = <span class="built_in">input</span>(<span class="string">&quot;输入格式有误，例:$100。请重新输入：&quot;</span>)</span><br></pre></td></tr></table></figure><p>1、input()函数只能返回字符串,所以应用eval()函数将字符串转换为可计算的数值.</p><p>2、1+1=2  表示无限循环，只有输入了正确的格式，输出了结果才会跳出循环。否则将一直循环输入语句。</p><p>3、关键字 in  表示money[0]是否存在于数组[‘￥’]中，[‘￥’]表示一个数组，不过只有一个元素。</p><p>4、%.4f   为格式符，表示输出为保留小数点后4的浮点数。</p><p>5、money[0]  索引  索引编号为0的字符，即第一个字符。</p><p>6、len()函数获取字符串长度，money[1:len(money)]  表示切片除了第一个字符（索引编号为0）外的所有字符。</p><h4 id="Version-1-0"><a href="#Version-1-0" class="headerlink" title="Version 1.0"></a>Version 1.0</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    money = <span class="built_in">input</span>(<span class="string">&quot;请输入货币符号($/￥)和金额：&quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> money[<span class="number">0</span>] <span class="keyword">in</span> [<span class="string">&#x27;￥&#x27;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;可兑换的美元为:$%.4f&quot;</span>%(<span class="built_in">eval</span>(money[<span class="number">1</span>:<span class="built_in">len</span>(money)])*<span class="number">0.1452</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">elif</span> money[<span class="number">0</span>] <span class="keyword">in</span> [<span class="string">&#x27;$&#x27;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;可兑换的人民币为:￥%.4f&quot;</span> % (<span class="built_in">eval</span>(money[<span class="number">1</span>:<span class="built_in">len</span>(money)])*<span class="number">6.8833</span>))</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">else</span> :</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入格式有误，例:$100。请重新输入.&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="Version-2-0-调用函数"><a href="#Version-2-0-调用函数" class="headerlink" title="Version 2.0(调用函数)"></a>Version 2.0(调用函数)</h4><p>文件名    curExchange.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">exchange</span>(<span class="params">money</span>): <span class="comment">#定义函数</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> money[<span class="number">0</span>] <span class="keyword">in</span> [<span class="string">&#x27;￥&#x27;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;可兑换的美元为:$%.4f&quot;</span> % (<span class="built_in">eval</span>(money[<span class="number">1</span>:<span class="built_in">len</span>(money)]) * <span class="number">0.1452</span>))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> money[<span class="number">0</span>] <span class="keyword">in</span> [<span class="string">&#x27;$&#x27;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;可兑换的人民币为:￥%.4f&quot;</span> % (<span class="built_in">eval</span>(money[<span class="number">1</span>:<span class="built_in">len</span>(money)]) * <span class="number">6.8833</span>))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            money = <span class="built_in">input</span>(<span class="string">&quot;输入格式有误，例:$100。请重新输入:&quot;</span>)</span><br><span class="line">money = <span class="built_in">input</span>(<span class="string">&quot;请输入货币符号($/￥)和金额：&quot;</span>)</span><br><span class="line">exchange(money)  <span class="comment">#调用函数</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Version-3-0-调用模块"><a href="#Version-3-0-调用模块" class="headerlink" title="Version 3.0(调用模块)"></a>Version 3.0(调用模块)</h4><p>将前一个文件封装为一个模块，创建一个新文件，调用模块。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> curExchange <span class="comment">#导入模块 文件名 curExchange.py</span></span><br><span class="line">m= curExchange.money</span><br><span class="line"><span class="keyword">if</span> __name__== <span class="string">&#x27;main&#x27;</span>:  <span class="comment">#判断执行的文件是否为当前文件,若是则执行该分支,否者不执行。</span></span><br><span class="line">    curExchange.exchange(m)  <span class="comment">#前有空格</span></span><br></pre></td></tr></table></figure><p>1、  if <strong>name</strong>== ‘main’:     没有此句将会执行两次打印输出语句，原模块执行一次，调用后执行一次。</p><h3 id="等边三角"><a href="#等边三角" class="headerlink" title="等边三角"></a>等边三角</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t <span class="comment">#导入turtle模块,取别名为 t</span></span><br><span class="line">t.pencolor(<span class="string">&quot;black&quot;</span>) <span class="comment">#画笔颜色</span></span><br><span class="line">t.fillcolor(<span class="string">&quot;pink&quot;</span>) <span class="comment">#填充颜色</span></span><br><span class="line">t.begin_fill() <span class="comment">#填充开始</span></span><br><span class="line">t.forward(<span class="number">200</span>) <span class="comment">#长度200像素</span></span><br><span class="line">t.seth(<span class="number">240</span>) <span class="comment">#角度240°</span></span><br><span class="line">t.forward(<span class="number">200</span>)</span><br><span class="line">t.seth(<span class="number">120</span>)</span><br><span class="line">t.forward(<span class="number">200</span>)</span><br><span class="line">t.end_fill() <span class="comment">#填充结束</span></span><br></pre></td></tr></table></figure><p><img src="D:\python\笔记\img\image-20210909211103722.png" alt="image-20210909211103722"></p><h3 id="凌形"><a href="#凌形" class="headerlink" title="凌形"></a>凌形</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t <span class="comment">#导入turtle模块,取别名为 t</span></span><br><span class="line">t.pencolor(<span class="string">&quot;black&quot;</span>) <span class="comment">#画笔颜色</span></span><br><span class="line">t.fillcolor(<span class="string">&quot;pink&quot;</span>) <span class="comment">#填充颜色</span></span><br><span class="line">t.begin_fill() <span class="comment">#填充开始</span></span><br><span class="line">t.seth(-<span class="number">45</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    t.forward(<span class="number">200</span>)</span><br><span class="line">    t.right(<span class="number">90</span>) <span class="comment">#右902度</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(t.pos())&lt;<span class="number">1</span>:  <span class="comment">#回到原点结束</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">t.end_fill() <span class="comment">#填充结束</span></span><br></pre></td></tr></table></figure><p><img src="D:\python\笔记\img\image-20210909211006428.png" alt="image-20210909211006428"></p><h3 id="五边形"><a href="#五边形" class="headerlink" title="五边形"></a>五边形</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t <span class="comment">#导入turtle模块,取别名为 t</span></span><br><span class="line">t.pencolor(<span class="string">&quot;black&quot;</span>) <span class="comment">#画笔颜色</span></span><br><span class="line">t.fillcolor(<span class="string">&quot;pink&quot;</span>) <span class="comment">#填充颜色</span></span><br><span class="line">t.begin_fill() <span class="comment">#填充开始</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    t.forward(<span class="number">200</span>)</span><br><span class="line">    t.right(<span class="number">72</span>) </span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(t.pos())&lt;<span class="number">1</span>:  <span class="comment">#回到原点结束</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">t.end_fill() <span class="comment">#填充结束</span></span><br></pre></td></tr></table></figure><p><img src="D:\python\笔记\img\image-20210909211415129.png" alt="image-20210909211415129"></p><h3 id="正六边形"><a href="#正六边形" class="headerlink" title="正六边形"></a>正六边形</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t <span class="comment">#导入turtle模块,取别名为 t</span></span><br><span class="line">t.pencolor(<span class="string">&quot;black&quot;</span>) <span class="comment">#画笔颜色</span></span><br><span class="line">t.fillcolor(<span class="string">&quot;pink&quot;</span>) <span class="comment">#填充颜色</span></span><br><span class="line">t.begin_fill() <span class="comment">#填充开始</span></span><br><span class="line">t.seth(-<span class="number">30</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    t.forward(<span class="number">100</span>)</span><br><span class="line">    t.right(<span class="number">60</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(t.pos())&lt;<span class="number">1</span>:  <span class="comment">#回到原点结束</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">t.end_fill() <span class="comment">#填充结束</span></span><br></pre></td></tr></table></figure><p><img src="D:\python\笔记\img\image-20210909211941106.png" alt="image-20210909211941106"></p><h3 id="circle-函数"><a href="#circle-函数" class="headerlink" title="circle()函数"></a>circle()函数</h3><h4 id="圆形"><a href="#圆形" class="headerlink" title="圆形"></a>圆形</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t <span class="comment">#导入turtle模块,取别名为 t</span></span><br><span class="line">t.pencolor(<span class="string">&quot;black&quot;</span>) <span class="comment">#画笔颜色</span></span><br><span class="line">t.fillcolor(<span class="string">&quot;pink&quot;</span>) <span class="comment">#填充颜色</span></span><br><span class="line">t.begin_fill() <span class="comment">#填充开始</span></span><br><span class="line">t.circle(<span class="number">100</span>)</span><br><span class="line">t.end_fill() <span class="comment">#填充结束</span></span><br></pre></td></tr></table></figure><p>1、circle() 函数的三个参数，</p><p>第一个：radius 设置半径，不可省。</p><p>第二个：extent 设置弧度，默认为360度，可省</p><p>第三个：steps 设置步长，默认为无限次，即一个圆，可用于画正多边形。也可省。</p><p>2、所以前面所有的都可以用circle()函数画出</p><h4 id="正N边形"><a href="#正N边形" class="headerlink" title="正N边形"></a>正N边形</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t <span class="comment">#导入turtle模块,取别名为 t</span></span><br><span class="line">t.pencolor(<span class="string">&quot;black&quot;</span>) <span class="comment">#画笔颜色</span></span><br><span class="line">t.fillcolor(<span class="string">&quot;pink&quot;</span>) <span class="comment">#填充颜色</span></span><br><span class="line">t.begin_fill() <span class="comment">#填充开始</span></span><br><span class="line">t.circle(<span class="number">100</span>,<span class="literal">None</span>,N) <span class="comment">#将N改为数值,则变为正N边形.</span></span><br><span class="line">t.end_fill() <span class="comment">#填充结束</span></span><br><span class="line">t.exitonclick() <span class="comment">#点击才关闭窗口(不自动关闭)</span></span><br></pre></td></tr></table></figure><p><strong>例:t.circle(100,None,3)</strong></p><p>结果如图:</p><p><img src="D:\python\笔记\img\image-20210909214038302.png" alt="image-20210909214038302"></p><h3 id="数学模块math"><a href="#数学模块math" class="headerlink" title="数学模块math"></a>数学模块math</h3><h4 id="先来一口鸡汤"><a href="#先来一口鸡汤" class="headerlink" title="先来一口鸡汤"></a>先来一口鸡汤</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;如果每天努力一点，那么一年后后的成果将有(1+0.01)^365=%.6f&quot;</span>%(<span class="number">1</span>+<span class="number">0.01</span>)**<span class="number">365</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;如果每天再努力一点，那么一年后后的成果将达到(1+0.02)^365=%.6f&quot;</span>%(<span class="number">1</span>+<span class="number">0.02</span>)**<span class="number">365</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;如果每天退步一点，那么一年后后的成果将只有(1-0.01)^365=%.6f&quot;</span>%(<span class="number">1</span>-<span class="number">0.01</span>)**<span class="number">365</span>)</span><br></pre></td></tr></table></figure><p><strong>输出结果:</strong></p><p><em>如果每天努力一点，那么一年后后的成果将有(1+0.01)^365=37.783434</em><br><em>如果每天再努力一点，那么一年后后的成果将达到(1+0.02)^365=1377.408292</em><br><em>如果每天退步一点，那么一年后后的成果将只有(1-0.01)^365=0.025518</em></p><h4 id="格式化输出"><a href="#格式化输出" class="headerlink" title="格式化输出"></a>格式化输出</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math <span class="keyword">as</span> m</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;圆周率为 &#123;:.20f&#125;&quot;</span>.<span class="built_in">format</span>(m.pi)) <span class="comment">#浮点数小数点后20位</span></span><br><span class="line">a=m.floor(m.pi*<span class="number">10</span>**<span class="number">8</span>)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;以科学计数法显示:&#123;:e&#125;&quot;</span>.<span class="built_in">format</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;千位分隔符显示:&#123;0:,&#125;&quot;</span>.<span class="built_in">format</span>(a))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;以小数点后两位百分比显示:&#123;:.2%&#125;&quot;</span>.<span class="built_in">format</span>(a))</span><br></pre></td></tr></table></figure><p><strong>输出结果:</strong></p><p>圆周率为 3.14159265358979311600<br>314159265<br>以科学计数法显示:3.141593e+08<br>千位分隔符显示:314,159,265<br>千位分隔符显示:31415926500.00%</p><h3 id="循环输出图形"><a href="#循环输出图形" class="headerlink" title="循环输出图形"></a>循环输出图形</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">11</span>): <span class="comment">#循环11次</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;___*&quot;</span>,end=<span class="string">&#x27;&#x27;</span>)  <span class="comment">#不换行</span></span><br></pre></td></tr></table></figure><p><strong>输出结果</strong></p><p><img src="D:\python\笔记\img\image-20210909235213539.png" alt="image-20210909235213539"></p><h3 id="九九乘法表"><a href="#九九乘法表" class="headerlink" title="九九乘法表"></a>九九乘法表</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,i+<span class="number">1</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;%d*%d=%-3d&quot;</span>%(j,i,i*j),end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;&#x27;</span>) <span class="comment">#换行</span></span><br></pre></td></tr></table></figure><p><strong>输出结果:</strong></p><figure class="highlight v"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>*<span class="number">1</span>=<span class="number">1</span>  </span><br><span class="line"><span class="number">1</span>*<span class="number">2</span>=<span class="number">2</span>  <span class="number">2</span>*<span class="number">2</span>=<span class="number">4</span>  </span><br><span class="line"><span class="number">1</span>*<span class="number">3</span>=<span class="number">3</span>  <span class="number">2</span>*<span class="number">3</span>=<span class="number">6</span>  <span class="number">3</span>*<span class="number">3</span>=<span class="number">9</span>  </span><br><span class="line"><span class="number">1</span>*<span class="number">4</span>=<span class="number">4</span>  <span class="number">2</span>*<span class="number">4</span>=<span class="number">8</span>  <span class="number">3</span>*<span class="number">4</span>=<span class="number">12</span> <span class="number">4</span>*<span class="number">4</span>=<span class="number">16</span> </span><br><span class="line"><span class="number">1</span>*<span class="number">5</span>=<span class="number">5</span>  <span class="number">2</span>*<span class="number">5</span>=<span class="number">10</span> <span class="number">3</span>*<span class="number">5</span>=<span class="number">15</span> <span class="number">4</span>*<span class="number">5</span>=<span class="number">20</span> <span class="number">5</span>*<span class="number">5</span>=<span class="number">25</span> </span><br><span class="line"><span class="number">1</span>*<span class="number">6</span>=<span class="number">6</span>  <span class="number">2</span>*<span class="number">6</span>=<span class="number">12</span> <span class="number">3</span>*<span class="number">6</span>=<span class="number">18</span> <span class="number">4</span>*<span class="number">6</span>=<span class="number">24</span> <span class="number">5</span>*<span class="number">6</span>=<span class="number">30</span> <span class="number">6</span>*<span class="number">6</span>=<span class="number">36</span> </span><br><span class="line"><span class="number">1</span>*<span class="number">7</span>=<span class="number">7</span>  <span class="number">2</span>*<span class="number">7</span>=<span class="number">14</span> <span class="number">3</span>*<span class="number">7</span>=<span class="number">21</span> <span class="number">4</span>*<span class="number">7</span>=<span class="number">28</span> <span class="number">5</span>*<span class="number">7</span>=<span class="number">35</span> <span class="number">6</span>*<span class="number">7</span>=<span class="number">42</span> <span class="number">7</span>*<span class="number">7</span>=<span class="number">49</span> </span><br><span class="line"><span class="number">1</span>*<span class="number">8</span>=<span class="number">8</span>  <span class="number">2</span>*<span class="number">8</span>=<span class="number">16</span> <span class="number">3</span>*<span class="number">8</span>=<span class="number">24</span> <span class="number">4</span>*<span class="number">8</span>=<span class="number">32</span> <span class="number">5</span>*<span class="number">8</span>=<span class="number">40</span> <span class="number">6</span>*<span class="number">8</span>=<span class="number">48</span> <span class="number">7</span>*<span class="number">8</span>=<span class="number">56</span> <span class="number">8</span>*<span class="number">8</span>=<span class="number">64</span> </span><br><span class="line"><span class="number">1</span>*<span class="number">9</span>=<span class="number">9</span>  <span class="number">2</span>*<span class="number">9</span>=<span class="number">18</span> <span class="number">3</span>*<span class="number">9</span>=<span class="number">27</span> <span class="number">4</span>*<span class="number">9</span>=<span class="number">36</span> <span class="number">5</span>*<span class="number">9</span>=<span class="number">45</span> <span class="number">6</span>*<span class="number">9</span>=<span class="number">54</span> <span class="number">7</span>*<span class="number">9</span>=<span class="number">63</span> <span class="number">8</span>*<span class="number">9</span>=<span class="number">72</span> <span class="number">9</span>*<span class="number">9</span>=<span class="number">81</span> </span><br></pre></td></tr></table></figure><h3 id="“百鸡百钱”问题"><a href="#“百鸡百钱”问题" class="headerlink" title="“百鸡百钱”问题"></a>“百鸡百钱”问题</h3><p>问：公鸡每只值五文钱，母鸡每只值三文钱，小鸡每三只值一文钱。现在用一百文钱买一百只鸡。问：这一百只鸡中，公鸡、母鸡、小鸡各有多少只？</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">count=<span class="number">0</span> <span class="comment">#计数</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>): <span class="comment">#公鸡数</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">33</span>): <span class="comment">#母鸡数</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">300</span>): <span class="comment">#小鸡数</span></span><br><span class="line">            <span class="keyword">if</span> <span class="number">5</span>*i+<span class="number">3</span>*j+<span class="number">1</span>/<span class="number">3</span>*k==<span class="number">100</span> <span class="keyword">and</span> i+j+k==<span class="number">100</span> :</span><br><span class="line">                count+=<span class="number">1</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;第&#123;&#125;种情况:公鸡数为&#123;&#125;,母鸡数为&#123;&#125;,小鸡数为&#123;&#125;&quot;</span>.<span class="built_in">format</span>(count,i,j,k))</span><br><span class="line">                <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p><strong>输出结果:</strong></p><p>第1种情况:公鸡数为0,母鸡数为25,小鸡数为75<br>第2种情况:公鸡数为4,母鸡数为18,小鸡数为78<br>第3种情况:公鸡数为8,母鸡数为11,小鸡数为81<br>第4种情况:公鸡数为12,母鸡数为4,小鸡数为84</p><p><strong>思路：</strong></p><p>1、列出方程：设数量分别为i，j，k。</p><p>2、根据数量 ：i+j+k==100</p><p>3、根据总金额： 5<em>i+3</em>j+1/3*k==100</p><p>4、循环遍历出所有满足条件的值。</p><p>5、可以先粗略判断循环范围：公鸡5钱一只，20只就将满100钱，所以数量必定不超出20；其他类似。</p><h3 id="扔骰子游戏-P102-7"><a href="#扔骰子游戏-P102-7" class="headerlink" title="扔骰子游戏(P102.7)"></a>扔骰子游戏(P102.7)</h3><p>呆逼</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line">winA = <span class="number">0</span> <span class="comment">#选手A获胜次数</span></span><br><span class="line">winB = <span class="number">0</span> <span class="comment">#选手B获胜次数</span></span><br><span class="line">win = <span class="number">0</span> <span class="comment">#平局次数</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">50</span>):</span><br><span class="line">    sumA = <span class="number">0</span> </span><br><span class="line">sumB = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">        <span class="keyword">if</span> j % <span class="number">2</span> == <span class="number">0</span>:  <span class="comment">#轮流扔</span></span><br><span class="line">            A = random.randint(<span class="number">1</span>, <span class="number">6</span>)</span><br><span class="line">            sumA += A <span class="comment">#统计5次总和</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            B = random.randint(<span class="number">1</span>, <span class="number">6</span>)</span><br><span class="line">            sumB += B</span><br><span class="line">    <span class="keyword">if</span> sumA &gt; sumB:</span><br><span class="line">        winA += <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> sumB &gt; sumA:</span><br><span class="line">        winB += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        win += <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> winA &gt; winB:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;恭喜选手A以&#123;&#125;的胜利次数获胜!&quot;</span>.<span class="built_in">format</span>(winA))</span><br><span class="line"><span class="keyword">elif</span> winB &gt; winA:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;恭喜选手B以&#123;&#125;的胜利次数获胜!&quot;</span>.<span class="built_in">format</span>(winB))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;双方平局!&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;统计:选手A获胜次数为&#123;&#125;次,选手B获胜次数为&#123;&#125;次,平局次数为&#123;&#125;&quot;</span>.<span class="built_in">format</span>(winA, winB, win))</span><br></pre></td></tr></table></figure><h3 id="回文素数"><a href="#回文素数" class="headerlink" title="回文素数"></a>回文素数</h3><p>输出2-1000内所有的回文素数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">1001</span>):</span><br><span class="line">    count=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, i):</span><br><span class="line">        <span class="keyword">if</span> i % j != <span class="number">0</span>:</span><br><span class="line">            count+=<span class="number">1</span> <span class="comment">#计数不能整除的次数</span></span><br><span class="line">    <span class="keyword">if</span> count ==(i-<span class="number">2</span>) : <span class="comment">#当不能整除的次数为当前数减去2(本身整除一次,整除1一次),便为素数.</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">str</span>(i)[<span class="number">0</span>]==<span class="built_in">str</span>(i)[-<span class="number">1</span>]: <span class="comment">#判断是否回文</span></span><br><span class="line">            <span class="built_in">print</span>(i,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p><strong>输出结果</strong></p><p>2 3 5 7 11 101 131 151 181 191 313 353 373 383 727 757 787 797 919 929 </p><h4 id="素数"><a href="#素数" class="headerlink" title="素数"></a>素数</h4><p><strong>Version 1.0</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">1001</span>):</span><br><span class="line">    flag=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, i):</span><br><span class="line">        <span class="keyword">if</span> i % j == <span class="number">0</span>:</span><br><span class="line">            flag=<span class="number">0</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> flag==<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(i,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>1、设置一个标志flag，判断2到本身之间，是否有数可被整除，有则将flag赋值为0，表示此数可被当前j整除，且不需再进行之后判断，跳出循环。</p><p>2、如没有可被整除的数，flag将不会被改变，默认为1，则输出素数i。</p><p><strong>Version 2.0</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">1001</span>):</span><br><span class="line">    count=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, i):</span><br><span class="line">        <span class="keyword">if</span> i % j != <span class="number">0</span>:</span><br><span class="line">            count+=<span class="number">1</span> <span class="comment">#计数不能整除的次数</span></span><br><span class="line">    <span class="keyword">if</span> count ==(i-<span class="number">2</span>) : <span class="comment">#当不能整除的次数为当前数减去2(本身整除一次,整除1一次),便为素数.</span></span><br><span class="line">        <span class="built_in">print</span>(i,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>1、根据不可被整除的次数判断，是否为素数。</p><p><strong>Version 3.0</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="number">1001</span>):</span><br><span class="line">    count=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, i):</span><br><span class="line">        <span class="keyword">if</span> i % j == <span class="number">0</span>:</span><br><span class="line">            count+=<span class="number">1</span> </span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">0</span> : </span><br><span class="line">        <span class="built_in">print</span>(i,end=<span class="string">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure><p>1、根据可被整除的次数判断，可被整除的次数只有1和本身2次。</p><p>2、但是循环遍历范围除去了1和本身，所以应为0次。</p><p>3、可在count+=1,后加break退出循环，提高效率。只是count计数的不再是可被整除的次数，而是相当于一个flag(标志)了。</p><p><strong>Version 4.0</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        i = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入一个整数,判断是否为素数:&quot;</span>))</span><br><span class="line">        flag = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, i):</span><br><span class="line">            <span class="keyword">if</span> i % j == <span class="number">0</span>:</span><br><span class="line">                flag = <span class="number">0</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;%d不是素数&quot;</span> % i)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;%d是素数&quot;</span> % i)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入有误，请重新输入！&quot;</span>)</span><br></pre></td></tr></table></figure><p>1、修改功能：输入判断</p><p>2、try ：except ：排除错误的输入情况。</p><p><strong>version 5.0</strong></p><p>使用列表存储展示</p><p>调用函数</p><p>动态输入</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">shu</span>(<span class="params">ar=<span class="number">100</span></span>):</span><br><span class="line">    lists = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, ar):</span><br><span class="line">        flag = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, i):</span><br><span class="line">            <span class="keyword">if</span> i % j == <span class="number">0</span>:</span><br><span class="line">                flag = <span class="number">0</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">            lists.append(i)</span><br><span class="line">    <span class="built_in">print</span>(lists)</span><br><span class="line"></span><br><span class="line">c = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入你想得到素数的范围:&quot;</span>))</span><br><span class="line">shu(c)</span><br></pre></td></tr></table></figure><h3 id="水仙花数"><a href="#水仙花数" class="headerlink" title="水仙花数"></a>水仙花数</h3><p>找出3位数所有的水仙花数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>,<span class="number">1000</span>):</span><br><span class="line">    <span class="keyword">if</span> (i//<span class="number">100</span>%<span class="number">10</span>)**<span class="number">3</span>+(i//<span class="number">10</span>%<span class="number">10</span>)**<span class="number">3</span>+(i%<span class="number">10</span>)**<span class="number">3</span>==i:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br></pre></td></tr></table></figure><p>1、      i//100%10     表示 百位</p><p>2、      i//10%10      表示 十位</p><p>3、         i%10           表示 个位</p><p><strong>输出结果：</strong></p><p>153<br>370<br>371<br>407</p><h3 id="销售额提成（P102-10）"><a href="#销售额提成（P102-10）" class="headerlink" title="销售额提成（P102.10）"></a>销售额提成（P102.10）</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">m = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;工资查询__请输入您的销售额:&quot;</span>))</span><br><span class="line">salary = <span class="number">2000</span></span><br><span class="line"><span class="keyword">if</span> m &lt;= <span class="number">3000</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;您的工资为%.2f元&quot;</span> % salary)</span><br><span class="line"><span class="keyword">elif</span> m &gt; <span class="number">3000</span> <span class="keyword">and</span> m &lt;= <span class="number">7000</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;您的工资为%.2f元&quot;</span> % (salary+m*<span class="number">0.1</span>))</span><br><span class="line"><span class="keyword">elif</span> m &gt; <span class="number">7000</span> <span class="keyword">and</span> m &lt;= <span class="number">10000</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;您的工资为%.2f元&quot;</span> % (salary+m*<span class="number">0.15</span>))</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;您的工资为%.2f元&quot;</span> % (salary + m * <span class="number">0.2</span>))</span><br></pre></td></tr></table></figure><h3 id="动态时钟"><a href="#动态时钟" class="headerlink" title="动态时钟"></a>动态时钟</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> turtle <span class="keyword">import</span> *  <span class="comment"># 导入turtle模块</span></span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> *  <span class="comment"># 导入datetime模块</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">skip</span>(<span class="params">step</span>):</span><br><span class="line">    penup()  <span class="comment"># 抬起画笔</span></span><br><span class="line">    forward(step)  <span class="comment"># 跳跃的距离step</span></span><br><span class="line">    pendown()  <span class="comment"># 放下画笔</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 刻画时钟刻度</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">setup_clock</span>(<span class="params">radius</span>):  <span class="comment"># 时钟的大小,即半径radius</span></span><br><span class="line">    reset()</span><br><span class="line">    pensize(<span class="number">7</span>)  <span class="comment"># 画笔粗细</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">60</span>):  <span class="comment"># 刻画时钟刻度</span></span><br><span class="line">        skip(radius)  <span class="comment"># 在距离时钟圆心radius的距离开始落笔</span></span><br><span class="line">        <span class="keyword">if</span> i % <span class="number">5</span> == <span class="number">0</span>:  <span class="comment"># 每隔4个圆点</span></span><br><span class="line">            forward(<span class="number">20</span>)  <span class="comment"># 刻画一条短线</span></span><br><span class="line">            skip(-radius - <span class="number">20</span>)  <span class="comment"># 再次回到圆点</span></span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 刻画点</span></span><br><span class="line">            dot(<span class="number">5</span>, <span class="string">&quot;pink&quot;</span>)  <span class="comment"># dot()刻画圆点,参数表示大小和颜色</span></span><br><span class="line">            skip(-radius)  <span class="comment"># 再次回到圆点</span></span><br><span class="line">        right(<span class="number">6</span>)  <span class="comment"># 向右转6度,为什么是6度?60个刻度...360/60=6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">make_hand</span>(<span class="params">name, length</span>):</span><br><span class="line">    reset()</span><br><span class="line">    skip(-<span class="number">0.1</span> * length)  <span class="comment"># 圆点往后退0.1倍length</span></span><br><span class="line"></span><br><span class="line">    begin_poly()</span><br><span class="line">    forward(<span class="number">1.1</span> * length)  <span class="comment"># 再向前1.1倍length,刻画指针圆心前后长度的比例,1:10</span></span><br><span class="line">    end_poly()</span><br><span class="line"></span><br><span class="line">    handForm = get_poly()  <span class="comment"># 返回最后记录的多边形</span></span><br><span class="line">    register_shape(name, handForm)  <span class="comment"># 注册形状,命名为name</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init</span>():</span><br><span class="line">    <span class="keyword">global</span> secHand, minHand, hurHand, printer  <span class="comment"># 声明全局变量,使函数内部可修改变量的值</span></span><br><span class="line">    mode(<span class="string">&quot;logo&quot;</span>)  <span class="comment"># 重置指针的初始方向,向上.</span></span><br><span class="line">    <span class="comment"># 秒针</span></span><br><span class="line">    secHand = Turtle()  <span class="comment"># 建立Turtle对象</span></span><br><span class="line">    make_hand(<span class="string">&quot;secHand&quot;</span>, <span class="number">130</span>)  <span class="comment"># 参数:名字和长度</span></span><br><span class="line">    secHand.shape(<span class="string">&quot;secHand&quot;</span>)  <span class="comment"># 见下面</span></span><br><span class="line">    <span class="comment"># 分针</span></span><br><span class="line">    minHand = Turtle()</span><br><span class="line">    make_hand(<span class="string">&quot;minHand&quot;</span>, <span class="number">125</span>)</span><br><span class="line">    minHand.shape(<span class="string">&quot;minHand&quot;</span>)</span><br><span class="line">    <span class="comment"># 时针</span></span><br><span class="line">    hurHand = Turtle()</span><br><span class="line">    make_hand(<span class="string">&quot;hurHand&quot;</span>, <span class="number">90</span>)</span><br><span class="line">    hurHand.shape(<span class="string">&quot;hurHand&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> hand <span class="keyword">in</span> secHand, minHand, hurHand:</span><br><span class="line">        hand.shapesize(<span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>)  <span class="comment"># 调整指针的粗细</span></span><br><span class="line">        hand.speed(<span class="number">0</span>)  <span class="comment"># 调整指针速度</span></span><br><span class="line">    <span class="comment"># 建立输出文字的打印对象</span></span><br><span class="line">    printer = Turtle()</span><br><span class="line">    printer.hideturtle()  <span class="comment"># 使海龟不可见。 当你绘制复杂图形时这是个好主意，因为隐藏海龟可显着加快绘制速度。</span></span><br><span class="line">    printer.penup()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 返回当前的星期</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">week</span>(<span class="params">t</span>):</span><br><span class="line">    week = [<span class="string">&quot;星期一&quot;</span>, <span class="string">&quot;星期二&quot;</span>, <span class="string">&quot;星期三&quot;</span>, <span class="string">&quot;星期四&quot;</span>, <span class="string">&quot;星期五&quot;</span>, <span class="string">&quot;星期六&quot;</span>, <span class="string">&quot;星期日&quot;</span>]  <span class="comment"># 创建一个列表</span></span><br><span class="line">    <span class="keyword">return</span> week[t.weekday()]  <span class="comment"># t.weekday()返回一个0-6的序列,0为周一,6为周日</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 刻画显示的时间格式</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">day</span>(<span class="params">t</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;%s %d %d %d:%d&quot;</span> % (t.year, t.month, t.day, t.hour, t.minute)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">tick</span>():</span><br><span class="line">    t = datetime.today()  <span class="comment"># 获取当前本地时间</span></span><br><span class="line">    second = t.second + t.microsecond * <span class="number">0.000001</span>  <span class="comment"># 微秒换算为秒，比例为1:0.000001。</span></span><br><span class="line">    minute = t.minute + t.second / <span class="number">60.0</span>  <span class="comment"># 当前分钟数，例：当前2分12秒，应换算为2.2分</span></span><br><span class="line">    hour = t.hour + t.minute / <span class="number">60</span>  <span class="comment"># 同理</span></span><br><span class="line"></span><br><span class="line">    secHand.setheading(second * <span class="number">6</span>)  <span class="comment"># 为指针设置方向</span></span><br><span class="line">    minHand.setheading(minute * <span class="number">6</span>)  <span class="comment"># 分钟和秒钟刻度一圈都有60个刻度，所以每个度数应为360/60==6度</span></span><br><span class="line">    hurHand.setheading(hour * <span class="number">30</span>)  <span class="comment"># 而时针的刻度是12个,360/12==30度</span></span><br><span class="line">    tracer(<span class="literal">False</span>)  <span class="comment"># 隐藏绘图，直接显示绘画结果</span></span><br><span class="line"></span><br><span class="line">    printer.fd(<span class="number">70</span>)  <span class="comment"># 向前移动指定的距离,插入星期显示</span></span><br><span class="line">    printer.write(week(t), align=<span class="string">&quot;center&quot;</span>, font=(<span class="string">&quot;Courier&quot;</span>, <span class="number">14</span>, <span class="string">&quot;bold&quot;</span>))</span><br><span class="line"></span><br><span class="line">    printer.back(<span class="number">130</span>)  <span class="comment"># 向后移动指定的距离,插入日期显示</span></span><br><span class="line">    printer.write(day(t), align=<span class="string">&quot;center&quot;</span>, font=(<span class="string">&quot;Courier&quot;</span>, <span class="number">14</span>, <span class="string">&quot;bold&quot;</span>))</span><br><span class="line"></span><br><span class="line">    printer.home()  <span class="comment"># 将画笔移动到原点，即坐标(0,0),初始方向与mode()设置的模式不同而不同</span></span><br><span class="line">    tracer(<span class="literal">True</span>)  <span class="comment"># 重新打开绘图过程</span></span><br><span class="line">    ontimer(tick, <span class="number">100</span>)  <span class="comment"># 100毫秒后调用 tick()函数,1秒等于1000毫秒</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 控制逻辑</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    tracer(<span class="literal">False</span>)  <span class="comment"># 关闭画笔动画</span></span><br><span class="line">    init()  <span class="comment"># 初始化各个对象</span></span><br><span class="line">    setup_clock(<span class="number">200</span>)  <span class="comment"># 画时钟表框</span></span><br><span class="line">    tracer(<span class="literal">True</span>)  <span class="comment"># 开启动画</span></span><br><span class="line">    tick()  <span class="comment"># 获取当前本地日期,实时显示</span></span><br><span class="line">    done()  <span class="comment"># 暂停程序，停止画笔绘制，但绘图窗体不关闭，直到用户关闭Python Turtle图形化窗口为止</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用函数</span></span><br><span class="line">main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>所用到的部分函数:</strong></p><h4 id="mode"><a href="#mode" class="headerlink" title="mode()"></a>mode()</h4><p><img src="http://qiniu.yujing.fit/typora_img/image-20210911213839271.png" alt="image-20210911213839271"></p><h4 id="register-shape"><a href="#register-shape" class="headerlink" title="register_shape()"></a>register_shape()</h4><p><img src="http://qiniu.yujing.fit/typora_img/image-20210911214343983.png" alt="image-20210911214343983"></p><h4 id="shape"><a href="#shape" class="headerlink" title="shape()"></a>shape()</h4><p><img src="http://qiniu.yujing.fit/typora_img/image-20210911214423446.png" alt="image-20210911214423446"></p><h4 id="ploy"><a href="#ploy" class="headerlink" title="_ploy()"></a>_ploy()</h4><p><img src="http://qiniu.yujing.fit/typora_img/image-20210911214614373.png" alt="image-20210911214614373"></p><h4 id="reset"><a href="#reset" class="headerlink" title="reset()"></a>reset()</h4><p><img src="http://qiniu.yujing.fit/typora_img/image-20210911214911381.png" alt="image-20210911214911381"></p><h4 id="write"><a href="#write" class="headerlink" title="write()"></a>write()</h4><p><img src="http://qiniu.yujing.fit/typora_img/image-20210911214942734.png" alt="image-20210911214942734"></p><h4 id="class-turtle-Turtle"><a href="#class-turtle-Turtle" class="headerlink" title="class turtle.Turtle"></a><em>class</em> turtle.Turtle</h4><p>RawTurtle 的子类，具有相同的接口，但其绘图场所为默认的 <a href="https://docs.python.org/zh-cn/3/library/turtle.html?highlight=turtle#turtle.Screen"><code>Screen</code></a> 类对象，在首次使用时自动创建。</p><p><strong>效果图</strong></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20210910142922093.png" alt="image-20210910142922093"></p><h3 id="随机6位验证码"><a href="#随机6位验证码" class="headerlink" title="随机6位验证码"></a>随机6位验证码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"></span><br><span class="line">code = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):  <span class="comment"># 6位验证码</span></span><br><span class="line">    state = r.randint(<span class="number">0</span>, <span class="number">2</span>)  <span class="comment"># 随机大小写字母和数字</span></span><br><span class="line">    <span class="keyword">if</span> state == <span class="number">0</span>:</span><br><span class="line">        code.append(<span class="built_in">chr</span>(r.randint(<span class="number">48</span>, <span class="number">57</span>)))  <span class="comment"># chr()转换为字符</span></span><br><span class="line">    <span class="keyword">elif</span> state == <span class="number">1</span>:</span><br><span class="line">        code.append(<span class="built_in">chr</span>(r.randint(<span class="number">65</span>, <span class="number">90</span>)))</span><br><span class="line">    <span class="keyword">elif</span> state == <span class="number">2</span>:</span><br><span class="line">        code.append(<span class="built_in">chr</span>(r.randint(<span class="number">97</span>, <span class="number">122</span>)))</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;&quot;</span>.join(code)  <span class="comment"># 以&quot;&quot;(即空)把字符连接成字符串</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure><p>1、需先定义一个空列表</p><p>2、根据随机的state，判断列表是数字、大写字母、小写字母。</p><p>3、append（） 向列表添加元素</p><p>4、chr（） 转换为字符             str（）转换为字符串    不一样</p><p>5、” “.join()    以空连接成字符串</p><h3 id="字符串反转"><a href="#字符串反转" class="headerlink" title="字符串反转"></a>字符串反转</h3><p>输入一个字符串,将其反转后输出.</p><p>例:输入     abcde</p><p>输出       edcba</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">input</span>(<span class="string">&quot;请输入一个字符串:&quot;</span>)</span><br><span class="line">ls = <span class="built_in">list</span>(s)  <span class="comment">#转换为列表</span></span><br><span class="line">ls.reverse()  <span class="comment">#将其反转</span></span><br><span class="line">sr = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s)): <span class="comment">#循环连接成字符串</span></span><br><span class="line">    sr += ls[i]</span><br><span class="line"><span class="built_in">print</span>(sr)</span><br></pre></td></tr></table></figure><p>或者,换一种连接字符串的方式</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="built_in">input</span>(<span class="string">&quot;请输入一个字符串:&quot;</span>)</span><br><span class="line">ls = <span class="built_in">list</span>(s)</span><br><span class="line">ls.reverse()</span><br><span class="line">sr = <span class="string">&quot;&quot;</span>.join(ls)</span><br><span class="line"><span class="built_in">print</span>(sr)</span><br></pre></td></tr></table></figure><h4 id="join-连接用法实例"><a href="#join-连接用法实例" class="headerlink" title="join 连接用法实例"></a>join 连接用法实例</h4><p>利用字符串的函数 join。这个函数接受一个列表或元组，然后用字符串依次连接列表中每一个元素：</p><p><strong>注意</strong>:列表中含有int类型将报错.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; list1 = [<span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>]</span><br><span class="line">&gt;&gt; <span class="string">&quot;&quot;</span>.join(list1)</span><br><span class="line">&gt;&gt; <span class="string">&#x27;Python&#x27;</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; tuple1 = (<span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>)</span><br><span class="line">&gt;&gt; <span class="string">&quot;&quot;</span>.join(tuple1)</span><br><span class="line">&gt;&gt; <span class="string">&#x27;Python&#x27;</span></span><br></pre></td></tr></table></figure><p><strong>每个字符之间加 “|”</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1 = [<span class="string">&#x27;P&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;n&#x27;</span>]</span><br><span class="line"><span class="string">&quot;|&quot;</span>.join(list1)</span><br><span class="line"><span class="string">&#x27;P|y|t|h|o|n</span></span><br></pre></td></tr></table></figure><h3 id="进制转换"><a href="#进制转换" class="headerlink" title="进制转换"></a>进制转换</h3><h4 id="输入十进制-输出其二进制-八进制和十六进制"><a href="#输入十进制-输出其二进制-八进制和十六进制" class="headerlink" title="输入十进制,输出其二进制,八进制和十六进制"></a>输入十进制,输出其二进制,八进制和十六进制</h4><p>以….算出二进制,或用python内置函数bin()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入一个数字:&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;八进制为:%o&quot;</span> % num)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;十六进制为:%X&quot;</span> % num)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;转换为二进制为:%s&quot;</span> % <span class="built_in">bin</span>(num))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;转换为八进制为：&quot;</span>, <span class="built_in">oct</span>(num))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;转换为十六进制为：&quot;</span>, <span class="built_in">hex</span>(num))</span><br><span class="line">b = []  <span class="comment"># 存储余数</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:  <span class="comment"># 一直循环，商为0时利用break退出循环</span></span><br><span class="line">    s = num // <span class="number">2</span>  <span class="comment"># 商</span></span><br><span class="line">    y = num % <span class="number">2</span>  <span class="comment"># 余数</span></span><br><span class="line">    b = b + [y]  <span class="comment"># 每一个余数存储到b中</span></span><br><span class="line">    <span class="keyword">if</span> s == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">break</span>  <span class="comment"># 余数为0时结束循环</span></span><br><span class="line">    num = s</span><br><span class="line">b.reverse()  <span class="comment"># 使b中的元素反向排列</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(b)):  <span class="comment"># 将列表中的元素转为字符类型</span></span><br><span class="line">    b[i] = <span class="built_in">str</span>(b[i])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;二进制为:%s&quot;</span> % <span class="string">&quot;&quot;</span>.join(b))</span><br></pre></td></tr></table></figure><h3 id="获取时间及星期"><a href="#获取时间及星期" class="headerlink" title="获取时间及星期"></a>获取时间及星期</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(datetime.today().strftime(<span class="string">&quot;%H:%M:%S %Y-%m-%d&quot;</span>))</span><br><span class="line">week = [<span class="string">&quot;星期一&quot;</span>, <span class="string">&quot;星期二&quot;</span>, <span class="string">&quot;星期三&quot;</span>, <span class="string">&quot;星期四&quot;</span>, <span class="string">&quot;星期五&quot;</span>, <span class="string">&quot;星期六&quot;</span>, <span class="string">&quot;星期日&quot;</span>]</span><br><span class="line"><span class="built_in">print</span>(week[datetime.today().weekday()])</span><br></pre></td></tr></table></figure><p><img src="img/image-20210927225039607.png" alt="image-20210927225039607"></p><h3 id="分类计数输入的字符串"><a href="#分类计数输入的字符串" class="headerlink" title="分类计数输入的字符串"></a>分类计数输入的字符串</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="built_in">input</span>(<span class="string">&quot;随便输点吧：&quot;</span>)</span><br><span class="line">ls = <span class="built_in">list</span>(<span class="built_in">str</span>)</span><br><span class="line">nums = <span class="number">0</span></span><br><span class="line">chars = <span class="number">0</span></span><br><span class="line">kong = <span class="number">0</span></span><br><span class="line">tems = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> s <span class="keyword">in</span> ls:</span><br><span class="line">    a = <span class="built_in">ord</span>(s)</span><br><span class="line">    <span class="keyword">if</span> a &gt;= <span class="number">48</span> <span class="keyword">and</span> a &lt;= <span class="number">57</span>:</span><br><span class="line">        nums += <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> a &gt;= <span class="number">65</span> <span class="keyword">and</span> a &lt;= <span class="number">90</span> <span class="keyword">or</span> a&gt;=<span class="number">97</span> <span class="keyword">and</span> a &lt;=<span class="number">122</span>:</span><br><span class="line">        chars += <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> a == <span class="number">32</span>:</span><br><span class="line">        kong += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        tems += <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(ls)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;数字个数：%d，字母个数:%d，空格数：%d，其他字符：%d&quot;</span> % (nums, chars, kong, tems))</span><br></pre></td></tr></table></figure><h3 id="abs-函数"><a href="#abs-函数" class="headerlink" title="abs()函数"></a>abs()函数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line">t.forward(<span class="number">1</span>)</span><br><span class="line">t.lt(<span class="number">90</span>)</span><br><span class="line">t.fd(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(t.pos())</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">abs</span>(t.pos()))</span><br></pre></td></tr></table></figure><p>输出:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(1.00,1.00)</span><br><span class="line">1.4142135623730951</span><br></pre></td></tr></table></figure><h3 id="进步"><a href="#进步" class="headerlink" title="进步"></a>进步</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">jbtb</span>(<span class="params">j, t</span>):</span><br><span class="line">    <span class="built_in">min</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">366</span>):  <span class="comment"># 进步i天</span></span><br><span class="line">        A = fabs(<span class="built_in">pow</span>((<span class="number">1</span> + j), i) * <span class="built_in">pow</span>((<span class="number">1</span> - t), (<span class="number">365</span> - i)) - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">if</span> A &lt; <span class="built_in">min</span>:</span><br><span class="line">            <span class="built_in">min</span> = A</span><br><span class="line">            x = i</span><br><span class="line">            y = <span class="number">365</span> - i</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;当进步%d天,退步%d天时,最接近&quot;</span> % (x, y))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;最接近的值为&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">pow</span>((<span class="number">1</span> + <span class="number">0.02</span>), x) * <span class="built_in">pow</span>((<span class="number">1</span> - <span class="number">0.01</span>), y)))</span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">min</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入进步加的:&quot;</span>))</span><br><span class="line">b = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入退步加的:&quot;</span>))</span><br><span class="line"></span><br><span class="line">jbtb(a, b)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>输出:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">请输入进步加的:0.02</span><br><span class="line">请输入退步加的:0.01</span><br><span class="line">当进步123天,退步242天时,最接近</span><br><span class="line">最接近的值为1.003548160754847</span><br><span class="line">0.003548160754847096</span><br></pre></td></tr></table></figure><h3 id="列表的升序与降序"><a href="#列表的升序与降序" class="headerlink" title="列表的升序与降序"></a>列表的升序与降序</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s = [<span class="number">5</span>, <span class="number">3</span>, <span class="number">18</span>, <span class="number">9</span>,<span class="number">11</span>]</span><br><span class="line">s.sort()</span><br><span class="line"><span class="built_in">print</span>(s)</span><br><span class="line">s.reverse()</span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure><p>输出:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[3, 5, 9, 11, 18]</span><br><span class="line">[18, 11, 9, 5, 3]</span><br></pre></td></tr></table></figure><h3 id="递归与阶乘"><a href="#递归与阶乘" class="headerlink" title="递归与阶乘"></a>递归与阶乘</h3><p>递归：  例：  5！  （5的递归）</p><p>5！=1 * 2 * 3 * 4 * 5</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sums=<span class="number">1</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">computation</span>(<span class="params">degital</span>):</span><br><span class="line">    <span class="keyword">global</span> sums</span><br><span class="line">    sums =sums * degital</span><br><span class="line">    <span class="keyword">if</span> degital == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> sums</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> computation(degital - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">c=<span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入一个数,计算阶乘:&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(computation(c))</span><br></pre></td></tr></table></figure><p><strong>想明白!!!!!</strong></p><p>当 为 1的时候,return 1。</p><p>当递归到1的时候，返回1于之一乘，得到结果。否则会无限循环下去。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">computation</span>(<span class="params">degital</span>):</span><br><span class="line">    <span class="keyword">if</span> degital == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> computation(degital - <span class="number">1</span>) * degital</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">c = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入一个数,计算阶乘:&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(computation(c))</span><br></pre></td></tr></table></figure><h3 id="递归与斐波那契数列"><a href="#递归与斐波那契数列" class="headerlink" title="递归与斐波那契数列"></a>递归与斐波那契数列</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">rabbit</span>(<span class="params">month</span>):</span><br><span class="line">    <span class="keyword">if</span> month &lt;= <span class="number">1</span>:  <span class="comment">#1或0时，返回1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> rabbit(month - <span class="number">1</span>) + rabbit(month - <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">lists = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    lists.append(rabbit(i))</span><br><span class="line"><span class="built_in">print</span>(lists)</span><br></pre></td></tr></table></figure><p>输出:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[1, 1, 2, 3, 5, 8, 13, 21, 34, 55]</span><br></pre></td></tr></table></figure><h3 id="验证码生成"><a href="#验证码生成" class="headerlink" title="验证码生成"></a>验证码生成</h3><p>增加要求:</p><p>1、首位不能为数字</p><p>2、必须同时含有小写字母、大写字母和数字</p><p>思路:循环生成每位验证码,第一次循环即是首位,让其从大写字母和小写字母中选一.</p><p>同时拥有:可以随机生成出验证码后,给予判断,是否满足条件,满足输出,不满足再重新调用.直到满足为止.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawCode</span>():</span><br><span class="line">    count1 = <span class="number">0</span></span><br><span class="line">    count2 = <span class="number">0</span></span><br><span class="line">    count3 = <span class="number">0</span></span><br><span class="line">    codeList = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            state = randint(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">            <span class="keyword">if</span> state == <span class="number">1</span>:</span><br><span class="line">                count1 += <span class="number">1</span></span><br><span class="line">                f = randint(<span class="number">65</span>, <span class="number">90</span>)</span><br><span class="line">                A = <span class="built_in">chr</span>(f)</span><br><span class="line">                codeList.append(A)</span><br><span class="line">            <span class="keyword">elif</span> state == <span class="number">2</span>:</span><br><span class="line">                count2 += <span class="number">1</span></span><br><span class="line">                s = randint(<span class="number">97</span>, <span class="number">122</span>)</span><br><span class="line">                a = <span class="built_in">chr</span>(s)</span><br><span class="line">                codeList.append(a)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            state = randint(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">            <span class="keyword">if</span> state == <span class="number">1</span>:</span><br><span class="line">                count1 += <span class="number">1</span></span><br><span class="line">                f = randint(<span class="number">65</span>, <span class="number">90</span>)</span><br><span class="line">                A = <span class="built_in">chr</span>(f)</span><br><span class="line">                codeList.append(A)</span><br><span class="line">            <span class="keyword">elif</span> state == <span class="number">2</span>:</span><br><span class="line">                count2 += <span class="number">1</span></span><br><span class="line">                s = randint(<span class="number">97</span>, <span class="number">122</span>)</span><br><span class="line">                a = <span class="built_in">chr</span>(s)</span><br><span class="line">                codeList.append(a)</span><br><span class="line">            <span class="keyword">elif</span> state == <span class="number">3</span>:</span><br><span class="line">                count3 += <span class="number">1</span></span><br><span class="line">                t = randint(<span class="number">0</span>, <span class="number">9</span>)</span><br><span class="line">                num = <span class="built_in">str</span>(t)</span><br><span class="line">                codeList.append(num)</span><br><span class="line">    <span class="keyword">if</span> count1 == <span class="number">0</span> <span class="keyword">or</span> count2 == <span class="number">0</span> <span class="keyword">or</span> count3 == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">list</span>.clear(codeList)</span><br><span class="line">        drawCode()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        CheckCode = <span class="string">&quot;&quot;</span>.join(codeList)</span><br><span class="line">        <span class="built_in">print</span>(CheckCode)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">    drawCode()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="读取文件计词-jieba中文模块"><a href="#读取文件计词-jieba中文模块" class="headerlink" title="读取文件计词(jieba中文模块)"></a>读取文件计词(jieba中文模块)</h3><p><strong>三国演义</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">txt = <span class="built_in">open</span>(<span class="string">r&quot;C:\Users\Administrator\Desktop\三国演义.txt&quot;</span>, <span class="string">&quot;rb&quot;</span>).read()</span><br><span class="line">excludes = &#123;<span class="string">&quot;却说&quot;</span>, <span class="string">&quot;将军&quot;</span>, <span class="string">&quot;二人&quot;</span>, <span class="string">&quot;商议&quot;</span>, <span class="string">&quot;不可&quot;</span>&#125;</span><br><span class="line">words = jieba.lcut(txt)</span><br><span class="line">counts = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(word) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> word == <span class="string">&quot;诸葛亮&quot;</span>:</span><br><span class="line">        rword = <span class="string">&quot;孔明&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> word == <span class="string">&quot;曹贼&quot;</span>:</span><br><span class="line">        rword = <span class="string">&quot;曹操&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        rword = word</span><br><span class="line">    counts[rword] = counts.get(rword, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> excludes:</span><br><span class="line">    <span class="keyword">del</span> counts[word]</span><br><span class="line"></span><br><span class="line">items = <span class="built_in">list</span>(counts.items())</span><br><span class="line">items.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">    word, count = items[i]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;0:5&#125;&#123;1:5&#125;次&quot;</span>.<span class="built_in">format</span>(word, count))</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>水浒传</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> jieba</span><br><span class="line"></span><br><span class="line">txt = <span class="built_in">open</span>(<span class="string">r&quot;C:\Users\Administrator\Desktop\水浒传.txt&quot;</span>, <span class="string">&quot;rb&quot;</span>).read()</span><br><span class="line">excludes = &#123;<span class="string">&quot;两个&quot;</span>, <span class="string">&quot;一个&quot;</span>, <span class="string">&quot;只见&quot;</span>, <span class="string">&quot;如何&quot;</span>, <span class="string">&quot;那里&quot;</span>, <span class="string">&quot;哥哥&quot;</span>, <span class="string">&quot;说道&quot;</span>, <span class="string">&quot;众人&quot;</span>, <span class="string">&quot;头领&quot;</span>, <span class="string">&quot;这里&quot;</span>, <span class="string">&quot;兄弟&quot;</span>, <span class="string">&quot;出来&quot;</span>, <span class="string">&quot;小人&quot;</span>, <span class="string">&quot;这个&quot;</span>, <span class="string">&quot;今日&quot;</span>&#125;</span><br><span class="line">words = jieba.lcut(txt)</span><br><span class="line">counts = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> words:</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(word) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">elif</span> word == <span class="string">&quot;黑鬼&quot;</span>:</span><br><span class="line">        rword = <span class="string">&quot;李逵&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        rword = word</span><br><span class="line">    counts[rword] = counts.get(rword, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> word <span class="keyword">in</span> excludes:</span><br><span class="line">    <span class="keyword">del</span> counts[word]</span><br><span class="line"></span><br><span class="line">items = <span class="built_in">list</span>(counts.items())</span><br><span class="line">items.sort(key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>], reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">108</span>):</span><br><span class="line">    word, count = items[i]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;&#123;0:5&#125;&#123;1:5&#125;次&quot;</span>.<span class="built_in">format</span>(word, count))</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="字典操作"><a href="#字典操作" class="headerlink" title="字典操作"></a>字典操作</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dict_demo = &#123;<span class="string">&quot;k1&quot;</span>: <span class="string">&quot;v1&quot;</span>, <span class="string">&quot;k2&quot;</span>: <span class="string">&quot;v2&quot;</span>, <span class="string">&quot;k3&quot;</span>: <span class="string">&quot;v3&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(dict_demo.keys())  //获取所有键</span><br><span class="line"><span class="built_in">print</span>(dict_demo.values())  //获取所有值</span><br><span class="line"><span class="built_in">print</span>(dict_demo.items())  //获取所有键值</span><br><span class="line">dict_demo[<span class="string">&quot;k4&quot;</span>] = <span class="string">&quot;v4&quot;</span>  //添加 k4 = v4</span><br><span class="line">dict_demo[<span class="string">&quot;k5&quot;</span>] = <span class="string">&quot;v6&quot;</span></span><br><span class="line"><span class="built_in">print</span>(dict_demo.items())  </span><br><span class="line">dict_demo[<span class="string">&quot;k5&quot;</span>] = <span class="string">&quot;v5&quot;</span>  //将键为k5的值更改为v5</span><br><span class="line"><span class="built_in">print</span>(dict_demo.items())  </span><br><span class="line"><span class="built_in">print</span>(dict_demo.clear())  //清空字典</span><br></pre></td></tr></table></figure><h3 id="删除列表中重复的值"><a href="#删除列表中重复的值" class="headerlink" title="删除列表中重复的值"></a>删除列表中重复的值</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"></span><br><span class="line">N_list = []</span><br><span class="line">N = <span class="built_in">eval</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入N(小于1000):&quot;</span>))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(N):</span><br><span class="line">    N_list.append(r.randint(<span class="number">1</span>, <span class="number">1000</span>))</span><br><span class="line">N_list.sort()</span><br><span class="line"><span class="built_in">print</span>(N_list)</span><br><span class="line">L_list = []</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">    <span class="keyword">if</span> n <span class="keyword">in</span> N_list:</span><br><span class="line">        L_list.append(n)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(L_list)</span><br></pre></td></tr></table></figure><h3 id="数字转换为汉字字符"><a href="#数字转换为汉字字符" class="headerlink" title="数字转换为汉字字符"></a>数字转换为汉字字符</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">input</span>(<span class="string">&quot;输入数字：&quot;</span>)</span><br><span class="line"></span><br><span class="line">n_List = <span class="built_in">list</span>(num)</span><br><span class="line">rn_List = []</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> n_List:</span><br><span class="line">    <span class="keyword">if</span> n == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;壹&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;2&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;贰&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;3&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;三&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;4&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;肆&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;5&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;伍&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;6&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;六&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;7&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;七&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;8&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;八&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;9&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;九&quot;</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="string">&quot;.&quot;</span>:</span><br><span class="line">        rn = <span class="string">&quot;点&quot;</span></span><br><span class="line">    rn_List.append(rn)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;&quot;</span>.join(rn_List))</span><br><span class="line"></span><br><span class="line">//输入数字：<span class="number">1.23</span></span><br><span class="line">//壹点贰三</span><br></pre></td></tr></table></figure><h3 id="随机生成8个0-10之间不相同的数"><a href="#随机生成8个0-10之间不相同的数" class="headerlink" title="随机生成8个0~10之间不相同的数"></a>随机生成8个0~10之间不相同的数</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"></span><br><span class="line">N_List = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rom</span>():</span><br><span class="line">    N = r.randint(<span class="number">0</span>, <span class="number">10</span>)</span><br><span class="line">    <span class="keyword">if</span> N <span class="keyword">in</span> N_List:</span><br><span class="line">        rom()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        N_List.append(N)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">8</span>):</span><br><span class="line">    rom()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(N_List)</span><br><span class="line"></span><br><span class="line">//[<span class="number">8</span>, <span class="number">10</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">1</span>, <span class="number">0</span>]</span><br></pre></td></tr></table></figure><h2 id="游戏模块"><a href="#游戏模块" class="headerlink" title="游戏模块"></a>游戏模块</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame</span><br><span class="line"></span><br><span class="line"><span class="comment"># 窗口宽高</span></span><br><span class="line">WINWIDTH = <span class="number">640</span></span><br><span class="line">WINHEIGHT = <span class="number">480</span></span><br><span class="line"><span class="comment"># 颜色设置</span></span><br><span class="line">DARKTURQUOISE = (<span class="number">3</span>, <span class="number">54</span>, <span class="number">73</span>)</span><br><span class="line">YELLOW = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">193</span>)</span><br><span class="line">GRAY = (<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>)</span><br><span class="line"><span class="comment"># 颜色变量</span></span><br><span class="line">BGCOLOR = DARKTURQUOISE</span><br><span class="line">MSGCOLOR = DARKTURQUOISE</span><br><span class="line">MSGBGCOLOR = YELLOW</span><br><span class="line">BTCOLOR = YELLOW</span><br><span class="line">BTTEXTCOLOR = GRAY</span><br><span class="line"><span class="comment"># 初始化帧率</span></span><br><span class="line">FPS = <span class="number">60</span></span><br><span class="line"><span class="comment"># 定义矩形边长</span></span><br><span class="line">BLOCKSIZE = <span class="number">60</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    pygame.init()  <span class="comment"># 初始化模块</span></span><br><span class="line">    WINSET = pygame.display.set_mode((WINWIDTH, WINHEIGHT))  <span class="comment"># 创建窗体</span></span><br><span class="line">    WINSET.fill(BGCOLOR)  <span class="comment"># 填充颜色</span></span><br><span class="line">    pygame.display.set_caption(<span class="string">&#x27;数字推盘&#x27;</span>)  <span class="comment"># 设置标题</span></span><br><span class="line"></span><br><span class="line">    image = pygame.image.load(<span class="string">&#x27;bg1.jpg&#x27;</span>)  <span class="comment"># 加载图片</span></span><br><span class="line">    WINSET.blit(image, (<span class="number">0</span>, <span class="number">0</span>))  <span class="comment"># 绘制图片</span></span><br><span class="line"></span><br><span class="line">    BASICFONT = pygame.font.Font(<span class="string">&#x27;STKAITI.TTF&#x27;</span>, <span class="number">25</span>)  <span class="comment"># 创建字体对象</span></span><br><span class="line">    msgSurf = BASICFONT.render(<span class="string">&#x27;初始化。。。&#x27;</span>, <span class="literal">True</span>, MSGCOLOR, MSGBGCOLOR)  <span class="comment"># 渲染</span></span><br><span class="line">    WINSET.blit(msgSurf, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">    autoSurf = BASICFONT.render(<span class="string">&#x27;自动&#x27;</span>, <span class="literal">True</span>, BTTEXTCOLOR, BTCOLOR)</span><br><span class="line">    autoRect = autoSurf.get_rect()  <span class="comment"># 获取矩形属性</span></span><br><span class="line">    autoRect.x = WINWIDTH - autoRect.width - <span class="number">10</span>  <span class="comment"># 横坐标</span></span><br><span class="line">    autoRect.y = WINHEIGHT - autoRect.height - <span class="number">10</span>  <span class="comment"># 纵坐标</span></span><br><span class="line">    WINSET.blit(autoSurf, autoRect)  <span class="comment"># 绘制字体</span></span><br><span class="line">    <span class="comment"># 绘制矩形</span></span><br><span class="line">    blockRect = pygame.Rect(<span class="number">0.5</span> * (WINWIDTH - BLOCKSIZE), <span class="number">0.5</span> * (WINHEIGHT - BLOCKSIZE), BLOCKSIZE, BLOCKSIZE)</span><br><span class="line">    pygame.draw.rect(WINSET, BTCOLOR, blockRect)</span><br><span class="line">    <span class="comment"># 绘制数字</span></span><br><span class="line">    numSurf = BASICFONT.render(<span class="string">&#x27;5&#x27;</span>, <span class="literal">True</span>, BTTEXTCOLOR, BTCOLOR)</span><br><span class="line">    numRect = numSurf.get_rect()</span><br><span class="line">    numRect.x = blockRect.x + <span class="number">0.5</span> * (BLOCKSIZE - numRect.width)</span><br><span class="line">    numRect.y = blockRect.y + <span class="number">0.5</span> * (BLOCKSIZE - numRect.height)</span><br><span class="line"></span><br><span class="line">    baseSurf = WINSET.copy()  <span class="comment"># 背景</span></span><br><span class="line">    FPSCLOCK = pygame.time.Clock()  <span class="comment"># 创建Clock对象</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BLOCKSIZE, <span class="number">2</span>):</span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 设置帧率</span></span><br><span class="line">        pygame.draw.rect(WINSET, BTCOLOR, blockRect)</span><br><span class="line">        WINSET.blit(numSurf, numRect)</span><br><span class="line"></span><br><span class="line">        pygame.display.update()  <span class="comment"># 窗口刷新</span></span><br><span class="line">        blockRect.x += <span class="number">10</span>  <span class="comment"># 修改坐标,让其向右移动</span></span><br><span class="line">        numRect.x += <span class="number">10</span></span><br><span class="line">        WINSET.blit(baseSurf, (<span class="number">0</span>, <span class="number">0</span>))  <span class="comment"># 备份baseSurf覆盖WINSET</span></span><br><span class="line"></span><br><span class="line">    pygame.quit()  <span class="comment"># 模块卸载</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="测试版10-15-23-02"><a href="#测试版10-15-23-02" class="headerlink" title="测试版10/15/23/02"></a>测试版10/15/23/02</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, random, sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pygame.<span class="built_in">locals</span> <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> define <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pygame <span class="keyword">import</span> K_ESCAPE, KEYUP, QUIT, MOUSEBUTTONUP</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化窗口宽高</span></span><br><span class="line">WINWIDTH = <span class="number">640</span></span><br><span class="line">WINHEIGHT = <span class="number">480</span></span><br><span class="line"><span class="comment"># 初始化推盘行列和空格</span></span><br><span class="line">ROW = <span class="number">3</span></span><br><span class="line">COL = <span class="number">3</span></span><br><span class="line">BLANK = <span class="literal">None</span></span><br><span class="line"><span class="comment"># 颜色预设</span></span><br><span class="line">DARKGRAY = (<span class="number">60</span>, <span class="number">60</span>, <span class="number">60</span>)</span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">YELLOW = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">193</span>)</span><br><span class="line">GRAY = (<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>)</span><br><span class="line">BRIGHTBLUE = (<span class="number">138</span>, <span class="number">228</span>, <span class="number">221</span>)</span><br><span class="line"><span class="comment"># 颜色变量</span></span><br><span class="line">BLANKCOLOR = DARKGRAY</span><br><span class="line">MSGCOLOR = WHITE</span><br><span class="line">BTCOLOR = YELLOW</span><br><span class="line">BTTEXTCOLOR = GRAY</span><br><span class="line">BDCOLOR = BRIGHTBLUE</span><br><span class="line"><span class="comment"># 静态常量</span></span><br><span class="line">BLOCKSIZE = <span class="number">80</span></span><br><span class="line">FPS = <span class="number">60</span></span><br><span class="line">UP = <span class="string">&#x27;up&#x27;</span></span><br><span class="line">DOWN = <span class="string">&#x27;down&#x27;</span></span><br><span class="line">LEFT = <span class="string">&#x27;left&#x27;</span></span><br><span class="line">RIGHT = <span class="string">&#x27;right&#x27;</span></span><br><span class="line">NEWGAME = <span class="string">&#x27;newgame&#x27;</span></span><br><span class="line">AUTOMOVE = random.randint(<span class="number">50</span>, <span class="number">100</span>)  <span class="comment"># 随机移动次数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文本对象创建</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makeText</span>(<span class="params">text, tColor, btColor, top, left</span>):</span><br><span class="line">    textSurf = BASICFONT.render(text, <span class="literal">True</span>, tColor, btColor)</span><br><span class="line">    textRect = textSurf.get_rect()</span><br><span class="line">    textRect.topleft = (top, left)</span><br><span class="line">    <span class="keyword">return</span> textSurf, textRect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制方块在窗口(tilex,tiley)处</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawTile</span>(<span class="params">tilex, tiley, number, adjx=<span class="number">0</span>, adjy=<span class="number">0</span></span>):</span><br><span class="line">    left, top = getLeftTopOfTile(tilex, tiley)</span><br><span class="line">    pygame.draw.rect(WINSET, BTCOLOR, (left + adjx, top + adjy, BLOCKSIZE, BLOCKSIZE))</span><br><span class="line">    textSurf = BASICFONT.render(<span class="built_in">str</span>(number), <span class="literal">True</span>, BTTEXTCOLOR)</span><br><span class="line">    textRect = textSurf.get_rect()</span><br><span class="line">    textRect.center = left + <span class="built_in">int</span>(BLOCKSIZE / <span class="number">2</span>) + adjx, top + <span class="built_in">int</span>(BLOCKSIZE / <span class="number">2</span>) + adjy</span><br><span class="line">    WINSET.blit(textSurf, textRect)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算方块距离窗口原点纵横坐标距离</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getLeftTopOfTile</span>(<span class="params">tilex, tiley</span>):</span><br><span class="line">    xMargin = <span class="built_in">int</span>((WINWIDTH - (BLOCKSIZE * COL + (COL - <span class="number">1</span>))) / <span class="number">2</span>)</span><br><span class="line">    yMargin = <span class="built_in">int</span>((WINWIDTH - (BLOCKSIZE * ROW + (ROW - <span class="number">1</span>))) / <span class="number">2</span>)</span><br><span class="line">    left = xMargin + (tilex * BLOCKSIZE) + (tilex - <span class="number">1</span>)</span><br><span class="line">    top = yMargin + (tiley * BLOCKSIZE) + (tiley - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> left, top</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 静态界面绘制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">darwStaticWin</span>():</span><br><span class="line">    winSet = pygame.display.set_mode((WINWIDTH, WINHEIGHT))</span><br><span class="line">    pygame.display.set_caption(<span class="string">&#x27;数字华容道&#x27;</span>)</span><br><span class="line">    image = pygame.image.load(<span class="string">&#x27;bg.jpg&#x27;</span>)</span><br><span class="line">    winSet.blit(image, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    <span class="comment"># 按钮创建</span></span><br><span class="line">    new_surf, new_rect = makeText(<span class="string">&#x27;新游戏&#x27;</span>, BTTEXTCOLOR, BTCOLOR, WINWIDTH - <span class="number">85</span>, WINHEIGHT - <span class="number">40</span>)</span><br><span class="line">    winSet.blit(new_surf, new_rect)</span><br><span class="line">    <span class="keyword">return</span> winSet, new_surf, new_rect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态界面绘制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawBoard</span>(<span class="params">board, msg</span>):</span><br><span class="line">    WINSET.blit(STATICSURF, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    <span class="keyword">if</span> msg:</span><br><span class="line">        msgSurf, msgRect = makeText(msg, MSGCOLOR, <span class="literal">None</span>, <span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">        pygame.image.save(msgSurf, <span class="string">&#x27;msg.png&#x27;</span>)</span><br><span class="line">        imgSurf = pygame.image.load(<span class="string">&#x27;msg.png&#x27;</span>)</span><br><span class="line">        WINSET.blit(imgSurf, msgRect)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board[<span class="number">0</span>])):</span><br><span class="line">            <span class="keyword">if</span> board[i][j]:</span><br><span class="line">                drawTile(i, j, board[i][j])</span><br><span class="line"></span><br><span class="line">    left, top = getLeftTopOfTile(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">    width = COL * BLOCKSIZE</span><br><span class="line">    height = ROW * BLOCKSIZE</span><br><span class="line">    pygame.draw.rect(WINSET, BDCOLOR, (left - <span class="number">5</span>, top - <span class="number">5</span>, width + <span class="number">11</span>, height + <span class="number">11</span>), <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成推盘序列</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getStartingBoard</span>():</span><br><span class="line">    initBoard = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(COL):</span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">        colum = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(ROW):</span><br><span class="line">            colum.append(i)</span><br><span class="line">            i += COL  <span class="comment"># 按列添加,非顺序添加</span></span><br><span class="line">        initBoard.append(colum)</span><br><span class="line">    initBoard[ROW - <span class="number">1</span>][COL - <span class="number">1</span>] = BLANK</span><br><span class="line">    <span class="keyword">return</span> initBoard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动交换元素位置</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makeMove</span>(<span class="params">board, move</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> move == UP:</span><br><span class="line">        board[blankx][blanky], board[blankx][blanky + <span class="number">1</span>] = board[blankx][blanky + <span class="number">1</span>], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == DOWN:</span><br><span class="line">        board[blankx][blanky], board[blankx][blanky - <span class="number">1</span>] = board[blankx][blanky - <span class="number">1</span>], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == LEFT:</span><br><span class="line">        board[blankx][blanky], board[blankx + <span class="number">1</span>][blanky] = board[blankx + <span class="number">1</span>][blanky], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == RIGHT:</span><br><span class="line">        board[blankx][blanky], board[blankx - <span class="number">1</span>][blanky] = board[blankx - <span class="number">1</span>][blanky], board[blankx][blanky]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动的动画效果</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">slideAnimation</span>(<span class="params">board, direction, msg, animationSpeed</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)  <span class="comment"># 获取空格的行列坐标</span></span><br><span class="line">    <span class="comment"># 获取被移动的方块所在的行列</span></span><br><span class="line">    <span class="keyword">if</span> direction == UP:</span><br><span class="line">        movex = blankx</span><br><span class="line">        movey = blanky + <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> direction == DOWN:</span><br><span class="line">        movex = blankx</span><br><span class="line">        movey = blanky - <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> direction == LEFT:</span><br><span class="line">        movex = blankx + <span class="number">1</span></span><br><span class="line">        movey = blanky</span><br><span class="line">    <span class="keyword">elif</span> direction == RIGHT:</span><br><span class="line">        movex = blankx - <span class="number">1</span></span><br><span class="line">        movey = blanky</span><br><span class="line">    drawBoard(board, msg)</span><br><span class="line">    BASESURF = WINSET.copy()  <span class="comment"># 复制此刻背景作为Surface对象</span></span><br><span class="line">    <span class="comment"># 绘制空白快</span></span><br><span class="line">    moveLeft, moveTop = getLeftTopOfTile(movex, movey)</span><br><span class="line">    pygame.draw.rect(BASESURF, BLANKCOLOR, (moveLeft, moveTop, BLOCKSIZE, BLOCKSIZE))</span><br><span class="line">    <span class="comment"># 连续绘制被移动的方块</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BLOCKSIZE, animationSpeed):</span><br><span class="line">        checkForQuit()</span><br><span class="line">        WINSET.blit(BASESURF, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        <span class="keyword">if</span> direction == UP:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], <span class="number">0</span>, -i)</span><br><span class="line">        <span class="keyword">if</span> direction == DOWN:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], <span class="number">0</span>, i)</span><br><span class="line">        <span class="keyword">if</span> direction == LEFT:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], -i, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> direction == RIGHT:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], i, <span class="number">0</span>)</span><br><span class="line">        pygame.display.update()  <span class="comment"># 更新界面</span></span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 控制帧率</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断无效移动</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isValidMove</span>(<span class="params">board, direction</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> blankx == <span class="number">1</span> <span class="keyword">and</span> direction == DOWN:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blankx == <span class="number">3</span> <span class="keyword">and</span> direction == UP:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">1</span> <span class="keyword">and</span> direction == RIGHT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">3</span> <span class="keyword">and</span> direction == LEFT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取随机移动的方向</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getRandomMove</span>(<span class="params">board, lastMove=<span class="literal">None</span></span>):</span><br><span class="line">    validMoves = [UP, DOWN, LEFT, RIGHT]</span><br><span class="line">    <span class="keyword">if</span> lastMove == UP <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, DOWN):</span><br><span class="line">        validMoves.remove(DOWN)</span><br><span class="line">    <span class="keyword">if</span> lastMove == DOWN <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, UP):</span><br><span class="line">        validMoves.remove(UP)</span><br><span class="line">    <span class="keyword">if</span> lastMove == LEFT <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, RIGHT):</span><br><span class="line">        validMoves.remove(RIGHT)</span><br><span class="line">    <span class="keyword">if</span> lastMove == RIGHT <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, LEFT):</span><br><span class="line">        validMoves.remove(LEFT)</span><br><span class="line">    <span class="keyword">return</span> random.choice(validMoves)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化推盘</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generateNewPuzzle</span>(<span class="params">numSlides</span>):</span><br><span class="line">    mianBoard = getStartingBoard()  <span class="comment"># 获取拼图</span></span><br><span class="line">    drawBoard(mianBoard, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    lastMove = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numSlides):</span><br><span class="line">        move = getRandomMove(mianBoard, lastMove)</span><br><span class="line">        slideAnimation(mianBoard, move, <span class="string">&#x27;初始化...&#x27;</span>, animationSpeed=<span class="built_in">int</span>(BLOCKSIZE / <span class="number">3</span>))</span><br><span class="line">        makeMove(mianBoard, move)</span><br><span class="line">        lastMove = move</span><br><span class="line">    <span class="keyword">return</span> mianBoard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getBlankPosition</span>(<span class="params">board</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(COL):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(ROW):</span><br><span class="line">            <span class="keyword">if</span> board[x][y] == BLANK:</span><br><span class="line">                <span class="keyword">return</span> (x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getSpotClicked</span>(<span class="params">board, x, y</span>):</span><br><span class="line">    <span class="keyword">for</span> tilex <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">        <span class="keyword">for</span> tiley <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board[<span class="number">0</span>])):</span><br><span class="line">            left, top = getLeftTopOfTile(tilex, tiley)</span><br><span class="line">            tileRect = pygame.Rect(left, top, BLOCKSIZE, BLOCKSIZE)</span><br><span class="line">            <span class="keyword">if</span> tileRect.collidepoint(x, y):  <span class="comment"># 如果产生碰撞</span></span><br><span class="line">                <span class="keyword">return</span> tilex, tiley  <span class="comment"># 返回行列</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取用户输入</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getInput</span>(<span class="params">mainBoard</span>):</span><br><span class="line">    events = pygame.event.get()</span><br><span class="line">    userInput = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> events:</span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == MOUSEBUTTONUP:</span><br><span class="line">            <span class="comment"># 获取位置关系</span></span><br><span class="line">            spotx, spoty = getSpotClicked(mainBoard, event.pos[<span class="number">0</span>], event.pos[<span class="number">1</span>])</span><br><span class="line">            <span class="comment"># 坐标不在拼图区域,点击的新游戏</span></span><br><span class="line">            <span class="keyword">if</span> (spotx, spoty) == (<span class="literal">None</span>, <span class="literal">None</span>) <span class="keyword">and</span> NEW_RECT.collidepoint(event.pos):</span><br><span class="line">                userInput = NEWGAME</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 如果已完成,点击非选项时不移动</span></span><br><span class="line">                <span class="keyword">if</span> mainBoard == getStartingBoard():</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="comment"># 点击位置是否在BLANK旁边</span></span><br><span class="line">                blankx, blanky = getBlankPosition(mainBoard)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> spotx == blankx + <span class="number">1</span> <span class="keyword">and</span> spoty == blanky:</span><br><span class="line">                    userInput == LEFT  <span class="comment"># 设置移动方向</span></span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx - <span class="number">1</span> <span class="keyword">and</span> spoty == blanky:</span><br><span class="line">                    userInput = RIGHT</span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx <span class="keyword">and</span> spoty == blanky + <span class="number">1</span>:</span><br><span class="line">                    userInput = UP</span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx <span class="keyword">and</span> spoty == blanky - <span class="number">1</span>:</span><br><span class="line">                    userInput = DOWN</span><br><span class="line">    <span class="keyword">return</span> userInput</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对用户输入进行处理</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">processing</span>(<span class="params">userInput, mainBoard, msg</span>):</span><br><span class="line">    <span class="keyword">if</span> mainBoard == getStartingBoard():</span><br><span class="line">        msg = <span class="string">&#x27;完成&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        msg = <span class="string">&#x27;通过鼠标移动方块&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> userInput:</span><br><span class="line">        <span class="comment"># 功能按钮</span></span><br><span class="line">        <span class="keyword">if</span> userInput == NEWGAME:</span><br><span class="line">            initBoard = getStartingBoard()</span><br><span class="line">            mainBoard = generateNewPuzzle(numSlides)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 方块移动</span></span><br><span class="line">            slideAnimation(mainBoard, userInput, msg, <span class="number">8</span>)</span><br><span class="line">            makeMove(mainBoard, userInput)</span><br><span class="line">    <span class="keyword">return</span> mainBoard, msg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 资源回收与程序退出</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">terminate</span>():</span><br><span class="line">    pygame.quit()</span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出判断</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">checkForQuit</span>():</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get(QUIT):  <span class="comment"># 获取所有可能会导致退出的事件</span></span><br><span class="line">        terminate()  <span class="comment"># 执行退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get(KEYUP):  <span class="comment"># 按下ESC键退出</span></span><br><span class="line">        <span class="keyword">if</span> event.key == K_ESCAPE:</span><br><span class="line">            terminate()</span><br><span class="line">        pygame.event.post(event)  <span class="comment"># 发送事件至消息列队</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># FPSCLOCK Clock对象</span></span><br><span class="line">    <span class="comment"># WINSET 窗体Surface对象</span></span><br><span class="line">    <span class="comment"># STATICSURF 静态窗体Surface对象</span></span><br><span class="line">    <span class="comment"># BASICFONT 字体对象</span></span><br><span class="line">    <span class="comment"># NEW_SURF &quot;新游戏&quot;Surface对象,一张内容为文字的图片  调用字体对象的render()方法,渲染为Surface对象显示</span></span><br><span class="line">    <span class="comment"># NEW_RECT get_rect()方法获取的&quot;新游戏&quot;矩形属性</span></span><br><span class="line">    <span class="keyword">global</span> FPSCLOCK, WINSET, STATICSURF, BASICFONT  <span class="comment"># 定义全局变量</span></span><br><span class="line">    <span class="keyword">global</span> NEW_SURF, NEW_RECT</span><br><span class="line"></span><br><span class="line">    pygame.init()</span><br><span class="line">    FPSCLOCK = pygame.time.Clock()  <span class="comment"># 创建一个Clock对象,并使用变量FPSCLOCK保存</span></span><br><span class="line">    BASICFONT = pygame.font.Font(<span class="string">&#x27;STKAITI.TTF&#x27;</span>, <span class="number">25</span>)  <span class="comment"># 定义返回一个字体对象,并使用变量BASICFONT保存</span></span><br><span class="line">    WINSET, NEW_SURF, NEW_RECT = darwStaticWin()  <span class="comment"># 创建静态窗口</span></span><br><span class="line">    STATICSURF = WINSET.copy()  <span class="comment"># 复制一个静态窗口作为底板</span></span><br><span class="line">    mainBoard = generateNewPuzzle(AUTOMOVE)  <span class="comment"># 初始化</span></span><br><span class="line">    msg = <span class="literal">None</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 设置帧率</span></span><br><span class="line">        drawBoard(mainBoard, msg)  <span class="comment"># 动态界面绘制</span></span><br><span class="line">        pygame.display.update()</span><br><span class="line">        checkForQuit()  <span class="comment"># 判断是否终止</span></span><br><span class="line">        userInput = getInput(mainBoard)  <span class="comment"># 获取输入</span></span><br><span class="line">        mainBoard, msg = processing(userInput, mainBoard, msg)  <span class="comment"># 输入处理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="测试10-1"><a href="#测试10-1" class="headerlink" title="测试10/1"></a>测试10/1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, random, sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pygame.<span class="built_in">locals</span> <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> define <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化窗口宽高</span></span><br><span class="line">WINWIDTH = <span class="number">640</span></span><br><span class="line">WINHEIGHT = <span class="number">480</span></span><br><span class="line"><span class="comment"># 初始化推盘行列和空格</span></span><br><span class="line">ROW = <span class="number">3</span></span><br><span class="line">COL = <span class="number">3</span></span><br><span class="line">BLANK = <span class="literal">None</span></span><br><span class="line"><span class="comment"># 颜色预设</span></span><br><span class="line">DARKGRAY = (<span class="number">60</span>, <span class="number">60</span>, <span class="number">60</span>)</span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">YELLOW = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">193</span>)</span><br><span class="line">GRAY = (<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>)</span><br><span class="line">BRIGHTBLUE = (<span class="number">138</span>, <span class="number">228</span>, <span class="number">221</span>)</span><br><span class="line"><span class="comment"># 颜色变量</span></span><br><span class="line">BLANKCOLOR = DARKGRAY</span><br><span class="line">MSGCOLOR = WHITE</span><br><span class="line">BTCOLOR = YELLOW</span><br><span class="line">BTTEXTCOLOR = GRAY</span><br><span class="line">BDCOLOR = BRIGHTBLUE</span><br><span class="line"><span class="comment"># 静态常量</span></span><br><span class="line">BLOCKSIZE = <span class="number">80</span>  <span class="comment"># 方块大小</span></span><br><span class="line">FPS = <span class="number">60</span>  <span class="comment"># 帧率</span></span><br><span class="line"><span class="comment"># 按键事件</span></span><br><span class="line">UP = <span class="string">&#x27;up&#x27;</span></span><br><span class="line">DOWN = <span class="string">&#x27;down&#x27;</span></span><br><span class="line">LEFT = <span class="string">&#x27;left&#x27;</span></span><br><span class="line">RIGHT = <span class="string">&#x27;right&#x27;</span></span><br><span class="line">NEWGAME = <span class="string">&#x27;newgame&#x27;</span></span><br><span class="line"><span class="comment"># 随机移动次数</span></span><br><span class="line">AUTOMOVE = random.randint(<span class="number">50</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># AUTOMOVE = 80</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文本对象创建</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makeText</span>(<span class="params">text, tColor, btColor, top, left</span>):</span><br><span class="line">    textSurf = BASICFONT.render(text, <span class="literal">True</span>, tColor, btColor)</span><br><span class="line">    textRect = textSurf.get_rect()</span><br><span class="line">    textRect.topleft = (top, left)</span><br><span class="line">    <span class="keyword">return</span> textSurf, textRect  <span class="comment"># 将字体渲染的Surface对象,Surface对象的矩形属性</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制方块在窗口(tilex,tiley)处,adjx与adjy为偏移量,可选参数默认值为0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawTile</span>(<span class="params">tilex, tiley, number, adjx=<span class="number">0</span>, adjy=<span class="number">0</span></span>):</span><br><span class="line">    left, top = getLeftTopOfTile(tilex, tiley)</span><br><span class="line">    <span class="comment"># 绘制方块</span></span><br><span class="line">    pygame.draw.rect(WINSET, BTCOLOR, (left + adjx, top + adjy, BLOCKSIZE, BLOCKSIZE))</span><br><span class="line">    <span class="comment"># 将数字number渲染到方块上</span></span><br><span class="line">    textSurf = BASICFONT.render(<span class="built_in">str</span>(number), <span class="literal">True</span>, BTTEXTCOLOR)</span><br><span class="line">    <span class="comment"># 获取矩形属性</span></span><br><span class="line">    textRect = textSurf.get_rect()</span><br><span class="line">    <span class="comment"># print(textRect)</span></span><br><span class="line">    textRect.center = left + <span class="built_in">int</span>(BLOCKSIZE / <span class="number">2</span>) + adjx, top + <span class="built_in">int</span>(BLOCKSIZE / <span class="number">2</span>) + adjy</span><br><span class="line">    <span class="comment"># print(textRect.center)</span></span><br><span class="line">    <span class="comment"># print(textRect)</span></span><br><span class="line">    <span class="comment"># 绘制到静态窗口上</span></span><br><span class="line">    WINSET.blit(textSurf, textRect)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算方块左上角 距离窗口原点纵横坐标距离</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getLeftTopOfTile</span>(<span class="params">tilex, tiley</span>):</span><br><span class="line">    <span class="comment"># 先计算左上角方块的距离</span></span><br><span class="line">    xMargin = <span class="built_in">int</span>((WINWIDTH - (BLOCKSIZE * COL + (COL - <span class="number">1</span>))) / <span class="number">2</span>)  <span class="comment"># 199</span></span><br><span class="line">    yMargin = <span class="built_in">int</span>((WINHEIGHT - (BLOCKSIZE * ROW + (ROW - <span class="number">1</span>))) / <span class="number">2</span>)  <span class="comment"># 119</span></span><br><span class="line">    <span class="comment"># print(xMargin,yMargin)</span></span><br><span class="line">    <span class="comment"># print(tilex, tiley) ?</span></span><br><span class="line">    left = xMargin + (tilex * BLOCKSIZE) + (tilex - <span class="number">1</span>)</span><br><span class="line">    top = yMargin + (tiley * BLOCKSIZE) + (tiley - <span class="number">1</span>)</span><br><span class="line">    <span class="comment"># print(left, top)</span></span><br><span class="line">    <span class="keyword">return</span> left, top</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 静态界面绘制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">darwStaticWin</span>():</span><br><span class="line">    winSet = pygame.display.set_mode((WINWIDTH, WINHEIGHT))</span><br><span class="line">    pygame.display.set_caption(<span class="string">&#x27;数字华容道&#x27;</span>)</span><br><span class="line">    image = pygame.image.load(<span class="string">&#x27;bg.jpg&#x27;</span>)</span><br><span class="line">    winSet.blit(image, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    <span class="comment"># 按钮创建</span></span><br><span class="line">    new_surf, new_rect = makeText(<span class="string">&#x27;新游戏&#x27;</span>, BTTEXTCOLOR, BTCOLOR, WINWIDTH - <span class="number">85</span>, WINHEIGHT - <span class="number">40</span>)</span><br><span class="line">    winSet.blit(new_surf, new_rect)</span><br><span class="line">    <span class="keyword">return</span> winSet, new_surf, new_rect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态界面绘制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawBoard</span>(<span class="params">board, msg</span>):</span><br><span class="line">    <span class="comment"># board 推盘列表</span></span><br><span class="line">    WINSET.blit(STATICSURF, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    <span class="keyword">if</span> msg:</span><br><span class="line">        msgSurf, msgRect = makeText(msg, MSGCOLOR, <span class="literal">None</span>, <span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">        pygame.image.save(msgSurf, <span class="string">&#x27;msg.png&#x27;</span>)  <span class="comment"># 将msgSurf存为名为msg.png的图片</span></span><br><span class="line">        imgSurf = pygame.image.load(<span class="string">&#x27;msg.png&#x27;</span>)  <span class="comment"># 加载图片</span></span><br><span class="line">        <span class="comment"># print(msgRect)  # &lt;rect(5, 5, 87, 28)&gt;  矩形属性</span></span><br><span class="line">        WINSET.blit(imgSurf, msgRect)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):  <span class="comment"># 3</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board[<span class="number">0</span>])):  <span class="comment"># 3</span></span><br><span class="line">            <span class="keyword">if</span> board[i][j]:  <span class="comment"># 遍历出不为None的</span></span><br><span class="line">                <span class="comment"># print(board[i][j])</span></span><br><span class="line">                drawTile(i, j, board[i][j])  <span class="comment"># 方块上的数字和所在的行列,绘制方块及数字</span></span><br><span class="line">    <span class="comment"># 绘制外边框</span></span><br><span class="line">    left, top = getLeftTopOfTile(<span class="number">0</span>, <span class="number">0</span>)  <span class="comment"># 198 118</span></span><br><span class="line">    width = COL * BLOCKSIZE  <span class="comment"># 240</span></span><br><span class="line">    height = ROW * BLOCKSIZE  <span class="comment"># 240</span></span><br><span class="line">    pygame.draw.rect(WINSET, BDCOLOR, (left - <span class="number">5</span>, top - <span class="number">5</span>, width + <span class="number">11</span>, height + <span class="number">11</span>), <span class="number">4</span>)  <span class="comment"># 外沿厚度4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成推盘序列</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getStartingBoard</span>():</span><br><span class="line">    initBoard = []  <span class="comment"># 二维列表</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(COL):  <span class="comment"># 列</span></span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">        colum = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(ROW):</span><br><span class="line">            colum.append(i)</span><br><span class="line">            i += COL  <span class="comment"># 按列添加,非顺序添加</span></span><br><span class="line">        initBoard.append(colum)</span><br><span class="line">    initBoard[ROW - <span class="number">1</span>][COL - <span class="number">1</span>] = BLANK  <span class="comment"># 最后一位添加None空格</span></span><br><span class="line">    <span class="comment"># print(initBoard)</span></span><br><span class="line">    <span class="keyword">return</span> initBoard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化推盘,随机移动numSlides(50~100)次</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generateNewPuzzle</span>(<span class="params">numSlides</span>):</span><br><span class="line">    mianBoard = getStartingBoard()  <span class="comment"># 获取拼图列表</span></span><br><span class="line">    drawBoard(mianBoard, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    lastMove = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numSlides):</span><br><span class="line">        move = getRandomMove(mianBoard, lastMove)  <span class="comment"># 获取随机移动的方向</span></span><br><span class="line">        slideAnimation(mianBoard, move, <span class="string">&#x27;初始化...&#x27;</span>, <span class="built_in">int</span>(BLOCKSIZE / <span class="number">3</span>))</span><br><span class="line">        makeMove(mianBoard, move)</span><br><span class="line">        lastMove = move</span><br><span class="line">    <span class="keyword">return</span> mianBoard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动交换元素位置</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makeMove</span>(<span class="params">board, move</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> move == UP:</span><br><span class="line">        board[blankx][blanky], board[blankx][blanky + <span class="number">1</span>] = board[blankx][blanky + <span class="number">1</span>], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == DOWN:</span><br><span class="line">        board[blankx][blanky], board[blankx][blanky - <span class="number">1</span>] = board[blankx][blanky - <span class="number">1</span>], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == LEFT:</span><br><span class="line">        board[blankx][blanky], board[blankx + <span class="number">1</span>][blanky] = board[blankx + <span class="number">1</span>][blanky], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == RIGHT:</span><br><span class="line">        board[blankx][blanky], board[blankx - <span class="number">1</span>][blanky] = board[blankx - <span class="number">1</span>][blanky], board[blankx][blanky]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动的动画效果</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">slideAnimation</span>(<span class="params">board, direction, msg, animationSpeed</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)  <span class="comment"># 获取空格的行列坐标</span></span><br><span class="line">    <span class="comment"># 获取被移动的方块所在的行列</span></span><br><span class="line">    <span class="keyword">if</span> direction == UP:</span><br><span class="line">        movex = blankx</span><br><span class="line">        movey = blanky + <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> direction == DOWN:</span><br><span class="line">        movex = blankx</span><br><span class="line">        movey = blanky - <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> direction == LEFT:</span><br><span class="line">        movex = blankx + <span class="number">1</span></span><br><span class="line">        movey = blanky</span><br><span class="line">    <span class="keyword">elif</span> direction == RIGHT:</span><br><span class="line">        movex = blankx - <span class="number">1</span></span><br><span class="line">        movey = blanky</span><br><span class="line">    drawBoard(board, msg)</span><br><span class="line">    BASESURF = WINSET.copy()  <span class="comment"># 复制此刻背景作为Surface对象</span></span><br><span class="line">    <span class="comment"># 绘制空白块</span></span><br><span class="line">    moveLeft, moveTop = getLeftTopOfTile(movex, movey)</span><br><span class="line">    pygame.draw.rect(BASESURF, BLANKCOLOR, (moveLeft, moveTop, BLOCKSIZE, BLOCKSIZE))</span><br><span class="line">    <span class="comment"># 连续绘制被移动的方块</span></span><br><span class="line">    <span class="comment"># print(animationSpeed)  # 26 方块移动速度</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BLOCKSIZE, <span class="number">1</span>):</span><br><span class="line">        checkForQuit()</span><br><span class="line">        WINSET.blit(BASESURF, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        <span class="keyword">if</span> direction == UP:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], <span class="number">0</span>, -i)</span><br><span class="line">        <span class="keyword">if</span> direction == DOWN:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], <span class="number">0</span>, i)</span><br><span class="line">        <span class="keyword">if</span> direction == LEFT:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], -i, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> direction == RIGHT:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], i, <span class="number">0</span>)</span><br><span class="line">        pygame.display.update()  <span class="comment"># 更新界面</span></span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 控制帧率</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断无效移动</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isValidMove</span>(<span class="params">board, direction</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> blankx == <span class="number">1</span> <span class="keyword">and</span> direction == DOWN:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blankx == <span class="number">3</span> <span class="keyword">and</span> direction == UP:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">1</span> <span class="keyword">and</span> direction == RIGHT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">3</span> <span class="keyword">and</span> direction == LEFT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取随机移动的方向</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getRandomMove</span>(<span class="params">board, lastMove=<span class="literal">None</span></span>):</span><br><span class="line">    validMoves = [UP, DOWN, LEFT, RIGHT]</span><br><span class="line">    <span class="keyword">if</span> lastMove == UP <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, DOWN):</span><br><span class="line">        validMoves.remove(DOWN)</span><br><span class="line">    <span class="keyword">if</span> lastMove == DOWN <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, UP):</span><br><span class="line">        validMoves.remove(UP)</span><br><span class="line">    <span class="keyword">if</span> lastMove == LEFT <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, RIGHT):</span><br><span class="line">        validMoves.remove(RIGHT)</span><br><span class="line">    <span class="keyword">if</span> lastMove == RIGHT <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, LEFT):</span><br><span class="line">        validMoves.remove(LEFT)</span><br><span class="line">    <span class="keyword">return</span> random.choice(validMoves)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getBlankPosition</span>(<span class="params">board</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(COL):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(ROW):</span><br><span class="line">            <span class="keyword">if</span> board[x][y] == BLANK:</span><br><span class="line">                <span class="keyword">return</span> (x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getSpotClicked</span>(<span class="params">board, x, y</span>):</span><br><span class="line">    <span class="keyword">for</span> tilex <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">        <span class="keyword">for</span> tiley <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board[<span class="number">0</span>])):</span><br><span class="line">            left, top = getLeftTopOfTile(tilex, tiley)</span><br><span class="line">            tileRect = pygame.Rect(left, top, BLOCKSIZE, BLOCKSIZE)</span><br><span class="line">            <span class="keyword">if</span> tileRect.collidepoint(x, y):  <span class="comment"># 如果产生碰撞</span></span><br><span class="line">                <span class="keyword">return</span> tilex, tiley  <span class="comment"># 返回行列</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取用户输入</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getInput</span>(<span class="params">mainBoard</span>):</span><br><span class="line">    events = pygame.event.get()</span><br><span class="line">    userInput = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> events:</span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == MOUSEBUTTONUP:</span><br><span class="line">            <span class="comment"># 获取位置关系</span></span><br><span class="line">            spotx, spoty = getSpotClicked(mainBoard, event.pos[<span class="number">0</span>], event.pos[<span class="number">1</span>])</span><br><span class="line">            <span class="comment"># 坐标不在拼图区域,点击的新游戏</span></span><br><span class="line">            <span class="keyword">if</span> (spotx, spoty) == (<span class="literal">None</span>, <span class="literal">None</span>) <span class="keyword">and</span> NEW_RECT.collidepoint(event.pos):</span><br><span class="line">                userInput = NEWGAME</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 如果已完成,点击非选项时不移动</span></span><br><span class="line">                <span class="keyword">if</span> mainBoard == getStartingBoard():</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="comment"># 点击位置是否在BLANK旁边</span></span><br><span class="line">                blankx, blanky = getBlankPosition(mainBoard)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> spotx == blankx + <span class="number">1</span> <span class="keyword">and</span> spoty == blanky:</span><br><span class="line">                    userInput = LEFT  <span class="comment"># 设置移动方向</span></span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx - <span class="number">1</span> <span class="keyword">and</span> spoty == blanky:</span><br><span class="line">                    userInput = RIGHT</span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx <span class="keyword">and</span> spoty == blanky + <span class="number">1</span>:</span><br><span class="line">                    userInput = UP</span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx <span class="keyword">and</span> spoty == blanky - <span class="number">1</span>:</span><br><span class="line">                    userInput = DOWN</span><br><span class="line">    <span class="keyword">return</span> userInput</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对用户输入进行处理</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">processing</span>(<span class="params">userInput, mainBoard, msg</span>):</span><br><span class="line">    <span class="keyword">if</span> mainBoard == getStartingBoard():</span><br><span class="line">        msg = <span class="string">&#x27;完成&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        msg = <span class="string">&#x27;通过鼠标移动方块&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> userInput:</span><br><span class="line">        <span class="comment"># 功能按钮</span></span><br><span class="line">        <span class="keyword">if</span> userInput == NEWGAME:</span><br><span class="line">            initBoard = getStartingBoard()</span><br><span class="line">            mainBoard = generateNewPuzzle(AUTOMOVE)</span><br><span class="line"></span><br><span class="line">            drawBoard(initBoard, msg)  <span class="comment"># 动态界面绘制</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 方块移动</span></span><br><span class="line">            slideAnimation(mainBoard, userInput, msg, <span class="number">8</span>)</span><br><span class="line">            makeMove(mainBoard, userInput)</span><br><span class="line">    <span class="keyword">return</span> mainBoard, msg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 资源回收与程序退出</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">terminate</span>():</span><br><span class="line">    pygame.quit()  <span class="comment"># 模块卸载</span></span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出判断</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">checkForQuit</span>():</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get(QUIT):  <span class="comment"># 获取所有可能会导致退出的事件,存在就执行退出</span></span><br><span class="line">        terminate()  <span class="comment"># 执行退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get(KEYUP):  <span class="comment"># 按下ESC键退出</span></span><br><span class="line">        <span class="keyword">if</span> event.key == K_ESCAPE:</span><br><span class="line">            terminate()</span><br><span class="line">        pygame.event.post(event)  <span class="comment"># 发送事件至消息列队</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># FPSCLOCK Clock对象</span></span><br><span class="line">    <span class="comment"># WINSET 窗体Surface对象</span></span><br><span class="line">    <span class="comment"># STATICSURF 静态窗体Surface对象</span></span><br><span class="line">    <span class="comment"># BASICFONT 字体对象</span></span><br><span class="line">    <span class="comment"># NEW_SURF &quot;新游戏&quot;Surface对象,一张内容为文字的图片  调用字体对象的render()方法,渲染为Surface对象显示</span></span><br><span class="line">    <span class="comment"># NEW_RECT get_rect()方法获取的&quot;新游戏&quot;矩形属性</span></span><br><span class="line">    <span class="keyword">global</span> FPSCLOCK, WINSET, STATICSURF, BASICFONT  <span class="comment"># 定义全局变量</span></span><br><span class="line">    <span class="keyword">global</span> NEW_SURF, NEW_RECT</span><br><span class="line"></span><br><span class="line">    pygame.init()</span><br><span class="line">    FPSCLOCK = pygame.time.Clock()  <span class="comment"># 创建一个Clock对象,并使用变量FPSCLOCK保存</span></span><br><span class="line">    BASICFONT = pygame.font.Font(<span class="string">&#x27;STKAITI.TTF&#x27;</span>, <span class="number">25</span>)  <span class="comment"># 定义返回一个字体对象,并使用变量BASICFONT保存</span></span><br><span class="line">    WINSET, NEW_SURF, NEW_RECT = darwStaticWin()  <span class="comment"># 创建静态窗口</span></span><br><span class="line">    STATICSURF = WINSET.copy()  <span class="comment"># 复制一个静态窗口作为底板</span></span><br><span class="line">    mainBoard = generateNewPuzzle(AUTOMOVE)  <span class="comment"># 初始化列表</span></span><br><span class="line">    msg = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 设置帧率</span></span><br><span class="line">        drawBoard(mainBoard, msg)  <span class="comment"># 动态界面绘制</span></span><br><span class="line">        pygame.display.update()  <span class="comment"># 刷新</span></span><br><span class="line">        checkForQuit()  <span class="comment"># 判断是否终止</span></span><br><span class="line">        userInput = getInput(mainBoard)  <span class="comment"># 获取输入</span></span><br><span class="line">        mainBoard, msg = processing(userInput, mainBoard, msg)  <span class="comment"># 输入处理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="完整版"><a href="#完整版" class="headerlink" title="完整版"></a>完整版</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pygame, random, sys</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pygame.<span class="built_in">locals</span> <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> define <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化窗口宽高</span></span><br><span class="line">WINWIDTH = <span class="number">640</span></span><br><span class="line">WINHEIGHT = <span class="number">480</span></span><br><span class="line"><span class="comment"># 初始化推盘行列和空格</span></span><br><span class="line">ROW = <span class="number">3</span></span><br><span class="line">COL = <span class="number">3</span></span><br><span class="line">BLANK = <span class="literal">None</span></span><br><span class="line"><span class="comment"># 颜色预设</span></span><br><span class="line">DARKGRAY = (<span class="number">60</span>, <span class="number">60</span>, <span class="number">60</span>)</span><br><span class="line">WHITE = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>)</span><br><span class="line">YELLOW = (<span class="number">255</span>, <span class="number">255</span>, <span class="number">193</span>)</span><br><span class="line">GRAY = (<span class="number">128</span>, <span class="number">128</span>, <span class="number">128</span>)</span><br><span class="line">BRIGHTBLUE = (<span class="number">138</span>, <span class="number">228</span>, <span class="number">221</span>)</span><br><span class="line"><span class="comment"># 颜色变量</span></span><br><span class="line">BLANKCOLOR = DARKGRAY</span><br><span class="line">MSGCOLOR = WHITE</span><br><span class="line">BTCOLOR = YELLOW</span><br><span class="line">BTTEXTCOLOR = GRAY</span><br><span class="line">BDCOLOR = BRIGHTBLUE</span><br><span class="line"><span class="comment"># 静态常量</span></span><br><span class="line">BLOCKSIZE = <span class="number">80</span>  <span class="comment"># 方块大小</span></span><br><span class="line">FPS = <span class="number">60</span>  <span class="comment"># 帧率</span></span><br><span class="line"><span class="comment"># 按键事件</span></span><br><span class="line">UP = <span class="string">&#x27;up&#x27;</span></span><br><span class="line">DOWN = <span class="string">&#x27;down&#x27;</span></span><br><span class="line">LEFT = <span class="string">&#x27;left&#x27;</span></span><br><span class="line">RIGHT = <span class="string">&#x27;right&#x27;</span></span><br><span class="line">NEWGAME = <span class="string">&#x27;newgame&#x27;</span></span><br><span class="line"><span class="comment"># 随机移动次数</span></span><br><span class="line">AUTOMOVE = random.randint(<span class="number">50</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文本对象创建</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makeText</span>(<span class="params">text, tColor, btColor, top, left</span>):</span><br><span class="line">    textSurf = BASICFONT.render(text, <span class="literal">True</span>, tColor, btColor)</span><br><span class="line">    textRect = textSurf.get_rect()</span><br><span class="line">    textRect.topleft = (top, left)</span><br><span class="line">    <span class="keyword">return</span> textSurf, textRect  <span class="comment"># 将字体渲染的Surface对象,Surface对象的矩形属性</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制方块在窗口(tilex,tiley)处,adjx与adjy为偏移量,可选参数默认值为0</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawTile</span>(<span class="params">tilex, tiley, number, adjx=<span class="number">0</span>, adjy=<span class="number">0</span></span>):</span><br><span class="line">    left, top = getLeftTopOfTile(tilex, tiley)</span><br><span class="line">    <span class="comment"># 绘制方块</span></span><br><span class="line">    pygame.draw.rect(WINSET, BTCOLOR, (left + adjx, top + adjy, BLOCKSIZE, BLOCKSIZE))</span><br><span class="line">    <span class="comment"># 将数字number渲染到方块上</span></span><br><span class="line">    textSurf = BASICFONT.render(<span class="built_in">str</span>(number), <span class="literal">True</span>, BTTEXTCOLOR)</span><br><span class="line">    <span class="comment"># 获取矩形属性</span></span><br><span class="line">    textRect = textSurf.get_rect()</span><br><span class="line">    <span class="comment"># print(textRect)</span></span><br><span class="line">    textRect.center = left + <span class="built_in">int</span>(BLOCKSIZE / <span class="number">2</span>) + adjx, top + <span class="built_in">int</span>(BLOCKSIZE / <span class="number">2</span>) + adjy</span><br><span class="line">    <span class="comment"># print(textRect.center)</span></span><br><span class="line">    <span class="comment"># print(textRect)</span></span><br><span class="line">    <span class="comment"># 绘制到静态窗口上</span></span><br><span class="line">    WINSET.blit(textSurf, textRect)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算方块左上角 距离窗口原点纵横坐标距离</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getLeftTopOfTile</span>(<span class="params">tilex, tiley</span>):</span><br><span class="line">    <span class="comment"># 先计算左上角方块的距离</span></span><br><span class="line">    xMargin = <span class="built_in">int</span>((WINWIDTH - (BLOCKSIZE * COL + (COL - <span class="number">1</span>))) / <span class="number">2</span>)  <span class="comment"># 199</span></span><br><span class="line">    yMargin = <span class="built_in">int</span>((WINHEIGHT - (BLOCKSIZE * ROW + (ROW - <span class="number">1</span>))) / <span class="number">2</span>)  <span class="comment"># 119</span></span><br><span class="line">    <span class="comment"># print(xMargin,yMargin)</span></span><br><span class="line">    <span class="comment"># print(tilex, tiley) ?</span></span><br><span class="line">    left = xMargin + (tilex * BLOCKSIZE) + (tilex - <span class="number">1</span>)</span><br><span class="line">    top = yMargin + (tiley * BLOCKSIZE) + (tiley - <span class="number">1</span>)</span><br><span class="line">    <span class="comment"># print(left, top)</span></span><br><span class="line">    <span class="keyword">return</span> left, top</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 静态界面绘制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">darwStaticWin</span>():</span><br><span class="line">    winSet = pygame.display.set_mode((WINWIDTH, WINHEIGHT))</span><br><span class="line">    pygame.display.set_caption(<span class="string">&#x27;数字华容道&#x27;</span>)</span><br><span class="line">    image = pygame.image.load(<span class="string">&#x27;bg.jpg&#x27;</span>)</span><br><span class="line">    winSet.blit(image, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    <span class="comment"># 按钮创建</span></span><br><span class="line">    new_surf, new_rect = makeText(<span class="string">&#x27;新游戏&#x27;</span>, BTTEXTCOLOR, BTCOLOR, WINWIDTH - <span class="number">85</span>, WINHEIGHT - <span class="number">40</span>)</span><br><span class="line">    winSet.blit(new_surf, new_rect)</span><br><span class="line">    <span class="keyword">return</span> winSet, new_surf, new_rect</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 动态界面绘制</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawBoard</span>(<span class="params">board, msg</span>):</span><br><span class="line">    <span class="comment"># board 推盘列表</span></span><br><span class="line">    WINSET.blit(STATICSURF, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">    <span class="comment"># 如果消息不为空</span></span><br><span class="line">    <span class="keyword">if</span> msg:</span><br><span class="line">        msgSurf, msgRect = makeText(msg, MSGCOLOR, <span class="literal">None</span>, <span class="number">5</span>, <span class="number">5</span>)</span><br><span class="line">        pygame.image.save(msgSurf, <span class="string">&#x27;msg.png&#x27;</span>)  <span class="comment"># 将msgSurf存为名为msg.png的图片</span></span><br><span class="line">        imgSurf = pygame.image.load(<span class="string">&#x27;msg.png&#x27;</span>)  <span class="comment"># 加载图片</span></span><br><span class="line">        <span class="comment"># print(msgRect)  # &lt;rect(5, 5, 87, 28)&gt;  矩形属性</span></span><br><span class="line">        WINSET.blit(imgSurf, msgRect)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):  <span class="comment"># 3</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board[<span class="number">0</span>])):  <span class="comment"># 3</span></span><br><span class="line">            <span class="keyword">if</span> board[i][j]:  <span class="comment"># 遍历出不为None的</span></span><br><span class="line">                <span class="comment"># print(board[i][j])</span></span><br><span class="line">                drawTile(i, j, board[i][j])  <span class="comment"># 方块上的数字和所在的行列,绘制方块及数字</span></span><br><span class="line">    <span class="comment"># 绘制外边框</span></span><br><span class="line">    left, top = getLeftTopOfTile(<span class="number">0</span>, <span class="number">0</span>)  <span class="comment"># 198 118</span></span><br><span class="line">    width = COL * BLOCKSIZE  <span class="comment"># 240</span></span><br><span class="line">    height = ROW * BLOCKSIZE  <span class="comment"># 240</span></span><br><span class="line">    pygame.draw.rect(WINSET, BDCOLOR, (left - <span class="number">5</span>, top - <span class="number">5</span>, width + <span class="number">11</span>, height + <span class="number">11</span>), <span class="number">4</span>)  <span class="comment"># 外沿厚度4</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成推盘序列</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getStartingBoard</span>():</span><br><span class="line">    initBoard = []  <span class="comment"># 二维列表</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(COL):  <span class="comment"># 列</span></span><br><span class="line">        i = i + <span class="number">1</span></span><br><span class="line">        column = []</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(ROW):</span><br><span class="line">            column.append(i)</span><br><span class="line">            i += COL  <span class="comment"># 按列添加,非顺序添加</span></span><br><span class="line">        initBoard.append(column)</span><br><span class="line">    initBoard[ROW - <span class="number">1</span>][COL - <span class="number">1</span>] = BLANK  <span class="comment"># 最后一位添加None空格</span></span><br><span class="line">    <span class="comment"># print(initBoard)</span></span><br><span class="line">    <span class="keyword">return</span> initBoard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化推盘,随机移动numSlides(50~100)次</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generateNewPuzzle</span>(<span class="params">numSlides</span>):</span><br><span class="line">    mianBoard = getStartingBoard()  <span class="comment"># 获取拼图列表</span></span><br><span class="line">    drawBoard(mianBoard, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    lastMove = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numSlides):</span><br><span class="line">        move = getRandomMove(mianBoard, lastMove)  <span class="comment"># 获取随机移动的方向</span></span><br><span class="line">        slideAnimation(mianBoard, move, <span class="string">&#x27;初始化...&#x27;</span>, <span class="built_in">int</span>(BLOCKSIZE / <span class="number">3</span>))</span><br><span class="line">        makeMove(mianBoard, move)</span><br><span class="line">        lastMove = move</span><br><span class="line">    <span class="keyword">return</span> mianBoard</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动交换元素位置</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">makeMove</span>(<span class="params">board, move</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> move == UP:</span><br><span class="line">        board[blankx][blanky], board[blankx][blanky + <span class="number">1</span>] = board[blankx][blanky + <span class="number">1</span>], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == DOWN:</span><br><span class="line">        board[blankx][blanky], board[blankx][blanky - <span class="number">1</span>] = board[blankx][blanky - <span class="number">1</span>], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == LEFT:</span><br><span class="line">        board[blankx][blanky], board[blankx + <span class="number">1</span>][blanky] = board[blankx + <span class="number">1</span>][blanky], board[blankx][blanky]</span><br><span class="line">    <span class="keyword">elif</span> move == RIGHT:</span><br><span class="line">        board[blankx][blanky], board[blankx - <span class="number">1</span>][blanky] = board[blankx - <span class="number">1</span>][blanky], board[blankx][blanky]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 移动的动画效果</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">slideAnimation</span>(<span class="params">board, direction, msg, animationSpeed</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)  <span class="comment"># 获取空格的行列坐标</span></span><br><span class="line">    <span class="comment"># 获取被移动的方块所在的行列</span></span><br><span class="line">    <span class="keyword">if</span> direction == UP:</span><br><span class="line">        movex = blankx</span><br><span class="line">        movey = blanky + <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> direction == DOWN:</span><br><span class="line">        movex = blankx</span><br><span class="line">        movey = blanky - <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> direction == LEFT:</span><br><span class="line">        movex = blankx + <span class="number">1</span></span><br><span class="line">        movey = blanky</span><br><span class="line">    <span class="keyword">elif</span> direction == RIGHT:</span><br><span class="line">        movex = blankx - <span class="number">1</span></span><br><span class="line">        movey = blanky</span><br><span class="line">    drawBoard(board, msg)</span><br><span class="line">    BASESURF = WINSET.copy()  <span class="comment"># 复制此刻背景作为Surface对象</span></span><br><span class="line">    <span class="comment"># 绘制空白块</span></span><br><span class="line">    moveLeft, moveTop = getLeftTopOfTile(movex, movey)</span><br><span class="line">    pygame.draw.rect(BASESURF, BLANKCOLOR, (moveLeft, moveTop, BLOCKSIZE, BLOCKSIZE))</span><br><span class="line">    <span class="comment"># 连续绘制被移动的方块</span></span><br><span class="line">    <span class="comment"># print(animationSpeed)  # 26 方块移动速度</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, BLOCKSIZE, animationSpeed):</span><br><span class="line">        checkForQuit()</span><br><span class="line">        WINSET.blit(BASESURF, (<span class="number">0</span>, <span class="number">0</span>))</span><br><span class="line">        <span class="keyword">if</span> direction == UP:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], <span class="number">0</span>, -i)</span><br><span class="line">        <span class="keyword">if</span> direction == DOWN:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], <span class="number">0</span>, i)</span><br><span class="line">        <span class="keyword">if</span> direction == LEFT:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], -i, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> direction == RIGHT:</span><br><span class="line">            drawTile(movex, movey, board[movex][movey], i, <span class="number">0</span>)</span><br><span class="line">        pygame.display.update()  <span class="comment"># 更新界面</span></span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 控制帧率</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断无效移动</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isValidMove</span>(<span class="params">board, direction</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> blankx == <span class="number">0</span> <span class="keyword">and</span> direction == RIGHT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blankx == <span class="number">2</span> <span class="keyword">and</span> direction == LEFT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">0</span> <span class="keyword">and</span> direction == DOWN:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">2</span> <span class="keyword">and</span> direction == UP:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取随机移动的方向</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getRandomMove</span>(<span class="params">board, lastMove=<span class="literal">None</span></span>):</span><br><span class="line">    validMoves = [UP, DOWN, LEFT, RIGHT]</span><br><span class="line">    <span class="keyword">if</span> lastMove == UP <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, DOWN):</span><br><span class="line">        validMoves.remove(DOWN)</span><br><span class="line">    <span class="keyword">if</span> lastMove == DOWN <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, UP):</span><br><span class="line">        validMoves.remove(UP)</span><br><span class="line">    <span class="keyword">if</span> lastMove == LEFT <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, RIGHT):</span><br><span class="line">        validMoves.remove(RIGHT)</span><br><span class="line">    <span class="keyword">if</span> lastMove == RIGHT <span class="keyword">or</span> <span class="keyword">not</span> isValidMove(board, LEFT):</span><br><span class="line">        validMoves.remove(LEFT)</span><br><span class="line">    <span class="keyword">return</span> random.choice(validMoves)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getBlankPosition</span>(<span class="params">board</span>):</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> <span class="built_in">range</span>(COL):</span><br><span class="line">        <span class="keyword">for</span> y <span class="keyword">in</span> <span class="built_in">range</span>(ROW):</span><br><span class="line">            <span class="keyword">if</span> board[x][y] == BLANK:</span><br><span class="line">                <span class="keyword">return</span> (x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getSpotClicked</span>(<span class="params">board, x, y</span>):</span><br><span class="line">    <span class="keyword">for</span> tilex <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board)):</span><br><span class="line">        <span class="keyword">for</span> tiley <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(board[<span class="number">0</span>])):</span><br><span class="line">            left, top = getLeftTopOfTile(tilex, tiley)</span><br><span class="line">            tileRect = pygame.Rect(left, top, BLOCKSIZE, BLOCKSIZE)</span><br><span class="line">            <span class="keyword">if</span> tileRect.collidepoint(x, y):  <span class="comment"># 如果产生碰撞</span></span><br><span class="line">                <span class="keyword">return</span> tilex, tiley  <span class="comment"># 返回行列</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">None</span>, <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取用户输入</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getInput</span>(<span class="params">mainBoard</span>):</span><br><span class="line">    events = pygame.event.get()</span><br><span class="line">    userInput = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> events:</span><br><span class="line">        <span class="keyword">if</span> event.<span class="built_in">type</span> == MOUSEBUTTONUP:</span><br><span class="line">            <span class="comment"># 获取位置关系</span></span><br><span class="line">            spotx, spoty = getSpotClicked(mainBoard, event.pos[<span class="number">0</span>], event.pos[<span class="number">1</span>])</span><br><span class="line">            <span class="comment"># 坐标不在拼图区域,点击的新游戏</span></span><br><span class="line">            <span class="keyword">if</span> (spotx, spoty) == (<span class="literal">None</span>, <span class="literal">None</span>) <span class="keyword">and</span> NEW_RECT.collidepoint(event.pos):</span><br><span class="line">                userInput = NEWGAME</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 如果已完成,点击非选项时不移动</span></span><br><span class="line">                <span class="keyword">if</span> mainBoard == getStartingBoard():</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="comment"># 点击位置是否在BLANK旁边</span></span><br><span class="line">                blankx, blanky = getBlankPosition(mainBoard)</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> spotx == blankx + <span class="number">1</span> <span class="keyword">and</span> spoty == blanky:</span><br><span class="line">                    userInput = LEFT  <span class="comment"># 设置移动方向</span></span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx - <span class="number">1</span> <span class="keyword">and</span> spoty == blanky:</span><br><span class="line">                    userInput = RIGHT</span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx <span class="keyword">and</span> spoty == blanky + <span class="number">1</span>:</span><br><span class="line">                    userInput = UP</span><br><span class="line">                <span class="keyword">elif</span> spotx == blankx <span class="keyword">and</span> spoty == blanky - <span class="number">1</span>:</span><br><span class="line">                    userInput = DOWN</span><br><span class="line">    <span class="keyword">return</span> userInput</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对用户输入进行处理</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">processing</span>(<span class="params">userInput, mainBoard, msg</span>):</span><br><span class="line">    <span class="keyword">if</span> mainBoard == getStartingBoard():</span><br><span class="line">        msg = <span class="string">&#x27;完成&#x27;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        msg = <span class="string">&#x27;通过鼠标移动方块&#x27;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> userInput:</span><br><span class="line">        <span class="comment"># 功能按钮  新游戏处理:</span></span><br><span class="line">        <span class="keyword">if</span> userInput == NEWGAME:</span><br><span class="line">            getStartingBoard()  <span class="comment"># 初始化推盘列表</span></span><br><span class="line">            mainBoard = generateNewPuzzle(AUTOMOVE)  <span class="comment"># 随机次数移动打乱</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 方块移动</span></span><br><span class="line">            slideAnimation(mainBoard, userInput, msg, <span class="number">8</span>)</span><br><span class="line">            makeMove(mainBoard, userInput)</span><br><span class="line">    <span class="keyword">return</span> mainBoard, msg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 资源回收与程序退出</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">terminate</span>():</span><br><span class="line">    pygame.quit()  <span class="comment"># 模块卸载</span></span><br><span class="line">    sys.exit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出判断</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">checkForQuit</span>():</span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get(QUIT):  <span class="comment"># 获取所有可能会导致退出的事件,存在就执行退出</span></span><br><span class="line">        terminate()  <span class="comment"># 执行退出</span></span><br><span class="line">    <span class="keyword">for</span> event <span class="keyword">in</span> pygame.event.get(KEYUP):  <span class="comment"># 按下ESC键退出</span></span><br><span class="line">        <span class="keyword">if</span> event.key == K_ESCAPE:</span><br><span class="line">            terminate()</span><br><span class="line">        pygame.event.post(event)  <span class="comment"># 发送事件至消息列队</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="comment"># FPSCLOCK Clock对象</span></span><br><span class="line">    <span class="comment"># WINSET 窗体Surface对象</span></span><br><span class="line">    <span class="comment"># STATICSURF 静态窗体Surface对象</span></span><br><span class="line">    <span class="comment"># BASICFONT 字体对象</span></span><br><span class="line">    <span class="comment"># NEW_SURF &quot;新游戏&quot;Surface对象,一张内容为文字的图片  调用字体对象的render()方法,渲染为Surface对象显示</span></span><br><span class="line">    <span class="comment"># NEW_RECT get_rect()方法获取的&quot;新游戏&quot;矩形属性</span></span><br><span class="line">    <span class="keyword">global</span> FPSCLOCK, WINSET, STATICSURF, BASICFONT  <span class="comment"># 定义全局变量</span></span><br><span class="line">    <span class="keyword">global</span> NEW_SURF, NEW_RECT</span><br><span class="line"></span><br><span class="line">    pygame.init()</span><br><span class="line">    FPSCLOCK = pygame.time.Clock()  <span class="comment"># 创建一个Clock对象,并使用变量FPSCLOCK保存</span></span><br><span class="line">    BASICFONT = pygame.font.Font(<span class="string">&#x27;STKAITI.TTF&#x27;</span>, <span class="number">25</span>)  <span class="comment"># 定义返回一个字体对象,并使用变量BASICFONT保存</span></span><br><span class="line">    WINSET, NEW_SURF, NEW_RECT = darwStaticWin()  <span class="comment"># 创建静态窗口</span></span><br><span class="line">    STATICSURF = WINSET.copy()  <span class="comment"># 复制一个静态窗口作为底板</span></span><br><span class="line">    mainBoard = generateNewPuzzle(AUTOMOVE)  <span class="comment"># 初始化列表</span></span><br><span class="line">    msg = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        FPSCLOCK.tick(FPS)  <span class="comment"># 设置帧率</span></span><br><span class="line">        drawBoard(mainBoard, msg)  <span class="comment"># 动态界面绘制</span></span><br><span class="line">        pygame.display.update()  <span class="comment"># 刷新</span></span><br><span class="line">        checkForQuit()  <span class="comment"># 判断是否终止</span></span><br><span class="line">        userInput = getInput(mainBoard)  <span class="comment"># 获取输入</span></span><br><span class="line">        mainBoard, msg = processing(userInput, mainBoard, msg)  <span class="comment"># 输入处理</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="http://qiniu.yujing.fit/typora_img/%E6%9C%AA%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6.png" alt="未命名文件"></p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>只一个函数没给出,作用是判断无效移动</p><p><strong>错误原因:</strong></p><p>错误判断了行与列,blankx代表列,blanky代表行;且0为第一行,2为最后一行</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 判断无效移动</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">isValidMove</span>(<span class="params">board, direction</span>):</span><br><span class="line">    blankx, blanky = getBlankPosition(board)</span><br><span class="line">    <span class="keyword">if</span> blankx == <span class="number">0</span> <span class="keyword">and</span> direction == RIGHT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blankx == <span class="number">2</span> <span class="keyword">and</span> direction == LEFT:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">0</span> <span class="keyword">and</span> direction == DOWN:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">elif</span> blanky == <span class="number">2</span> <span class="keyword">and</span> direction == UP:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h3 id="错误排查"><a href="#错误排查" class="headerlink" title="错误排查"></a>错误排查</h3><p>1、TypeError：darwStaticWin()缺少两个必需的位置参数：“BTTEXTCOLOR”和“BTCOLOR”</p><p>2、(&lt;class‘TypeError’&gt;，TypeError(‘isValidMove()接受0个位置参数，但给出了2个’)，&lt;位于0x000002312E0D7740的回溯对象‘)。</p><p>3、(&lt;class‘IndexError’&gt;，IndexError(‘列出索引超出范围’)，&lt;traceback object at 0x000001478DB88800&gt;)。</p><p>4、TypeError：DrawBoard()缺少1个必需的位置参数：‘msg’</p><p>5、Unbound LocalError：赋值前引用的局部变量‘event’</p><p>6、IndexError: list index out of range</p><h3 id="实现思路"><a href="#实现思路" class="headerlink" title="实现思路"></a>实现思路</h3><h4 id="1、"><a href="#1、" class="headerlink" title="1、"></a>1、</h4><p>整个游戏以MVC的设计模式进行设计，采用自顶向下的方式，将总问题逐渐向下分层，直到分为一个一个能被解决的小问题，实现整个游戏。</p><p>将游戏分为Model（模型层）-View（视图层）-Controller（控制层），分层级一层一层去实现，将大问题分割为小问题。</p><h4 id="2、Model"><a href="#2、Model" class="headerlink" title="2、Model"></a>2、Model</h4><p>model部分应实现的推盘序列的生成与存储，</p><ul><li><p><strong>getStartingBoard</strong>函数，根据行列生成一个二级列表，返回 initBoard ，表示的是初始的二级列表顺序，可用于判断游戏是否完成。</p></li><li><p><strong>makeMove</strong>函数，接收列表和移动方向两个参数，将交换位置后的序列存储，不返回结果。一般与移动的动画效果函数<strong>slideAnimation</strong> 一起使用，每次移动之后将序列存储一次。应该可以写在一起，待尝试。</p></li></ul><h4 id="3、View"><a href="#3、View" class="headerlink" title="3、View"></a>3、View</h4><p>view部分负责视图的显示，包括有提示信息msg、推盘方块、外边框、按钮等。</p><ul><li><p>首先是 <strong>darwStaticWin</strong> 函数，用于创建窗口以及设置窗口标题、背景、图片、文字显示等。由于经常会使用到绘制文字显示，为了代码复用，精简代码，将其封装为一个函数<strong>makeText</strong>，提供要绘制的文本、文字颜色、背景色、绘制位置等参数，返回一个Surface对象与其矩形属性&lt;rect(555, 440, 75, 28)&gt;，分别表示距离y轴的距离、距离x轴的距离、矩形的长和高。共有两处使用，体会其使用。</p></li><li><p>按钮的实质，其实就是一个带背景色的文字显示。</p></li><li><ol><li></li></ol>   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">new_surf, new_rect = makeText(<span class="string">&#x27;新游戏&#x27;</span>, BTTEXTCOLOR, BTCOLOR, WINWIDTH - <span class="number">85</span>, WINHEIGHT - <span class="number">40</span>)</span><br><span class="line">winSet.blit(new_surf, new_rect)</span><br></pre></td></tr></table></figure><ol start="2"><li>```py<pre><code>if msg:    msgSurf, msgRect = makeText(msg, MSGCOLOR, None, 5, 5)    pygame.image.save(msgSurf, &#39;msg.png&#39;)  # 将msgSurf存为名为msg.png的图片    imgSurf = pygame.image.load(&#39;msg.png&#39;)  # 加载图片    WINSET.blit(imgSurf, msgRect)</code></pre><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">     可直接绘制msgSurf，不必存为图片加载图片。</span><br><span class="line"></span><br><span class="line">- **drawBoard**函数，用于绘制动态界面，负责了绘制消息、绘制序列列表方块和游戏整个方块的外边框。</span><br><span class="line"></span><br><span class="line">  利用一个双层循环，循环序列列表，调用**drawTile**函数，，绘制方块及数字。而**drawTile **函数调用了**getLeftTopOfTile**函数，</span><br><span class="line"></span><br><span class="line">  输入参数行列，根据行列,计算方块左上角 距离窗口原点 纵横坐标距离，并返回距离y轴、x轴的距离，用于确定绘制的方块位置。</span><br><span class="line"></span><br><span class="line">  **getLeftTopOfTile**先把整个拼盘当作一个整体，计算出相对于窗口的中心位置，但是并不绘制一整个方块，而是根据行列，进行一定的偏移，绘制出全部方块及渲染数字到方块上。</span><br><span class="line">  </span><br><span class="line">  最后传入行列（0，0），即最左上角的方块的行列，确定其距离x，y轴的距离，绘制整个拼盘的外边框。  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  至此，消息、方块、按钮等都以绘制完成，视图层呈现出来了。</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">#### 4、Controller</span><br><span class="line"></span><br><span class="line">controller负责控制整个游戏的逻辑运行，包括推盘序列初始化、接收用户输入、对用户输入进行处理、以及退出游戏。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt;1. 视图呈现之后，但是推盘序列最初始还是顺序排列的，我们需要将它打乱才可以进行游戏，通过移动将推盘完成顺序排列。</span><br><span class="line">&gt;   - **generateNewPuzzle**通过形参numSlides，获取随机移动的次数，目的是打乱推盘序列。numSlides的实参就是AUTOMOVE全局变量，通过rondom模块，随机获取的一个50-100之间的整数。</span><br><span class="line">&gt;   - 首先通过调用getStartingBoard函数，获取初始的推盘序列，drawBoard传入序列 绘制界面。</span><br><span class="line">&gt;   - 定义初始移动方向为None，**getRandomMove**传入序列以及方向，获取随机移动方向，移动方向有4个，但是当空格在推盘第一行时，它是不可以向上移动的，所以应从4个移动方向中，移除无效的移动方向。其他类似判断。random.choice将从列表中随机获取一个移动方向。**isValidMove**用于判断无效的移动方向。</span><br><span class="line">&gt;   - **getInput**获取用户输入，先定义变量userInput初始值为None，根据获取的点击位置，通过**getSpotClicked**函数，返回点击的方块所在行列，如与方块未产生碰撞，则返回（None，None），表示点击的空白区域。</span><br><span class="line">&gt;   - 如果序列与初始序列相同，表示已完成，不予点击，直接跳出。</span><br><span class="line">&gt;   - 但是点击方块，也并不能让所有方块生效移动，只有当点击方块的位置在空格旁边的时候，判断被点击方块与空格的位置关系，如果点击方块在空格右边，设置移动方向向左，其他类似。函数返回用户输入userInput。</span><br><span class="line">&gt;   - **processing**函数接收getInput的返回值，序列，以及应设置的消息，对用户的输入进行处理，判断推盘状态，是待完成还是已完成，设置对应的提示msg。再对用户输入判断，点击的新按钮还是移动方向。做出对应的相应。</span><br><span class="line">&gt;   - 在**checkForQuit**判断用户是否退出。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 随机生成乱序二维列表</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">import random</span><br><span class="line"></span><br><span class="line">COL = 4</span><br><span class="line">ROW = COL</span><br><span class="line"></span><br><span class="line">x = list(range(1, COL * ROW))</span><br><span class="line">x.append(None)</span><br><span class="line">print(x)</span><br><span class="line">random.shuffle(x)</span><br><span class="line">print(x)</span><br><span class="line"></span><br><span class="line">init = []</span><br><span class="line"></span><br><span class="line">for i in range(COL):</span><br><span class="line">    clunm = []</span><br><span class="line">    for j in range(ROW):</span><br><span class="line">        clunm.append(x[COL*i+j])</span><br><span class="line">    init.append(clunm)</span><br><span class="line"></span><br><span class="line">print(init)</span><br></pre></td></tr></table></figure></li></ol></li></ul><h3 id="二维元祖与列表相互转换"><a href="#二维元祖与列表相互转换" class="headerlink" title="二维元祖与列表相互转换"></a>二维元祖与列表相互转换</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 列表转换元祖</span><br><span class="line">mianBoard = [[6, 7, 1], [None, 3, 2], [8, 4, 5]]</span><br><span class="line">RESETBoard = tuple(tuple(tuple(items)) for items in tuple(mianBoard))</span><br><span class="line">print(RESETBoard)</span><br><span class="line">&gt;&gt;&gt;((6, 7, 1), (None, 3, 2), (8, 4, 5))</span><br><span class="line"></span><br><span class="line"># 元祖转换列表</span><br><span class="line">RESETBoard = ((6, 7, 1), (None, 3, 2), (8, 4, 5))</span><br><span class="line">mianBoard = list(list(list(items)) for items in list(RESETBoard))</span><br><span class="line">print(mianBoard)</span><br><span class="line">&gt;&gt;&gt;[[6, 7, 1], [None, 3, 2], [8, 4, 5]]</span><br></pre></td></tr></table></figure><h2 id="算法相关"><a href="#算法相关" class="headerlink" title="算法相关"></a>算法相关</h2><h3 id="深度优先搜索DFS"><a href="#深度优先搜索DFS" class="headerlink" title="深度优先搜索DFS"></a>深度优先搜索DFS</h3><p><strong>深度优先搜索算法</strong>（英语：Depth-First-Search，DFS）是一种用于遍历或搜索<a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)">树</a>或<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE_(%E6%95%B0%E5%AD%A6)">图</a>的<a href="https://zh.wikipedia.org/wiki/%E7%AE%97%E6%B3%95">算法</a>。这个算法会尽可能深的搜索树的分支。当节点v的所在边都己被探寻过，搜索将回溯到发现节点v的那条边的起始节点。这一过程一直进行到已发现从源节点可达的所有节点为止。如果还存在未被发现的节点，则选择其中一个作为源节点并重复以上过程，整个进程反复进行直到所有节点都被访问为止。[<a href="https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2#cite_note-ItoA-1">1]</a>（p. 603）这种算法不会根据图的结构等信息调整执行策略[<a href="https://zh.wikipedia.org/wiki/Wikipedia:%E5%88%97%E6%98%8E%E6%9D%A5%E6%BA%90">来源请求]</a>。</p><p>深度优先搜索是图论中的经典算法，利用深度优先搜索算法可以产生目标图的<a href="https://zh.wikipedia.org/wiki/%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F">拓扑排序</a>表[<a href="https://zh.wikipedia.org/wiki/%E6%B7%B1%E5%BA%A6%E4%BC%98%E5%85%88%E6%90%9C%E7%B4%A2#cite_note-ItoA-1">1]</a>（p. 612），利用拓扑排序表可以方便的解决很多相关的<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE%E8%AE%BA">图论</a>问题，如无权最长路径问题等等。</p><h3 id="广度优先搜索BFS"><a href="#广度优先搜索BFS" class="headerlink" title="广度优先搜索BFS"></a>广度优先搜索BFS</h3><p>宽度优先<a href="https://baike.baidu.com/item/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95/2988274">搜索算法</a>（又称广度优先搜索）是最简便的图的搜索算法之一，这一算法也是很多重要的图的算法的原型。Dijkstra<a href="https://baike.baidu.com/item/%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84/6975204">单源最短路径</a>算法和Prim<a href="https://baike.baidu.com/item/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91">最小生成树</a>算法都采用了和宽度优先搜索类似的思想。其别名又叫BFS，属于一种盲目搜寻法，目的是系统地展开并检查图中的所有节点，以找寻结果。换句话说，它并不考虑结果的可能位置，彻底地搜索整张图，直到找到结果为止。</p><p><strong>广度优先搜索算法</strong>（英语：Breadth-First Search，缩写为BFS），又译作<strong>宽度优先搜索</strong>，或<strong>横向优先搜索</strong>，是一种<a href="https://zh.wikipedia.org/wiki/%E6%90%9C%E7%B4%A2%E7%AE%97%E6%B3%95">图形搜索算法</a>。简单的说，BFS是从<a href="https://zh.wikipedia.org/wiki/%E6%A0%91_(%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84)#%E6%9C%AF%E8%AF%AD">根节点</a>开始，沿着树的宽度遍历树的<a href="https://zh.wikipedia.org/wiki/%E8%8A%82%E7%82%B9">节点</a>。如果所有节点均被访问，则算法中止。广度优先搜索的实现一般采用open-closed表.</p><p>BFS是一种<a href="https://zh.wikipedia.org/wiki/%E6%9A%B4%E5%8A%9B%E6%90%9C%E7%B4%A2">暴力搜索</a>算法，目的是系统地展开并检查<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE">图</a>中的所有节点，以找寻结果。换句话说，它并不考虑结果的可能地址，彻底地搜索整张图，直到找到结果为止。BFS并不使用<a href="https://zh.wikipedia.org/w/index.php?title=%E5%95%9F%E7%99%BC%E5%BC%8F%E6%90%9C%E7%B4%A2&action=edit&redlink=1">经验法则算法</a>。</p><h3 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h3><p><strong>贪心算法</strong>（英语：greedy algorithm），又称<strong>贪婪算法</strong>，是一种在每一步选择中都采取在当前状态下最好或最优（即最有利）的选择，从而希望导致结果是最好或最优的<a href="https://zh.wikipedia.org/wiki/%E7%AE%97%E6%B3%95">算法</a>。[<a href="https://zh.wikipedia.org/wiki/%E8%B4%AA%E5%BF%83%E7%AE%97%E6%B3%95#cite_note-paike-1">1]</a>比如在<a href="https://zh.wikipedia.org/wiki/%E6%97%85%E8%A1%8C%E6%8E%A8%E9%94%80%E5%91%98%E9%97%AE%E9%A2%98">旅行推销员问题</a>中，如果旅行员每次都选择最近的城市，那这就是一种贪心算法。</p><p>贪心算法在有最优子结构的问题中尤为有效。最优子结构的意思是局部最优解能决定全局最优解。简单地说，问题能够分解成子问题来解决，子问题的最优解能递推到最终问题的最优解。</p><p>贪心算法与<a href="https://zh.wikipedia.org/wiki/%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92">动态规划</a>的不同在于它对每个子问题的解决方案都做出选择，不能回退。动态规划则会保存以前的运算结果，并根据以前的结果对当前进行选择，有回退功能。</p><p>贪心法可以解决一些<a href="https://zh.wikipedia.org/wiki/%E6%9C%80%E4%BC%98%E5%8C%96">最优化</a>问题，如：求<a href="https://zh.wikipedia.org/wiki/%E5%9B%BE">图</a>中的<a href="https://zh.wikipedia.org/wiki/%E6%9C%80%E5%B0%8F%E7%94%9F%E6%88%90%E6%A0%91">最小生成树</a>、求<a href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%A4%AB%E6%9B%BC%E7%BC%96%E7%A0%81">哈夫曼编码</a>……对于其他问题，贪心法一般不能得到我们所要求的答案。一旦一个问题可以通过贪心法来解决，那么贪心法一般是解决这个问题的最好办法。由于贪心法的高效性以及其所求得的答案比较接近最优结果，贪心法也可以用作辅助算法或者直接解决一些要求结果不特别精确的问题。在不同情况，选择最优的解，可能会导致辛普森悖论（Simpson’s Paradox），不一定出现最优的解。</p><p>贪心算法在数据科学领域被广泛应用，特别是金融工程。其中一个贪心算法例子就是Ensemble method。</p><ol><li>创建数学模型来描述问题。</li><li>把求解的问题分成若干个<strong>子问题</strong>。</li><li>对每一子问题求解，得到子问题的局部最优解。</li><li>把子问题的解局部最优解合成原来解问题的一个解。</li></ol><p>实现该算法的过程：<br>从问题的某一初始解出发；while 能朝给定总目标前进一步 do，求出可行解的一个解元素；<br>最后，由所有解元素组合成问题的一个可行解。</p><h3 id="A-算法"><a href="#A-算法" class="headerlink" title="A*算法"></a>A*算法</h3><p><strong>A*搜索算法</strong>（A* search algorithm）是一种在图形平面上，有多个<a href="https://zh.wikipedia.org/wiki/%E7%AF%80%E9%BB%9E">节点</a>的<a href="https://zh.wikipedia.org/wiki/%E8%B7%AF%E5%BE%84">路径</a>，求出最低通过<a href="https://zh.wikipedia.org/wiki/%E6%88%90%E6%9C%AC">成本</a>的<a href="https://zh.wikipedia.org/wiki/%E7%AE%97%E6%B3%95">算法</a>。常用于游戏中的NPC的移动计算，或<a href="https://zh.wikipedia.org/wiki/%E7%BD%91%E7%BB%9C%E6%B8%B8%E6%88%8F">网络游戏</a>的BOT的移动计算上。</p><p>该算法综合了<a href="https://zh.wikipedia.org/w/index.php?title=%E6%9C%80%E8%89%AF%E5%84%AA%E5%85%88%E6%90%9C%E7%B4%A2&action=edit&redlink=1">最良优先搜索</a>和<a href="https://zh.wikipedia.org/wiki/Dijkstra%E7%AE%97%E6%B3%95">Dijkstra算法</a>的优点：在进行启发式搜索提高算法效率的同时，可以保证找到一条最优路径（基于评估函数）。</p><p>在此算法中，如果以{\displaystyle g(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d4ad18070e494503403daf39398e711c1378348e" alt="g(n)">表示从起点到任意顶点{\displaystyle n}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n">的实际距离，{\displaystyle h(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/125976c5970a395422e1baf572a26f31ae5e0b7d" alt="h(n)">表示任意顶点{\displaystyle n}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n">到目标顶点的估算距离（根据所采用的评估函数的不同而变化），那么A*算法的估算函数为：</p><p>这个公式遵循以下特性：</p><ul><li>如果{\displaystyle g(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d4ad18070e494503403daf39398e711c1378348e" alt="g(n)">为0，即只计算任意顶点{\displaystyle n}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n">到目标的评估函数{\displaystyle h(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/125976c5970a395422e1baf572a26f31ae5e0b7d" alt="h(n)">，而不计算起点到顶点{\displaystyle n}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n">的距离，则算法转化为使用贪心策略的<a href="https://zh.wikipedia.org/w/index.php?title=%E6%9C%80%E8%89%AF%E5%84%AA%E5%85%88%E6%90%9C%E7%B4%A2&action=edit&redlink=1">最良优先搜索</a>，速度最快，但可能得不出最优解；</li><li>如果{\displaystyle h(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/125976c5970a395422e1baf572a26f31ae5e0b7d" alt="h(n)">不大于顶点{\displaystyle n}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n">到目标<a href="https://zh.wikipedia.org/wiki/%E9%A1%B6%E7%82%B9_(%E5%9B%BE%E8%AE%BA)">顶点</a>的实际距离，则一定可以求出最优解，而且{\displaystyle h(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/125976c5970a395422e1baf572a26f31ae5e0b7d" alt="h(n)">越小，需要计算的节点越多，算法效率越低，常见的评估函数有——<a href="https://zh.wikipedia.org/wiki/%E6%AC%A7%E5%87%A0%E9%87%8C%E5%BE%97%E8%B7%9D%E7%A6%BB">欧几里得距离</a>、<a href="https://zh.wikipedia.org/wiki/%E6%9B%BC%E5%93%88%E9%A0%93%E8%B7%9D%E9%9B%A2">曼哈顿距离</a>、<a href="https://zh.wikipedia.org/wiki/%E5%88%87%E6%AF%94%E9%9B%AA%E5%A4%AB%E8%B7%9D%E7%A6%BB">切比雪夫距离</a>；</li><li>如果{\displaystyle h(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/125976c5970a395422e1baf572a26f31ae5e0b7d" alt="h(n)">为0，即只需求出起点到任意顶点{\displaystyle n}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/a601995d55609f2d9f5e233e36fbe9ea26011b3b" alt="n">的最短路径{\displaystyle g(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/d4ad18070e494503403daf39398e711c1378348e" alt="g(n)">，而不计算任何评估函数{\displaystyle h(n)}<img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/125976c5970a395422e1baf572a26f31ae5e0b7d" alt="h(n)">，则转化为<a href="https://zh.wikipedia.org/w/index.php?title=%E5%8D%95%E6%BA%90%E6%9C%80%E7%9F%AD%E8%B7%AF%E5%BE%84&action=edit&redlink=1">单源最短路径</a>问题，即<a href="https://zh.wikipedia.org/wiki/Dijkstra%E7%AE%97%E6%B3%95">Dijkstra算法</a>，此时需要计算最多的顶点；</li></ul><h2 id="文件的使用"><a href="#文件的使用" class="headerlink" title="文件的使用"></a>文件的使用</h2><h3 id="–用户登录"><a href="#–用户登录" class="headerlink" title="–用户登录"></a>–用户登录</h3><p>先创建一个目录falg</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">c_flag</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;flag&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        file.write(<span class="string">&quot;1&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">init</span>():</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;u_root&quot;</span>, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        root = &#123;<span class="string">&quot;username&quot;</span>: <span class="string">&quot;root&quot;</span>, <span class="string">&quot;password&quot;</span>: <span class="string">&quot;123456&quot;</span>&#125;</span><br><span class="line">        file.write(<span class="built_in">str</span>(root))</span><br><span class="line">    os.mkdir(<span class="string">&quot;users&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_login</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;********用户登录*********&quot;</span>)</span><br><span class="line">        user_name = <span class="built_in">input</span>(<span class="string">&quot;请输入账户名：&quot;</span>)</span><br><span class="line">        user_psw = <span class="built_in">input</span>(<span class="string">&quot;请输入密码：&quot;</span>)</span><br><span class="line">        user_list = os.listdir(<span class="string">&quot;./users&quot;</span>)</span><br><span class="line"></span><br><span class="line">        flag = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> user <span class="keyword">in</span> user_list:</span><br><span class="line">            <span class="keyword">if</span> user == user_name:</span><br><span class="line">                flag = <span class="number">1</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;登录中。。。。。&quot;</span>)</span><br><span class="line">                file = <span class="string">&quot;./users/&quot;</span> + user_name</span><br><span class="line">                file_user = <span class="built_in">open</span>(file)</span><br><span class="line">                user_info = <span class="built_in">eval</span>(file_user.read())</span><br><span class="line">                <span class="keyword">if</span> user_psw == user_info[<span class="string">&quot;u_psw&quot;</span>]:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;登录成功&quot;</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;-----------------&quot;</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;密码错误&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> flag == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> flag == <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;没有此用户，请先注册&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;参数有误&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_register</span>():</span><br><span class="line">    user_username = <span class="built_in">input</span>(<span class="string">&quot;请输入账户名：&quot;</span>)</span><br><span class="line">    user_psw = <span class="built_in">input</span>(<span class="string">&quot;请输入密码：&quot;</span>)</span><br><span class="line">    user_name = <span class="built_in">input</span>(<span class="string">&quot;请输入昵称：&quot;</span>)</span><br><span class="line">    user = &#123;<span class="string">&quot;u_username&quot;</span>: user_username, <span class="string">&quot;u_psw&quot;</span>: user_psw, <span class="string">&quot;u_name&quot;</span>: user_name&#125;</span><br><span class="line">    user_path = <span class="string">&quot;./users/&quot;</span> + user_username</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(user_path, <span class="string">&quot;w&quot;</span>) <span class="keyword">as</span> file_user:</span><br><span class="line">        file_user.write(<span class="built_in">str</span>(user))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">root_login</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;*******管理员登录*******&quot;</span>)</span><br><span class="line">        root_name = <span class="built_in">input</span>(<span class="string">&quot;请输入账户名：&quot;</span>)</span><br><span class="line">        root_psw = <span class="built_in">input</span>(<span class="string">&quot;请输入密码：&quot;</span>)</span><br><span class="line">        file_root = <span class="built_in">open</span>(<span class="string">&quot;u_root&quot;</span>)</span><br><span class="line">        root = <span class="built_in">eval</span>(file_root.read())</span><br><span class="line">        <span class="keyword">if</span> root_name == root[<span class="string">&quot;username&quot;</span>] <span class="keyword">and</span> root_psw == root[<span class="string">&quot;password&quot;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;登录成功&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;账号或密码有误&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_select</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">        user_type_select = <span class="built_in">input</span>(<span class="string">&quot;请选择用户类型:&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> user_type_select == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">            root_login()</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> user_type_select == <span class="string">&quot;2&quot;</span>:</span><br><span class="line">            <span class="keyword">while</span> <span class="number">1</span>:</span><br><span class="line">                select = <span class="built_in">input</span>(<span class="string">&quot;是否需要注册？(y/n)&quot;</span>)</span><br><span class="line">                <span class="keyword">if</span> select == <span class="string">&quot;y&quot;</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;------用户注册------&quot;</span>)</span><br><span class="line">                    user_register()</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> select == <span class="string">&quot;n&quot;</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;------用户登录------&quot;</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;输入有误，请重新输入！(y/n)&quot;</span>)</span><br><span class="line">            user_login()</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;输入有误，请重新输入！(1/2)&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_login_menu</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-----用户选择-----&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;1-管理员登录&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;2-用户登录&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;------------------&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    flag = <span class="built_in">open</span>(<span class="string">&quot;flag&quot;</span>)</span><br><span class="line">    word = flag.read()</span><br><span class="line">    <span class="keyword">if</span> word == <span class="string">&quot;0&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;首次启动&quot;</span>)</span><br><span class="line">        flag.close()</span><br><span class="line">        c_flag()</span><br><span class="line">        init()</span><br><span class="line">        print_login_menu()</span><br><span class="line">        user_select()</span><br><span class="line">    <span class="keyword">elif</span> word == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;欢迎回来&quot;</span>)</span><br><span class="line">        print_login_menu()</span><br><span class="line">        user_select()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;初始化参数错误&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h3 id="对文件中的数字排序"><a href="#对文件中的数字排序" class="headerlink" title="对文件中的数字排序"></a>对文件中的数字排序</h3><p>应有一个名为 number 的文件,里面存入以空格分隔的数字,例:</p><p>21 34 4 5 45 5 45 45 2 3  76 542 542 </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;number&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="keyword">for</span> fil <span class="keyword">in</span> file:</span><br><span class="line">        numberList = []</span><br><span class="line">        dlist = []</span><br><span class="line">        <span class="comment"># 分割存入列表</span></span><br><span class="line">        <span class="keyword">for</span> f <span class="keyword">in</span> <span class="built_in">list</span>(fil):</span><br><span class="line">            <span class="keyword">if</span> f == <span class="string">&quot;\40&quot;</span>:  <span class="comment"># 以空格分割</span></span><br><span class="line">                num = <span class="string">&quot;&quot;</span>.join(dlist)</span><br><span class="line">                dlist.clear()</span><br><span class="line">                numberList.append(<span class="built_in">int</span>(num))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dlist.append(f)</span><br><span class="line">        numberList.sort()</span><br><span class="line">        <span class="built_in">print</span>(numberList)</span><br></pre></td></tr></table></figure><p>或 直接 使用split函数 分割</p><p>但是分割后的数字为字符串类型,需转型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;number&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="keyword">for</span> fil <span class="keyword">in</span> file:</span><br><span class="line">        numberList = fil.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">        l = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> numberList:</span><br><span class="line">            l.append(<span class="built_in">int</span>(i))</span><br><span class="line">        l.sort()</span><br><span class="line">        <span class="built_in">print</span>(l)</span><br></pre></td></tr></table></figure><p>或 直接使用 </p><p>numberList = [int(x) for x in numberList]</p><p>转型</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;number&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="keyword">for</span> fil <span class="keyword">in</span> file:</span><br><span class="line">        numberList = fil.split(<span class="string">&quot; &quot;</span>)</span><br><span class="line">        numberList = [<span class="built_in">int</span>(x) <span class="keyword">for</span> x <span class="keyword">in</span> numberList]</span><br><span class="line">        numberList.sort()</span><br><span class="line">        <span class="built_in">print</span>(numberList)</span><br></pre></td></tr></table></figure><h3 id="注释实现"><a href="#注释实现" class="headerlink" title="注释实现"></a>注释实现</h3><p>实现类似python注释的功能,读取”u_root1”文件,但是不读取”#”后的内容</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">strs = []</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;u_root1&quot;</span>, <span class="string">&quot;r&quot;</span>) <span class="keyword">as</span> file:</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> file:</span><br><span class="line">        <span class="keyword">for</span> jing <span class="keyword">in</span> <span class="built_in">list</span>(s):</span><br><span class="line">            <span class="keyword">if</span> jing == <span class="string">&quot;#&quot;</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            strs.append(jing)</span><br><span class="line">            <span class="comment"># print(jing, end=&quot;&quot;)</span></span><br><span class="line">        strs.append(<span class="string">&quot;\n&quot;</span>)</span><br><span class="line">zz = <span class="string">&quot;&quot;</span>.join(strs)</span><br><span class="line"><span class="built_in">print</span>(zz)</span><br></pre></td></tr></table></figure><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;我的名字是：%s，年龄为：%d&quot;</span> % (<span class="string">&#x27;小强&#x27;</span>, <span class="number">13</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;我的名字是：&#123;&#125;，年龄为：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&#x27;小强&#x27;</span>, <span class="number">13</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;我的名字是：&#123;1&#125;，年龄为：&#123;0&#125;&quot;</span>.<span class="built_in">format</span>(<span class="number">13</span>, <span class="string">&#x27;小强&#x27;</span>))</span><br><span class="line"><span class="comment"># print(&quot;我的名字是：%s，年龄为：%d&quot; % (13, &#x27;小强&#x27;))  报错</span></span><br><span class="line"></span><br><span class="line">a = <span class="string">&quot;q_&quot;</span></span><br><span class="line"><span class="comment"># 如果字符串至少有一个字符并且所有字符都是字母则返回 True，否则返回 False。</span></span><br><span class="line"><span class="built_in">print</span>(a.isalpha()) </span><br></pre></td></tr></table></figure><h3 id="绘制直方图"><a href="#绘制直方图" class="headerlink" title="绘制直方图"></a>绘制直方图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(np.random.rand(<span class="number">10</span>, <span class="number">4</span>))  <span class="comment"># 4行10列 的二维列表</span></span><br><span class="line">df = pd.DataFrame(np.random.rand(<span class="number">10</span>, <span class="number">4</span>), columns=[<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>])</span><br><span class="line">df.plot(stacked=<span class="literal">True</span>, kind=<span class="string">&quot;bar&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h3 id="爬虫"><a href="#爬虫" class="headerlink" title="爬虫"></a>爬虫</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">baidu_url = <span class="string">&#x27;https://www.baidu.com/&#x27;</span></span><br><span class="line">res = requests.get(baidu_url)</span><br><span class="line"><span class="built_in">print</span>(res.status_code)</span><br><span class="line"><span class="built_in">print</span>(res.encoding)</span><br><span class="line">res.encoding = <span class="string">&#x27;utf-8&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;网页源码：\n&#123;&#125;&quot;</span>.<span class="built_in">format</span>(res.text))</span><br></pre></td></tr></table></figure><h3 id="曲线图"><a href="#曲线图" class="headerlink" title="曲线图"></a>曲线图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Simhei&#x27;</span>]  <span class="comment"># 中文</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>  <span class="comment"># 符号</span></span><br><span class="line"></span><br><span class="line">data = np.arange(<span class="number">0</span>, <span class="number">1.1</span>, <span class="number">0.01</span>)</span><br><span class="line">plt.title(<span class="string">&quot;曲线&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;x&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;y&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks([<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1</span>])</span><br><span class="line">plt.yticks([<span class="number">0</span>, <span class="number">0.5</span>, <span class="number">1.0</span>])</span><br><span class="line">plt.plot(data, data ** <span class="number">2</span>)</span><br><span class="line">plt.plot(data, data ** <span class="number">3</span>)</span><br><span class="line">plt.legend([<span class="string">&quot;y=x^2&quot;</span>, <span class="string">&quot;y=x^3&quot;</span>])</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mport numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Simhei&#x27;</span>]  <span class="comment"># 中文</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>  <span class="comment"># 符号</span></span><br><span class="line"><span class="comment"># plt.figure(figsize=(10, 6), facecolor=&#x27;gray&#x27;)</span></span><br><span class="line"><span class="comment"># # plt.axes([0.1, 0.5, 0.7, 0.3])</span></span><br><span class="line"><span class="comment"># # plt.subplot(323)</span></span><br><span class="line"><span class="comment"># plt.subplots(2, 2)</span></span><br><span class="line"><span class="comment"># plt.show()  # 绘图区域</span></span><br><span class="line">x = np.linspace(-np.pi, np.pi, <span class="number">256</span>, endpoint=<span class="literal">True</span>)</span><br><span class="line">c, s = np.cos(x), np.sin(x)</span><br><span class="line">plt.plot(x, s, <span class="string">&#x27;m:&#x27;</span>)</span><br><span class="line">plt.plot(x, c, <span class="string">&#x27;c--&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h3 id="雷达图"><a href="#雷达图" class="headerlink" title="雷达图"></a>雷达图</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">&#x27;Simhei&#x27;</span>]  <span class="comment"># 中文</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>  <span class="comment"># 符号</span></span><br><span class="line"></span><br><span class="line">courses = np.array([<span class="string">&#x27;Java&#x27;</span>, <span class="string">&#x27;Python&#x27;</span>, <span class="string">&#x27;C,&#x27;</span>, <span class="string">&#x27;SpringBoot&#x27;</span>, <span class="string">&#x27;Vue&#x27;</span>, <span class="string">&#x27;JavaScript&#x27;</span>])</span><br><span class="line">scores = np.array([[<span class="number">95</span>, <span class="number">75</span>, <span class="number">74</span>],</span><br><span class="line">                   [<span class="number">95</span>, <span class="number">23</span>, <span class="number">86</span>],</span><br><span class="line">                   [<span class="number">65</span>, <span class="number">75</span>, <span class="number">86</span>],</span><br><span class="line">                   [<span class="number">95</span>, <span class="number">75</span>, <span class="number">98</span>],</span><br><span class="line">                   [<span class="number">56</span>, <span class="number">75</span>, <span class="number">86</span>],</span><br><span class="line">                   [<span class="number">95</span>, <span class="number">87</span>, <span class="number">49</span>]])</span><br><span class="line"></span><br><span class="line">data_length = <span class="built_in">len</span>(scores)  <span class="comment"># 6</span></span><br><span class="line">angles = np.linspace(<span class="number">0</span>, <span class="number">2</span> * np.pi, data_length, endpoint=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">scores = np.concatenate((scores, [scores[<span class="number">0</span>]]))  <span class="comment"># 7</span></span><br><span class="line">angles1 = np.concatenate((angles, [angles[<span class="number">0</span>]]))  <span class="comment"># 7</span></span><br><span class="line">plt.polar(angles1, scores, <span class="string">&#x27;o-&#x27;</span>, linewidth=<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">plt.thetagrids(angles * <span class="number">180</span> / np.pi, courses, fontproperties=<span class="string">&#x27;simhei&#x27;</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">&quot;成绩评估&quot;</span>)</span><br><span class="line">plt.legend([<span class="string">&#x27;软件1909&#x27;</span>, <span class="string">&#x27;软件1909&#x27;</span>, <span class="string">&#x27;软件1909&#x27;</span>], loc=(<span class="number">0.94</span>, <span class="number">0.80</span>), labelspacing=<span class="number">0.1</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><h3 id="pandas模块"><a href="#pandas模块" class="headerlink" title="pandas模块"></a>pandas模块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">df_obj = pd.DataFrame([[<span class="number">11.0</span>, np.nan, <span class="number">5.0</span>, <span class="number">6.0</span>], [<span class="number">1.0</span>, np.nan, np.nan, <span class="number">8.0</span>]])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df_obj)</span><br><span class="line"></span><br><span class="line">df_obj.isnull()</span><br><span class="line"><span class="comment">#        0     1      2      3</span></span><br><span class="line"><span class="comment"># 0  False  True  False  False</span></span><br><span class="line"><span class="comment"># 1  False  True   True  False</span></span><br><span class="line">df_obj.dropna(axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#       0    3</span></span><br><span class="line"><span class="comment"># 0  11.0  6.0</span></span><br><span class="line"><span class="comment"># 1   1.0  8.0</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
            <tag> 笔记 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ES6语法新特性</title>
      <link href="/artical/c2850c04.html"/>
      <url>/artical/c2850c04.html</url>
      
        <content type="html"><![CDATA[<h1 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h1><p>参考文章:</p><blockquote><ul><li><a href="https://zhuanlan.zhihu.com/p/30400262">https://zhuanlan.zhihu.com/p/30400262</a></li><li><a href="http://caibaojian.com/es6/class.html">http://caibaojian.com/es6/class.html</a></li><li><a href="https://www.jianshu.com/p/d23a506cdca2">https://www.jianshu.com/p/d23a506cdca2</a></li></ul></blockquote><h2 id="查看对es6语法的支持"><a href="#查看对es6语法的支持" class="headerlink" title="查看对es6语法的支持"></a>查看对es6语法的支持</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">D</span>:\desktop\<span class="title class_">Vue</span>&gt; npm install -g es-checker</span><br><span class="line"></span><br><span class="line">added <span class="number">13</span> packages <span class="keyword">in</span> 4s</span><br><span class="line"><span class="variable constant_">PS</span> <span class="attr">D</span>:\desktop\<span class="title class_">Vue</span>&gt; es-checker</span><br><span class="line"></span><br><span class="line"><span class="title class_">ECMAScript</span> <span class="number">6</span> <span class="title class_">Feature</span> <span class="title class_">Detection</span> (v1<span class="number">.4</span><span class="number">.2</span>)</span><br><span class="line"></span><br><span class="line"><span class="title class_">Variables</span></span><br><span class="line">  √ <span class="keyword">let</span> and <span class="keyword">const</span></span><br><span class="line">  √ <span class="variable constant_">TDZ</span> error <span class="keyword">for</span> too-early access <span class="keyword">of</span> <span class="keyword">let</span> or <span class="keyword">const</span> declarations  </span><br><span class="line">  √ <span class="title class_">Redefinition</span> <span class="keyword">of</span> <span class="keyword">const</span> declarations not allowed</span><br><span class="line">  √ destructuring assignments/declarations <span class="keyword">for</span> arrays and objects</span><br><span class="line">  √ ... operator</span><br><span class="line"></span><br><span class="line"><span class="title class_">Data</span> <span class="title class_">Types</span></span><br><span class="line">  √ <span class="title class_">For</span>...<span class="keyword">of</span> loop</span><br><span class="line">  √ <span class="title class_">Map</span>, <span class="title class_">Set</span>, <span class="title class_">WeakMap</span>, <span class="title class_">WeakSet</span></span><br><span class="line">  √ <span class="title class_">Symbol</span></span><br><span class="line">  √ <span class="title class_">Symbols</span> cannot be implicitly coerced</span><br><span class="line"></span><br><span class="line"><span class="title class_">Number</span></span><br><span class="line">  √ <span class="title class_">Octal</span> (e.<span class="property">g</span>. <span class="number">0o1</span> ) and binary (e.<span class="property">g</span>. <span class="number">0b10</span> ) literal forms</span><br><span class="line">  √ <span class="title class_">Old</span> octal literal invalid now (e.<span class="property">g</span>. <span class="number">01</span> )</span><br><span class="line">  √ <span class="title class_">Static</span> functions added to <span class="title class_">Math</span> (e.<span class="property">g</span>. <span class="title class_">Math</span>.<span class="title function_">hypot</span>(), <span class="title class_">Math</span>.<span class="title function_">acosh</span>(), <span class="title class_">Math</span>.<span class="title function_">imul</span>() )</span><br><span class="line">  √ <span class="title class_">Static</span> functions added to <span class="title class_">Number</span> (<span class="title class_">Number</span>.<span class="built_in">isNaN</span>(), <span class="title class_">Number</span>.<span class="title function_">isInteger</span>() )</span><br><span class="line"></span><br><span class="line"><span class="title class_">String</span></span><br><span class="line">  √ <span class="title class_">Methods</span> added to <span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span> (<span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">includes</span>(), <span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">repeat</span>() )</span><br><span class="line">  √ <span class="title class_">Unicode</span> code-point <span class="built_in">escape</span> form <span class="keyword">in</span> string literals (e.<span class="property">g</span>. \u&#123;20BB7&#125; )</span><br><span class="line">  √ <span class="title class_">Unicode</span> code-point <span class="built_in">escape</span> form <span class="keyword">in</span> identifier names (e.<span class="property">g</span>. <span class="keyword">var</span> \u&#123;20BB7&#125; = <span class="number">42</span>; )</span><br><span class="line">  √ <span class="title class_">Unicode</span> code-point <span class="built_in">escape</span> form <span class="keyword">in</span> regular expressions (e.<span class="property">g</span>. <span class="keyword">var</span> regexp = <span class="regexp">/\u&#123;20BB7&#125;/u</span>; )</span><br><span class="line">  √ y flag <span class="keyword">for</span> sticky regular expressions (e.<span class="property">g</span>. /b/y )</span><br><span class="line">  √ <span class="title class_">Template</span> <span class="title class_">String</span> <span class="title class_">Literals</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Function</span></span><br><span class="line">  √ arrow <span class="keyword">function</span></span><br><span class="line">  √ <span class="keyword">default</span> <span class="keyword">function</span> parameter values</span><br><span class="line">  √ destructuring <span class="keyword">for</span> <span class="keyword">function</span> parameters</span><br><span class="line">  √ <span class="title class_">Inferences</span> <span class="keyword">for</span> <span class="keyword">function</span> name property <span class="keyword">for</span> anonymous functions</span><br><span class="line">  × <span class="title class_">Tail</span>-call optimization <span class="keyword">for</span> <span class="keyword">function</span> calls and recursion</span><br><span class="line"></span><br><span class="line"><span class="title class_">Array</span></span><br><span class="line">  √ <span class="title class_">Methods</span> added to <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span> ([].<span class="title function_">fill</span>(), [].<span class="title function_">find</span>(), [].<span class="title function_">findIndex</span>(), [].<span class="title function_">entries</span>(), [].<span class="title function_">keys</span>(), [].<span class="title function_">values</span>() )</span><br><span class="line">  √ <span class="title class_">Static</span> functions added to <span class="title class_">Array</span> (<span class="title class_">Array</span>.<span class="title function_">from</span>(), <span class="title class_">Array</span>.<span class="title function_">of</span>() )</span><br><span class="line">  √ <span class="title class_">TypedArrays</span> like <span class="title class_">Uint8Array</span>, <span class="title class_">ArrayBuffer</span>, <span class="title class_">Int8Array</span>(), <span class="title class_">Int32Array</span>(), <span class="title class_">Float64Array</span>()</span><br><span class="line">  √ <span class="title class_">Some</span> <span class="title class_">Array</span> methods (e.<span class="property">g</span>. <span class="title class_">Int8Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">slice</span>(), <span class="title class_">Int8Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">join</span>(), <span class="title class_">Int8Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">forEach</span>() ) added to the <span class="title class_">TypedArray</span> prototypes    </span><br><span class="line">  √ <span class="title class_">Some</span> <span class="title class_">Array</span> statics (e.<span class="property">g</span>. <span class="title class_">Uint32Array</span>.<span class="title function_">from</span>(), <span class="title class_">Uint32Array</span>.<span class="title function_">of</span>() ) added to the <span class="title class_">TypedArray</span> constructors</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span></span><br><span class="line">  √ __proto__ <span class="keyword">in</span> object literal definition sets [[<span class="title class_">Prototype</span>]] link</span><br><span class="line">  √ <span class="title class_">Static</span> functions added to <span class="title class_">Object</span> (<span class="title class_">Object</span>.<span class="title function_">getOwnPropertySymbols</span>(), <span class="title class_">Object</span>.<span class="title function_">assign</span>() )</span><br><span class="line">  √ <span class="title class_">Object</span> <span class="title class_">Literal</span> <span class="title class_">Computed</span> <span class="title class_">Property</span></span><br><span class="line">  √ <span class="title class_">Object</span> <span class="title class_">Literal</span> <span class="title class_">Property</span> <span class="title class_">Shorthands</span></span><br><span class="line">  √ <span class="title class_">Proxies</span></span><br><span class="line">  √ <span class="title class_">Reflect</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Generator</span> and <span class="title class_">Promise</span></span><br><span class="line">  √ <span class="title class_">Generator</span> <span class="keyword">function</span></span><br><span class="line">  √ <span class="title class_">Promises</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Class</span></span><br><span class="line">  √ <span class="title class_">Class</span></span><br><span class="line">  √ <span class="variable language_">super</span> allowed <span class="keyword">in</span> object methods</span><br><span class="line">  √ <span class="keyword">class</span> <span class="title class_">ABC</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Array</span> &#123; .. &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Module</span></span><br><span class="line">  × <span class="title class_">Module</span> <span class="keyword">export</span> command</span><br><span class="line">  × <span class="title class_">Module</span> <span class="keyword">import</span> command</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">=========================================</span><br><span class="line"><span class="title class_">Passes</span> <span class="number">39</span> feature <span class="title class_">Detections</span></span><br><span class="line"><span class="title class_">Your</span> runtime supports <span class="number">92</span>% <span class="keyword">of</span> <span class="title class_">ECMAScript</span> <span class="number">6</span></span><br><span class="line">=========================================</span><br></pre></td></tr></table></figure><h2 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h2><h3 id="var-let-const"><a href="#var-let-const" class="headerlink" title="var,let,const"></a>var,let,const</h3><p>在能实现相同的功能情况下,  使用优先级: const &gt; let &gt; var</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str1 = <span class="string">&quot;const定义&quot;</span>;</span><br><span class="line"><span class="comment">// const定义常量, 不可改变 Assignment to constant variable.</span></span><br><span class="line"><span class="comment">// str1 = &quot;change&quot;;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 但是常量定义的对象中的 </span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Tiam&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="property">name</span> = <span class="string">&quot;字节跳动&quot;</span>;</span><br><span class="line">obj.<span class="property">age</span> = <span class="number">9</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj); <span class="comment">// &#123; name: &#x27;字节跳动&#x27;, age: 9 &#125;</span></span><br></pre></td></tr></table></figure><h3 id="模板字符串-字符串遍历"><a href="#模板字符串-字符串遍历" class="headerlink" title="模板字符串 | 字符串遍历"></a>模板字符串 | 字符串遍历</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6 模板字符串语法</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;妖怪&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;str&#125;</span>看打`</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历字符串</span></span><br><span class="line"><span class="keyword">let</span> string = <span class="string">&quot;abcdefghijklmnopqrstuvwxyz&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印0~25</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> c <span class="keyword">in</span> string) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 打印a~z</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> c <span class="keyword">of</span> string) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(c);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 解构赋值</span></span><br><span class="line"><span class="keyword">const</span> str2 = <span class="string">&quot;PUA&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> [a, b, c] = str2;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a, b, c);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2[<span class="number">1</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 字符串方法</span></span><br><span class="line"><span class="comment">// 判断是否包含某个字符</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2.<span class="title function_">includes</span>(<span class="string">&quot;A&quot;</span>));</span><br><span class="line"><span class="comment">// 重复拼接自身</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2.<span class="title function_">repeat</span>(<span class="number">2</span>));</span><br></pre></td></tr></table></figure><h3 id="set-map-object"><a href="#set-map-object" class="headerlink" title="set, map, object"></a>set, map, object</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对象</span></span><br><span class="line"><span class="keyword">let</span> obj_name, obj_age;</span><br><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    obj_name,</span><br><span class="line">    obj_age,</span><br><span class="line">    <span class="title function_">obj_func</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">obj_name</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj1.<span class="property">obj_name</span> = <span class="string">&quot;对象名&quot;</span></span><br><span class="line">obj1.<span class="title function_">obj_func</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Set结构, 不存储重复值</span></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">set.<span class="title function_">add</span>(<span class="string">&quot;one&quot;</span>);</span><br><span class="line">set.<span class="title function_">add</span>(<span class="string">&quot;two&quot;</span>);</span><br><span class="line">set.<span class="title function_">add</span>(<span class="string">&quot;one&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(set);  <span class="comment">// Set(2) &#123; &#x27;one&#x27;, &#x27;two&#x27; &#125;</span></span><br><span class="line">set.<span class="title function_">forEach</span>(<span class="function"><span class="params">i</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(i))</span><br><span class="line"></span><br><span class="line"><span class="comment">// Map结构</span></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;邓紫棋&quot;</span>, <span class="string">&quot;《多远都要在一起》&quot;</span>).<span class="title function_">set</span>(<span class="string">&quot;周杰伦&quot;</span>, <span class="string">&quot;《明明就》&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(map);</span><br></pre></td></tr></table></figure><h3 id="rest参数-函数参数默认值-箭头函数-扩展运算符"><a href="#rest参数-函数参数默认值-箭头函数-扩展运算符" class="headerlink" title="rest参数 | 函数参数默认值 | 箭头函数 | 扩展运算符"></a>rest参数 | 函数参数默认值 | 箭头函数 | 扩展<a href="https://so.csdn.net/so/search?q=%E8%BF%90%E7%AE%97%E7%AC%A6&spm=1001.2101.3001.7020">运算符</a></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义函数参数带默认值</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun</span>(<span class="params">name = <span class="string">&quot;Tiam&quot;</span>, age = <span class="number">18</span></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;name&#125;</span>, <span class="subst">$&#123;age&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun</span>();</span><br><span class="line"><span class="title function_">fun</span>(<span class="string">&quot;字节&quot;</span>, <span class="number">102</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 箭头函数 | 接收不定数的参数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun1</span> = (<span class="params">...songs</span>) =&gt; <span class="variable language_">console</span>.<span class="title function_">log</span>(songs);</span><br><span class="line"><span class="title function_">fun1</span>(<span class="string">&quot;泡沫&quot;</span>, <span class="string">&quot;再见&quot;</span>, <span class="string">&quot;A.N.I.Y&quot;</span>, <span class="string">&quot;光年之外&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">fun2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>);  <span class="comment">// [Arguments] &#123; &#x27;0&#x27;: 1, &#x27;1&#x27;: 2, &#x27;2&#x27;: 3, &#x27;3&#x27;: 4, &#x27;4&#x27;: 5 &#125;</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>.<span class="property">length</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(...<span class="variable language_">arguments</span>);  <span class="comment">// 1 2 3 4 5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fun2</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 扩展运算符 =&gt; 可迭代对象包括常用的集合对象（数组、Set、Map集合）和字符串都是可迭代对象. =&gt; 展开数组</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="string">&quot;壹&quot;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;贰&quot;</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="string">&quot;叁&quot;</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;...obj&#125;);  <span class="comment">// &#123; &#x27;壹&#x27;: 1, &#x27;贰&#x27;: 2, &#x27;叁&#x27;: 3 &#125;</span></span><br></pre></td></tr></table></figure><h3 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a>Class类</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="comment">// 无构造方法时, 自动创建一个无参构造方法</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getName</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getAge</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">setName</span>(<span class="params">name</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">setAge</span>(<span class="params">age</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">toString</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span> + <span class="string">&#x27;(&#x27;</span> + <span class="variable language_">this</span>.<span class="property">age</span> + <span class="string">&#x27;)&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">run</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Just run!<span class="subst">$&#123;<span class="variable language_">this</span>.name&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">cry</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;so sad, so cry!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 类的本质就是 函数</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> <span class="title class_">Person</span>);  <span class="comment">// function</span></span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">cry</span>();</span><br><span class="line"><span class="keyword">let</span> scientist = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;爱因斯坦&quot;</span>, <span class="number">77</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(scientist);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(scientist.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> mathematician = <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">mathematician.<span class="title function_">setName</span>(<span class="string">&quot;Oula&quot;</span>);</span><br><span class="line">mathematician.<span class="title function_">setAge</span>(<span class="number">98</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mathematician.<span class="title function_">getName</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(mathematician.<span class="title function_">getAge</span>());</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 类的继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name, age, college</span>) &#123;</span><br><span class="line">        <span class="variable language_">super</span>(name, age);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">college</span> = college;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">getCollege</span>(<span class="params"></span>) &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">college</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> linux_father = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;林纳斯&quot;</span>, <span class="number">21</span>, <span class="string">&quot;芬兰大学&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(linux_father.<span class="property">getCollege</span>); <span class="comment">// [Function: getCollege]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(linux_father.<span class="title function_">getCollege</span>()); <span class="comment">// 芬兰大学</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(linux_father);  <span class="comment">// Student &#123; name: &#x27;林纳斯&#x27;, age: 21, college: &#x27;芬兰大学&#x27; &#125;</span></span><br><span class="line"><span class="title class_">Student</span>.<span class="title function_">cry</span>();</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="let、const、var-的区别"><a href="#let、const、var-的区别" class="headerlink" title="let、const、var 的区别"></a>let、const、var 的区别</h3><blockquote><ul><li>var:使用 var 声明的变量，其作用域为该语句所在的函数内，且存在变量提升现象</li><li>let:使用 let 声明的变量，其作用域为该语句所在的代码块内，不存在变量提升。</li><li>const:使用 const 声明的是常量，在后面出现的代码中不能再修改该常量的值。</li></ul></blockquote><table><thead><tr><th>var</th><th>let</th><th>const</th></tr></thead><tbody><tr><td>函数级作用域</td><td>块级作用域</td><td>块级作用域</td></tr><tr><td>变量提升</td><td>不存在变量提升</td><td>不存在变量提升</td></tr><tr><td>值可以改变</td><td>值可以改变</td><td>值不可以改变</td></tr></tbody></table><h6 id="1-关于let"><a href="#1-关于let" class="headerlink" title="1.关于let"></a>1.关于let</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span>; i++) &#123;</span><br><span class="line">    arr[i] = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">arr[<span class="number">0</span>]();</span><br><span class="line">arr[<span class="number">1</span>]();</span><br></pre></td></tr></table></figure><h6 id="2-关于const"><a href="#2-关于const" class="headerlink" title="2.关于const"></a>2.关于const</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//常量赋值后，值不能修改。</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.14</span>;</span><br><span class="line"> <span class="variable constant_">PI</span> = <span class="number">100</span>; <span class="comment">// 报错Assignment to constant variable. </span></span><br></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> ary = [<span class="number">100</span>, <span class="number">200</span>];</span><br><span class="line">ary[<span class="number">0</span>] = <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">ary[<span class="number">1</span>] = <span class="string">&#x27;b&#x27;</span>;</span><br><span class="line">console.<span class="built_in">log</span>(ary); <span class="comment">// [&#x27;a&#x27;, &#x27;b&#x27;]; </span></span><br><span class="line">ary = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>]; <span class="comment">// 报错Assignment to constant variable.</span></span><br></pre></td></tr></table></figure><h6 id="3-关于var"><a href="#3-关于var" class="headerlink" title="3.关于var"></a>3.关于var</h6><p>var关键字声明的变量，无论实际声明的位置在哪，都会被视为声明在函数的顶部、如果声明不在任意函数内，则视为在全局作用域的顶部</p><h3 id="ES模块导入规则"><a href="#ES模块导入规则" class="headerlink" title="ES模块导入规则"></a>ES模块导入规则</h3><p>*<strong>容易出错的地方*</strong></p><ol><li>页面不基于服务器运行，会出现跨域的错误<br><em>origin ‘null’ has been blocked by CORS policy: Cross origin requests are only</em></li><li>使用模块化时，页面不加type = “module” 会出现语法错误<br><em>app.js:1 Uncaught SyntaxError: Unexpected token {</em></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./module/app.js&quot;</span> type=<span class="string">&quot;module&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><ol start="3"><li>import导入模块时不添加 .js 的后缀名会报找不到module错误<br><em>GET xxx net::ERR_ABORTED 404 (Not Found)</em></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Student</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./Student.js&#x27;</span>;</span><br></pre></td></tr></table></figure><p><strong>导入导出方式</strong></p><ol><li>导出方式</li></ol><blockquote><ul><li>定义时导出</li><li>批量导出</li><li>导出重命名（不建议）</li><li>默认导出</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.定义时导出</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> uname = <span class="string">&#x27;李四&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">showStudentName</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(uname);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">SomeAnimalInfo</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">type,age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">type</span> = type;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">showInfo</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`物种:<span class="subst">$&#123;<span class="variable language_">this</span>.type&#125;</span>,年龄：<span class="subst">$&#123;<span class="variable language_">this</span>.age&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.批量导出</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">PI</span> = <span class="number">3.1415926</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DBNAME</span> = <span class="string">&#x27;Local&#x27;</span>;</span><br><span class="line">... ...</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; <span class="variable constant_">PI</span>, <span class="variable constant_">DBNAME</span> &#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.默认导出 - 工具类</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">class</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">log</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> now = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;now.toLocaleString()&#125;</span>    <span class="subst">$&#123;msg&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">setCookie</span>(<span class="params"></span>)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    ... ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>导入方式</p><blockquote><ul><li>导入重命名</li><li>导入整个模块</li><li>导入默认模块</li></ul></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.导入重命名  as语法</span></span><br><span class="line"><span class="keyword">import</span> &#123;num, showStudentName <span class="keyword">as</span> showName&#125; <span class="keyword">from</span> <span class="string">&#x27;./all.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2.导入整个模块   需要使用as重命名，接收的是一个对象</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> cons <span class="keyword">from</span> <span class="string">&#x27;./const.js&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3.导入默认模块   需要起名，名字包含导出内容</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Tool</span> <span class="keyword">from</span> <span class="string">&#x27;./tools.js&#x27;</span>;</span><br></pre></td></tr></table></figure><h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><p>ES6引入了一种新的原始数据类型Symbol，表示独一无二的值。它是JavaScript语言的第七种数据类型，前六种是：Undefined、Null、布尔值（Boolean）、字符串（String）、数值（Number）、对象（Object）</p><blockquote><ul><li>Symbol</li><li>null</li><li>undefined</li><li>boolean</li><li>string</li><li>number</li><li>object</li></ul></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str1 = <span class="string">&quot;邓紫棋&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">&quot;邓紫棋&quot;</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1); <span class="comment">// 邓紫棋</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str1); <span class="comment">//string</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str1 == str2);  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> str3 = <span class="title class_">Symbol</span>(<span class="string">&quot;邓紫棋&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> str4 = <span class="title class_">Symbol</span>(<span class="string">&quot;邓紫棋&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str3); <span class="comment">//Symbol(邓紫棋)</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str3); <span class="comment">//symbol</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str3 == str4);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="Promise对象"><a href="#Promise对象" class="headerlink" title="Promise对象"></a>Promise对象</h3><ul><li>Promise是异步编程的一种解决方案</li><li>简单说就是一个容器，里面保存着某个未来才会结束的事件（通常是一个异步操作）的结果。</li><li>从语法上说，Promise是一个对象，从它可以获取异步操作的消息。</li><li>Promise提供统一的API，各种异步操作都可以用同样的方法进行处理。</li><li>ES6规定，Promise对象是一个构造函数，用来生成Promise实例。</li><li><a href="http://caibaojian.com/es6/promise.html">http://caibaojian.com/es6/promise.html</a></li></ul><h3 id="进制表示"><a href="#进制表示" class="headerlink" title="进制表示"></a>进制表示</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二进制</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0B101</span> == <span class="number">5</span>);  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 八进制</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0O777</span>);  <span class="comment">// 511</span></span><br></pre></td></tr></table></figure><h3 id="Array-from"><a href="#Array-from" class="headerlink" title="Array.from"></a>Array.from</h3><ul><li>只要是部署了Iterator接口的数据结构，<code>Array.from</code>都能将其转为数组</li><li>类似数组的对象（array-like object）和可遍历（iterable）的对象（包括ES6新增的数据结构Set和Map)</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.from</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.<span class="title function_">set</span>(<span class="string">&quot;邓紫棋&quot;</span>, <span class="string">&quot;《多远都要在一起》&quot;</span>).<span class="title function_">set</span>(<span class="string">&quot;周杰伦&quot;</span>, <span class="string">&quot;《明明就》&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr1 = <span class="title class_">Array</span>.<span class="title function_">from</span>(map);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> set = <span class="keyword">new</span> <span class="title class_">Set</span>();</span><br><span class="line">set.<span class="title function_">add</span>(<span class="string">&quot;one&quot;</span>).<span class="title function_">add</span>(<span class="string">&quot;two&quot;</span>).<span class="title function_">add</span>(<span class="string">&quot;three&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="title class_">Array</span>.<span class="title function_">from</span>(set);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arrayLike = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">&quot;Tiam&quot;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="number">18</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&quot;hbnu&quot;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> arr3 = <span class="title class_">Array</span>.<span class="title function_">from</span>(arrayLike);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr3);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Array.of 方法用于将一组值，转换为数组。</span></span><br><span class="line"><span class="comment">// 只有当参数个数不少于2个时，Array()才会返回由参数组成的新数组。参数个数只有一个时，实际上是指定数组的长度</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr4 = <span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">1</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&#x27;3&#x27;</span>, <span class="literal">true</span>, set, map);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr4);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 函数的name属性</span></span><br><span class="line"><span class="keyword">let</span> fun = <span class="keyword">function</span> (<span class="params"></span>) &#123; &#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(fun.<span class="property">name</span>);</span><br></pre></td></tr></table></figure><h3 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h3><ul><li>ES6 =&gt; 只要函数参数使用了默认值、解构赋值、或者扩展运算符，那么函数内部就不能显式设定为严格模式</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">   <span class="comment">// 声明为严格模式</span></span><br><span class="line">  <span class="string">&#x27;use strict&#x27;</span>;</span><br><span class="line">  <span class="comment">// code</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h3><p>箭头函数有几个使用注意点。</p><p>（1）函数体内的<code>this</code>对象，就是定义时所在的对象，而不是使用时所在的对象。</p><p>（2）不可以当作构造函数，也就是说，不可以使用<code>new</code>命令，否则会抛出一个错误。</p><p>（3）不可以使用<code>arguments</code>对象，该对象在函数体内不存在。如果要用，可以用Rest参数代替。</p><p>（4）不可以使用<code>yield</code>命令，因此箭头函数不能用作Generator函数。</p><p>上面四点中，第一点尤其值得注意。*<code>this</code>对象的指向是可变的，但是在箭头函数中，它是固定的*。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 箭头函数</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 一个参数时, 不需要写括号; 函数体只有一条语句时, 且为返回语句时, 可省大括号</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">pow2</span> = param =&gt; param * param;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">pow2</span>(<span class="number">9</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 无参</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun1</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;操作系统&quot;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;数据结构&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fun1</span>();</span><br><span class="line"><span class="comment">// 多个参数</span></span><br><span class="line"><span class="keyword">let</span> <span class="title function_">fun2</span> = (<span class="params">song1,song2</span>)=&gt;&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;song1&#125;</span>很好听`</span>);</span><br><span class="line">    <span class="keyword">return</span> song2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fun2</span>(<span class="string">&quot;where are you&quot;</span>, <span class="string">&quot;kiss the rain&quot;</span>));</span><br></pre></td></tr></table></figure><h3 id="Generator-函数"><a href="#Generator-函数" class="headerlink" title="Generator 函数"></a>Generator 函数</h3><ul><li>Generator函数是分段执行的，<code>yield</code>语句是暂停执行的标记，而<code>next</code>方法可以恢复执行。</li><li>Generator函数是一个状态机，封装了多个内部状态。</li><li>执行Generator函数会返回一个遍历器对象，也就是说，Generator函数除了状态机，还是一个遍历器对象生成函数</li><li><code>function</code>关键字与函数名之间有一个星号；</li><li>函数体内部使用<code>yield</code>语句，定义不同的内部状态</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Generator 函数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span>* <span class="title function_">hwg</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="keyword">yield</span> <span class="string">&quot;World&quot;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;end&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> generatorFun = <span class="title function_">hwg</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(generatorFun.<span class="title function_">next</span>());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">&#123; value: &#x27;Hello&#x27;, done: false &#125;</span></span><br><span class="line"><span class="comment">&#123; value: &#x27;World&#x27;, done: false &#125;</span></span><br><span class="line"><span class="comment">&#123; value: &#x27;end&#x27;, done: true &#125;</span></span><br><span class="line"><span class="comment">&#123; value: undefined, done: true &#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      <categories>
          
          <category> JavaScript </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ES6 </tag>
            
            <tag> JavaScript </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C常见编程题</title>
      <link href="/artical/4b4998f0.html"/>
      <url>/artical/4b4998f0.html</url>
      
        <content type="html"><![CDATA[<h1 id="2022-06-13"><a href="#2022-06-13" class="headerlink" title="2022 06 13"></a>2022 06 13</h1><h2 id="1-累计和"><a href="#1-累计和" class="headerlink" title="1. 累计和"></a>1. 累计和</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i=<span class="number">1</span>,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (i&lt;=<span class="number">100</span>)</span><br><span class="line">sum+=i++;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-兔子数列第10项"><a href="#2-兔子数列第10项" class="headerlink" title="2. 兔子数列第10项"></a>2. 兔子数列第10项</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(n&lt;<span class="number">3</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> fun(n<span class="number">-1</span>)+fun(n<span class="number">-2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,fun(<span class="number">10</span>));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="3-前10项和"><a href="#3-前10项和" class="headerlink" title="3. 前10项和"></a>3. 前10项和</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> sum= <span class="number">2</span>,m1=<span class="number">1</span>,m2=<span class="number">1</span>,m,i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">m=m1+m2;</span><br><span class="line">sum+=m;</span><br><span class="line">m1=m2;</span><br><span class="line">m2=m;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="4-公约公倍"><a href="#4-公约公倍" class="headerlink" title="4. 公约公倍"></a>4. 公约公倍</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">gongyue</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(m%n==<span class="number">0</span>) <span class="keyword">return</span> n;</span><br><span class="line"><span class="keyword">return</span> gongyue(n,m%n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">gongbei</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> m*n/gongyue(m,n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> m=<span class="number">36</span>,n=<span class="number">16</span>;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d,%d&quot;</span>,gongyue(m,n),gongbei(m,n));</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="5-水仙花"><a href="#5-水仙花" class="headerlink" title="5. 水仙花"></a>5. 水仙花</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> n*n*n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">100</span>;i&lt;<span class="number">1000</span>;i++)</span><br><span class="line"><span class="keyword">if</span>(i==fun(i%<span class="number">10</span>)+fun(i/<span class="number">10</span>%<span class="number">10</span>)+fun(i/<span class="number">100</span>))</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-完数"><a href="#6-完数" class="headerlink" title="6. 完数"></a>6. 完数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line"><span class="keyword">if</span>(n%i==<span class="number">0</span>) sum+=i;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;<span class="number">10000</span>;i++)</span><br><span class="line"><span class="keyword">if</span>(i==fun(i))</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="7-阶乘前N项和"><a href="#7-阶乘前N项和" class="headerlink" title="7. 阶乘前N项和"></a>7. 阶乘前N项和</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(n==<span class="number">1</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> fun(n<span class="number">-1</span>)*n;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i,sum=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;=<span class="number">10</span>;i++)</span><br><span class="line">sum+=fun(i);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,sum);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8-素数"><a href="#8-素数" class="headerlink" title="8. 素数"></a>8. 素数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;n/<span class="number">2</span>;i++)</span><br><span class="line"><span class="keyword">if</span>(n%i==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> i;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">2</span>;i&lt;=<span class="number">100</span>;i++)</span><br><span class="line"><span class="keyword">if</span>(fun(i))</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,i);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9-杨辉三角"><a href="#9-杨辉三角" class="headerlink" title="9. 杨辉三角"></a>9. 杨辉三角</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> m,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(m==n || n==<span class="number">0</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> fun(m<span class="number">-1</span>,n)+fun(m<span class="number">-1</span>,n<span class="number">-1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n=<span class="number">10</span>,i,j;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;=i;j++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>,fun(i,j));</span><br><span class="line"><span class="built_in">putchar</span>(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="10-回文数"><a href="#10-回文数" class="headerlink" title="10. 回文数"></a>10. 回文数</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="comment">//利用math.h中的函数，参数类型易错。</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> rev=<span class="number">0</span>,len = (<span class="type">int</span>)<span class="built_in">log10</span>(n*<span class="number">1.0</span>);</span><br><span class="line"><span class="keyword">for</span>(;n;len--,n/=<span class="number">10</span>)</span><br><span class="line">rev+=(<span class="type">int</span>)<span class="built_in">pow</span>(<span class="number">10.0</span>,len)*(n%<span class="number">10</span>);</span><br><span class="line"><span class="keyword">return</span> rev;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,fun(n));</span><br><span class="line"><span class="built_in">printf</span>(n==fun(n)?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//反转 n</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i=n,m=<span class="number">1</span>,res=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(i/=<span class="number">10</span>)</span><br><span class="line">m*=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span>(i=n;i;m/=<span class="number">10</span>,i/=<span class="number">10</span>)</span><br><span class="line">res+=i%<span class="number">10</span>*m;</span><br><span class="line"><span class="keyword">return</span> res==n?<span class="number">1</span>:<span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="built_in">printf</span>(fun(n)?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//从开始与结尾一一对比</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i=n,p=<span class="number">1</span>,q=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(i/=<span class="number">10</span>)</span><br><span class="line">p*=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span>(;p&gt;q;p/=<span class="number">10</span>,q*=<span class="number">10</span>)</span><br><span class="line"><span class="keyword">if</span>(n/p%<span class="number">10</span>!=n/q%<span class="number">10</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);</span><br><span class="line"><span class="built_in">printf</span>(fun(n)?<span class="string">&quot;Yes&quot;</span>:<span class="string">&quot;No&quot;</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="11-冒泡排序"><a href="#11-冒泡排序" class="headerlink" title="11. 冒泡排序"></a>11. 冒泡排序</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sort</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i,j,temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n<span class="number">-1</span>;i++)</span><br><span class="line"><span class="keyword">for</span>(j=<span class="number">0</span>;j&lt;n<span class="number">-1</span>-i;j++)</span><br><span class="line"><span class="keyword">if</span>(a[j]&gt;a[j+<span class="number">1</span>])&#123;</span><br><span class="line">temp=a[j];</span><br><span class="line">a[j]=a[j+<span class="number">1</span>];</span><br><span class="line">a[j+<span class="number">1</span>]=temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="12-选择排序"><a href="#12-选择排序" class="headerlink" title="12. 选择排序"></a>12. 选择排序</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sort</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i,j,temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line"><span class="keyword">for</span>(j=i+<span class="number">1</span>;j&lt;n;j++)</span><br><span class="line"><span class="keyword">if</span>(a[i]&gt;a[j])&#123;</span><br><span class="line">temp=a[i];</span><br><span class="line">a[i]=a[j];</span><br><span class="line">a[j]=temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="13-插入排序"><a href="#13-插入排序" class="headerlink" title="13. 插入排序"></a>13. 插入排序</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sort</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> i,j,temp;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">1</span>;i&lt;n;i++)</span><br><span class="line"><span class="keyword">for</span>(j=i;j&gt;<span class="number">0</span>;j--)</span><br><span class="line"><span class="keyword">if</span>(a[j<span class="number">-1</span>]&gt;a[j])&#123;</span><br><span class="line">temp=a[j];</span><br><span class="line">a[j]=a[j<span class="number">-1</span>];</span><br><span class="line">a[j<span class="number">-1</span>]=temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="14-反转数组"><a href="#14-反转数组" class="headerlink" title="14. 反转数组"></a>14. 反转数组</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span> *a,<span class="type">int</span> n)</span>&#123;</span><br><span class="line"><span class="type">int</span> *p=a+n<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">for</span>(;a&lt;p;a++,p--)&#123;</span><br><span class="line">*a=*a^*p;</span><br><span class="line">*p=*a^*p;</span><br><span class="line">*a=*a^*p;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="15-反转字符串"><a href="#15-反转字符串" class="headerlink" title="15. 反转字符串"></a>15. 反转字符串</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">char</span> *a)</span>&#123;</span><br><span class="line"><span class="type">char</span> *p=a,temp;</span><br><span class="line"><span class="keyword">while</span>(*(p+<span class="number">1</span>)) p++;</span><br><span class="line"><span class="keyword">for</span>(;a&lt;p;a++,p--)&#123;</span><br><span class="line">temp=*a;</span><br><span class="line">*a = *p;</span><br><span class="line">*p = temp;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">gets(str);</span><br><span class="line">reverse(str);</span><br><span class="line"><span class="built_in">puts</span>(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="16-连接字符串"><a href="#16-连接字符串" class="headerlink" title="16. 连接字符串"></a>16. 连接字符串</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">strcat_</span><span class="params">(<span class="type">char</span> *a,<span class="type">char</span> *b)</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(*a) a++;</span><br><span class="line"><span class="keyword">while</span>(*b)</span><br><span class="line">*a++=*b++;</span><br><span class="line">    *b=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">gets(str);</span><br><span class="line">strcat_(str,<span class="string">&quot;babico&quot;</span>);</span><br><span class="line"><span class="built_in">puts</span>(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="17-比较字符串"><a href="#17-比较字符串" class="headerlink" title="17. 比较字符串"></a>17. 比较字符串</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">strcmp_</span><span class="params">(<span class="type">char</span> *a,<span class="type">char</span> *b)</span>&#123;</span><br><span class="line"><span class="keyword">for</span>(;*a==*b;a++,b++)</span><br><span class="line"><span class="keyword">if</span>(*a==<span class="string">&#x27;\0&#x27;</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">return</span> *a-*b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">gets(str);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,strcmp_(str,<span class="string">&quot;babico&quot;</span>));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="18-复制字符串"><a href="#18-复制字符串" class="headerlink" title="18. 复制字符串"></a>18. 复制字符串</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">strcpy_</span><span class="params">(<span class="type">char</span> *a,<span class="type">char</span> *b)</span>&#123;</span><br><span class="line"><span class="keyword">while</span>(*a++=*b++);   <span class="comment">//b指向0时,已完成赋值.</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">strcpy_(str,<span class="string">&quot;babico&quot;</span>);</span><br><span class="line"><span class="built_in">puts</span>(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="19-字符串长度"><a href="#19-字符串长度" class="headerlink" title="19. 字符串长度"></a>19. 字符串长度</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">strlen_</span><span class="params">(<span class="type">char</span> *a)</span>&#123;</span><br><span class="line"><span class="type">int</span> len=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(*a++) len++;</span><br><span class="line"><span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">gets(str);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,strlen_(str));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="20-第几天"><a href="#20-第几天" class="headerlink" title="20. 第几天"></a>20. 第几天</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">isleap</span><span class="params">(<span class="type">int</span> year)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(year%<span class="number">400</span>==<span class="number">0</span>||year%<span class="number">4</span>==<span class="number">0</span>&amp;&amp;year%<span class="number">100</span>)</span><br><span class="line"><span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">no_day</span><span class="params">(<span class="type">int</span> year,<span class="type">int</span> month,<span class="type">int</span> day)</span>&#123;</span><br><span class="line"><span class="type">int</span> i,res=<span class="number">0</span>,mon[<span class="number">12</span>]=&#123;<span class="number">0</span>,<span class="number">31</span>,<span class="number">28</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">31</span>,<span class="number">30</span>,<span class="number">31</span>,<span class="number">30</span>&#125;;</span><br><span class="line">mon[<span class="number">0</span>]=day;</span><br><span class="line"><span class="keyword">if</span>(isleap(year)) mon[<span class="number">2</span>]++;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;month;i++)</span><br><span class="line">res+=mon[i];</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> y,m,d;</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>,&amp;y,&amp;m,&amp;d);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,no_day(y,m,d));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="21-字符串转数字"><a href="#21-字符串转数字" class="headerlink" title="21. 字符串转数字"></a>21. 字符串转数字</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">strtonum</span><span class="params">(<span class="type">char</span> *str)</span>&#123;</span><br><span class="line"><span class="type">char</span> *p=str;</span><br><span class="line"><span class="type">int</span> m=<span class="number">1</span>,res=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(p[<span class="number">1</span>]) p++;</span><br><span class="line"><span class="keyword">for</span>(;p&gt;=str;p--,m*=<span class="number">10</span>)</span><br><span class="line">res += m*(*p-<span class="string">&#x27;0&#x27;</span>);</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">gets(str);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,strtonum(str));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="22-数字转字符串"><a href="#22-数字转字符串" class="headerlink" title="22. 数字转字符串"></a>22. 数字转字符串</h2> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">numtostr</span><span class="params">(<span class="type">char</span> *str,<span class="type">int</span> num)</span>&#123;</span><br><span class="line"><span class="type">int</span> m=<span class="number">1</span>,i=num;</span><br><span class="line"><span class="keyword">while</span>(i/=<span class="number">10</span>) m*=<span class="number">10</span>;</span><br><span class="line"><span class="keyword">for</span>(;m&gt;<span class="number">0</span>;m/=<span class="number">10</span>,str++)</span><br><span class="line">*str=num/m%<span class="number">10</span>+<span class="number">48</span>;</span><br><span class="line">*str=<span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">int</span> num;</span><br><span class="line"><span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;num);</span><br><span class="line">numtostr(str,num);</span><br><span class="line"><span class="built_in">puts</span>(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="23-折半查找"><a href="#23-折半查找" class="headerlink" title="23. 折半查找"></a>23. 折半查找</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">find</span><span class="params">(<span class="type">int</span> *arr,<span class="type">int</span> n,<span class="type">int</span> num)</span>&#123;</span><br><span class="line"><span class="type">int</span> p=<span class="number">0</span>,q=n<span class="number">-1</span>,mid;</span><br><span class="line"><span class="keyword">while</span>(p&lt;=q)&#123;</span><br><span class="line">mid=(p+q)/<span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span>(num&gt;arr[mid])</span><br><span class="line">p=mid+<span class="number">1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(num&lt;arr[mid])</span><br><span class="line">q=mid<span class="number">-1</span>;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span> mid;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line"><span class="type">int</span> i,arr[<span class="number">10</span>] = &#123;<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">-1</span>;i&lt;<span class="number">11</span>;i++)</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,find(arr,<span class="number">10</span>,i));</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id=""><a href="#" class="headerlink" title=""></a></h2>]]></content>
      
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>JavaWeb</title>
      <link href="/artical/99720b1c.html"/>
      <url>/artical/99720b1c.html</url>
      
        <content type="html"><![CDATA[<h1 id="JavaWeb"><a href="#JavaWeb" class="headerlink" title="JavaWeb"></a>JavaWeb</h1><ul><li>2022/11/18 </li></ul><h2 id="实现Servlet的三种方式"><a href="#实现Servlet的三种方式" class="headerlink" title="实现Servlet的三种方式"></a>实现Servlet的三种方式</h2><h3 id="1-继承GenericServlet"><a href="#1-继承GenericServlet" class="headerlink" title="1. 继承GenericServlet"></a>1. 继承GenericServlet</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo3</span> <span class="keyword">extends</span> <span class="title class_">GenericServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;GenericServlet实现Servlet&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-实现Servlet类"><a href="#2-实现Servlet类" class="headerlink" title="2. 实现Servlet类"></a>2. 实现Servlet类</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo2</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ServletConfig servletConfig;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;初始化。。。&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.servletConfig = servletConfig;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;获取配置中。。。&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.servletConfig;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext</span> <span class="operator">=</span> getServletConfig().getServletContext();</span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> (String)servletContext.getAttribute(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">        System.out.println(value);</span><br><span class="line">        System.out.println(<span class="string">&quot;处理业务中。。。&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;获取servlet信息&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;我要被销毁了&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-继承HttpServlet-推荐"><a href="#3-继承HttpServlet-推荐" class="headerlink" title="3. 继承HttpServlet(推荐)"></a>3. 继承HttpServlet(推荐)</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServletDemo1</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> ServletConfig servletConfig;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig config)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        <span class="built_in">this</span>.servletConfig = config;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 防止中文乱码</span></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">        writer.println(<span class="string">&quot;Hello world 你好, 世界\n&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">state</span> <span class="operator">=</span> servletConfig.getInitParameter(<span class="string">&quot;state&quot;</span>);</span><br><span class="line">        writer.println(<span class="string">&quot;初始化参数:&quot;</span>+state);</span><br><span class="line">        <span class="comment">//遍历初始化参数</span></span><br><span class="line">        Enumeration&lt;String&gt; initParameterNames = servletConfig.getInitParameterNames();</span><br><span class="line">        <span class="keyword">while</span> (initParameterNames.hasMoreElements())&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> initParameterNames.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> servletConfig.getInitParameter(key);</span><br><span class="line">            writer.println(<span class="string">&quot;遍历:&quot;</span>+key+<span class="string">&quot; &quot;</span>+value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 获取ServletContext对象</span></span><br><span class="line">        <span class="comment">// 方式一:</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext1</span> <span class="operator">=</span> servletConfig.getServletContext();</span><br><span class="line">        <span class="comment">// 方式二:</span></span><br><span class="line">        <span class="type">ServletContext</span> <span class="variable">servletContext2</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletContext();</span><br><span class="line">        <span class="comment">// 共享数据</span></span><br><span class="line">        servletContext2.setAttribute(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>);</span><br><span class="line">        writer.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Tiam</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/11/4 16:34</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 客户端技术, 把数据以Cookie的形式返回用户的浏览器</span></span><br><span class="line"><span class="comment"> * cookie 使用实例: 上次访问时间</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/cookie&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CookieDemo01</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 防止中文乱码</span></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取cookie</span></span><br><span class="line">        Cookie[] cookies = req.getCookies();</span><br><span class="line">        <span class="keyword">if</span>(cookies!=<span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">for</span> (Cookie cookie : cookies) &#123;</span><br><span class="line">                <span class="keyword">if</span>(cookie.getName().equals(<span class="string">&quot;visitedTime&quot;</span>))&#123;</span><br><span class="line">                    <span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> Long.parseLong(cookie.getValue());</span><br><span class="line">                    <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(time);</span><br><span class="line">                    <span class="type">SimpleDateFormat</span> <span class="variable">simpleDateFormat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss E&quot;</span>);</span><br><span class="line">                    resp.getWriter().println(<span class="string">&quot;您上次访问本站的时间是:&quot;</span>+simpleDateFormat.format(date));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (cookie.getName().equals(<span class="string">&quot;name&quot;</span>)) &#123;</span><br><span class="line">                    resp.getWriter().println(<span class="string">&quot;您的用户名是 &quot;</span>+cookie.getValue());</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            resp.getWriter().println(<span class="string">&quot;这是您第一次访问本站!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 创建Cookie</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;visitedTime&quot;</span>, String.valueOf(System.currentTimeMillis()));</span><br><span class="line">        <span class="comment">// 发送Cookie到客户端</span></span><br><span class="line">        resp.addCookie(cookie);</span><br><span class="line">        <span class="comment">//测试存储中文</span></span><br><span class="line">        <span class="type">Cookie</span> <span class="variable">cookie1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;陈思宇&quot;</span>);</span><br><span class="line">        <span class="comment">// 设置一天的保存时间</span></span><br><span class="line">        cookie1.setMaxAge(<span class="number">60</span>*<span class="number">60</span>*<span class="number">24</span>);</span><br><span class="line">        resp.addCookie(cookie1);</span><br><span class="line">        <span class="comment">// 删除cookie</span></span><br><span class="line">        cookie1.setMaxAge(<span class="number">0</span>);</span><br><span class="line">        resp.addCookie(cookie1);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> session;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpSession;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Tiam</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/11/4 17:29</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:特点: 存储一次会话的多次请求的数据</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SessionDemo</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 获取Session</span></span><br><span class="line">        <span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line">        <span class="comment">// 设值</span></span><br><span class="line">        session.setAttribute(<span class="string">&quot;key&quot;</span>,<span class="string">&quot;value&quot;</span>);</span><br><span class="line">        <span class="comment">// 取值</span></span><br><span class="line">        session.getAttribute(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">        <span class="comment">// 删除</span></span><br><span class="line">        session.removeAttribute(<span class="string">&quot;key&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="域属性范围-EL表达式"><a href="#域属性范围-EL表达式" class="headerlink" title="域属性范围 | EL表达式"></a>域属性范围 | EL表达式</h2><ul><li>el表达式只能从四大域中获取值</li><li>el表达式 调用<code>pageContext.findAttribute</code>方法</li><li>找不到返回空字符串, 而不是null</li></ul><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">30362</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">17</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">11</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 只使用一次的数据</span></span><br><span class="line">    request.setAttribute(<span class="string">&quot;name2&quot;</span>,<span class="string">&quot;request&quot;</span>);</span><br><span class="line">    <span class="comment">// 只在当前页有效</span></span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;name3&quot;</span>,<span class="string">&quot;pageContext&quot;</span>);</span><br><span class="line">    <span class="comment">// 会再次使用的数据</span></span><br><span class="line">    session.setAttribute(<span class="string">&quot;name4&quot;</span>,<span class="string">&quot;session&quot;</span>);</span><br><span class="line">    <span class="comment">// 几乎所有情况都有效</span></span><br><span class="line">    application.setAttribute(<span class="string">&quot;name1&quot;</span>, <span class="string">&quot;application&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;h1&gt;$&#123;name1&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;name2&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;name3&#125;&lt;/h1&gt;</span><br><span class="line">&lt;h1&gt;$&#123;name4&#125;&lt;/h1&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="JSP语法"><a href="#JSP语法" class="headerlink" title="JSP语法"></a>JSP语法</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.Date&quot;</span> %&gt;&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: admin</span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">10</span>/<span class="number">28</span></span><br><span class="line">  Time: <span class="number">16</span>:<span class="number">49</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--java指令--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;JSP语法学习 <span class="number">2022</span>/<span class="number">11</span>/<span class="number">11</span>&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;a href=<span class="string">&quot;applicationDemo.jsp&quot;</span>&gt;applicationDemo.jsp&lt;/a&gt;</span><br><span class="line">&lt;h1&gt;<span class="number">1.</span> Jsp表达式&lt;/h1&gt;</span><br><span class="line">&lt;%= <span class="keyword">new</span> <span class="title class_">Date</span>() %&gt;</span><br><span class="line">&lt;h1&gt;<span class="number">2.</span> JSP脚本片段&lt;/h1&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">        out.write(<span class="string">&quot;\n&quot;</span> + (num += i));</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;h1&gt;<span class="number">3.</span> 组合的脚本片段&lt;/h1&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">1</span> + <span class="number">1</span> == <span class="number">2</span>) &#123;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;p&gt; html标签 &lt;/p&gt;</span><br><span class="line">&lt;%</span><br><span class="line">        out.write(<span class="string">&quot;1+1=2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br><span class="line">&lt;h1&gt;<span class="number">4.</span> jsp声明&lt;/h1&gt;</span><br><span class="line">&lt;%!</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; k; i++) sum += i;    </span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">he</span> <span class="operator">=</span> sum(<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        System.out.println(o);</span><br><span class="line">    &#125;</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    print(<span class="string">&quot;云边有个小卖部&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;<span class="number">5.</span> jsp的注释&lt;/h1&gt;</span><br><span class="line">&lt;!--html的注释--&gt;</span><br><span class="line"></span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// java单行注释</span></span><br><span class="line">    <span class="comment">/* java 多行注释 */</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * javadoc风格注释</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--jsp注释风格--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;<span class="number">6.</span> jsp指令&lt;/h1&gt;</span><br><span class="line">&lt;%--导入包, 每个包以逗号隔开--%&gt;</span><br><span class="line">&lt;%<span class="meta">@page</span> <span class="keyword">import</span>=<span class="string">&quot;java.util.List&quot;</span> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--将其他文件内容包含进来--%&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;login.jsp&quot;</span> %&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;login.jsp&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--指定错误处理页面--%&gt;</span><br><span class="line">&lt;%<span class="meta">@page</span> errorPage=<span class="string">&quot;loginWithCode.jsp&quot;</span> %&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="JSP标签"><a href="#JSP标签" class="headerlink" title="JSP标签"></a>JSP标签</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">30362</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">17</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">20</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;JSP标签&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;%-- 引入页面 三种方式--%&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;applicationDemo.jsp&quot;</span> flush=<span class="string">&quot;true&quot;</span>/&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">&quot;applicationDemo.jsp&quot;</span> %&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    pageContext.include(<span class="string">&quot;./applicationDemo.jsp&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;%--页面跳转--%&gt;</span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;applicationDemo.jsp&quot;</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--引入参数--%&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">&quot;applicationDemo.jsp&quot;</span>&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;param1&quot;</span> value=<span class="string">&quot;Hello&quot;</span>/&gt;</span><br><span class="line">&lt;/jsp:include&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:forward page=<span class="string">&quot;applicationDemo.jsp&quot;</span>&gt;</span><br><span class="line">    &lt;jsp:param name=<span class="string">&quot;param2&quot;</span> value=<span class="string">&quot;Good&quot;</span>/&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="PageContext"><a href="#PageContext" class="headerlink" title="PageContext"></a>PageContext</h2><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.text.SimpleDateFormat&quot;</span> %&gt;</span><br><span class="line">&lt;%@ page <span class="keyword">import</span>=<span class="string">&quot;java.util.Date&quot;</span> %&gt;</span><br><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">30362</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">17</span></span><br><span class="line">  Time: <span class="number">10</span>:<span class="number">21</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;%--跳转--%&gt;</span><br><span class="line">&lt;%--&lt;jsp:forward page=<span class="string">&quot;index.jsp&quot;</span>/&gt;--%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;pageContextDemo&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;h1&gt;out对象输出&lt;/h1&gt;</span><br><span class="line">&lt;% pageContext.getOut().write(<span class="string">&quot;pageContext.getOut().write(\&quot;\&quot;);&quot;</span>); %&gt;</span><br><span class="line"></span><br><span class="line">&lt;h1&gt;pageContext作为域对象&lt;/h1&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;陈思宇&quot;</span>);</span><br><span class="line">    pageContext.setAttribute(<span class="string">&quot;age&quot;</span>, <span class="number">18</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) pageContext.getAttribute(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    <span class="comment">// pageContext.getAttribute(&quot;age&quot;);</span></span><br><span class="line">%&gt;</span><br><span class="line">&lt;p&gt;姓名: &lt;%=name%&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;p&gt;年龄: $&#123;age&#125;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;p&gt;年龄: &lt;%=<span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss E&quot;</span>).format(<span class="keyword">new</span> <span class="title class_">Date</span>())%&gt;</span><br><span class="line">&lt;/p&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 引入页面</span></span><br><span class="line">    pageContext.include(<span class="string">&quot;./login.jsp&quot;</span>);</span><br><span class="line">    <span class="comment">// 跳转失效</span></span><br><span class="line">    pageContext.forward(<span class="string">&quot;./index.jsp&quot;</span>);</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="Servlet验证码"><a href="#Servlet验证码" class="headerlink" title="Servlet验证码"></a>Servlet验证码</h2><h3 id="loginWithCode-jsp"><a href="#loginWithCode-jsp" class="headerlink" title="loginWithCode.jsp"></a>loginWithCode.jsp</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">30362</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">4</span></span><br><span class="line">  Time: <span class="number">17</span>:<span class="number">42</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;验证码登录&lt;/title&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        function <span class="title function_">changeImg</span><span class="params">()</span> &#123;</span><br><span class="line">            document.getElementById(<span class="string">&quot;validateCodeImg&quot;</span>).src = <span class="string">&quot;generateCode?&quot;</span>+Math.random();</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/checkCode&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    验证码:&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;validateCode&quot;</span>&gt;</span><br><span class="line">    &lt;img src=<span class="string">&quot;/generateCode&quot;</span> alt=<span class="string">&quot;看不清,换一张&quot;</span> id=<span class="string">&quot;validateCodeImg&quot;</span> onclick=<span class="string">&quot;changeImg()&quot;</span>&gt;</span><br><span class="line">    &lt;a href=<span class="string">&quot;javascript:void(0)&quot;</span> onclick=<span class="string">&quot;changeImg()&quot;</span>&gt;看不清,换一张&lt;/a&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;提交&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="GenerateCode-java"><a href="#GenerateCode-java" class="headerlink" title="GenerateCode.java"></a>GenerateCode.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> loginCode;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.imageio.ImageIO;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.annotation.WebServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.awt.*;</span><br><span class="line"><span class="keyword">import</span> java.awt.image.BufferedImage;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Tiam</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/11/4 17:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 生成验证码图片</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/generateCode&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GenerateCode</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">WIDTH</span> <span class="operator">=</span> <span class="number">120</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">HEIGHT</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1. 生成图片</span></span><br><span class="line">        <span class="type">BufferedImage</span> <span class="variable">bufferedImage</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedImage</span>(WIDTH, HEIGHT, <span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 2. 获取图片</span></span><br><span class="line">        <span class="type">Graphics</span> <span class="variable">graphics</span> <span class="operator">=</span> bufferedImage.getGraphics();</span><br><span class="line">        <span class="comment">// 3. 设置图片背景</span></span><br><span class="line">        setBackground(graphics);</span><br><span class="line">        <span class="comment">// 4. 设置边框</span></span><br><span class="line">        setBorder(graphics);</span><br><span class="line">        <span class="comment">// 5. 设置干扰线</span></span><br><span class="line">        setRandomLine(graphics);</span><br><span class="line">        <span class="comment">// 6. 生成验证码字符串</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">randomString</span> <span class="operator">=</span> getRandomString((Graphics2D) graphics, <span class="string">&quot;mixed&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;本次生成的验证码是: &quot;</span> + randomString);</span><br><span class="line">        <span class="comment">// 7. 将验证码保存到Session</span></span><br><span class="line">        req.getSession().setAttribute(<span class="string">&quot;checkCode&quot;</span>, randomString);</span><br><span class="line">        <span class="comment">// 8. 设置浏览器以图片的格式获取验证码</span></span><br><span class="line">        resp.setContentType(<span class="string">&quot;image/jpg&quot;</span>);</span><br><span class="line">        <span class="comment">// 9. 将验证码发送给浏览器</span></span><br><span class="line">        ImageIO.write(bufferedImage, <span class="string">&quot;jpg&quot;</span>, resp.getOutputStream());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graphics</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type     mixed =&gt; 混合验证码, number =&gt; 数字验证码, letter =&gt; 字母验证码</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getRandomString</span><span class="params">(Graphics2D graphics, String type)</span> &#123;</span><br><span class="line">        graphics.setColor(Color.RED);</span><br><span class="line">        graphics.setFont(<span class="keyword">new</span> <span class="title class_">Font</span>(<span class="string">&quot;宋体&quot;</span>, Font.BOLD, <span class="number">20</span>));</span><br><span class="line">        <span class="comment">// 字符串类型</span></span><br><span class="line">        HashMap&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">3</span>);</span><br><span class="line">        map.put(<span class="string">&quot;number&quot;</span>, <span class="string">&quot;0123456789&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;letter&quot;</span>, <span class="string">&quot;QWERTYUIOPASDFGHJKLZXCVBNM&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;mixed&quot;</span>, <span class="string">&quot;1234567890QWERTYUIOPASDFGHJKLZXCVBNM&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">randomString</span> <span class="operator">=</span> setRandomString(graphics, map.get(type));</span><br><span class="line">        <span class="keyword">return</span> randomString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">setRandomString</span><span class="params">(Graphics2D graphics, String s)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="comment">// 字符倾斜角度</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">chars</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="comment">// 字符串长度</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="comment">// 定义角度</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">degree</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt() % <span class="number">30</span>;</span><br><span class="line">            chars = s.charAt(<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(s.length() - <span class="number">1</span>)) + <span class="string">&quot;&quot;</span>;</span><br><span class="line">            sb.append(chars);</span><br><span class="line"></span><br><span class="line">            graphics.rotate(degree * Math.PI / <span class="number">180</span>, x, <span class="number">20</span>);</span><br><span class="line">            graphics.drawString(chars, x, <span class="number">20</span>);</span><br><span class="line">            x += <span class="number">30</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置图片干扰线</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graphics</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setRandomLine</span><span class="params">(Graphics graphics)</span> &#123;</span><br><span class="line">        graphics.setColor(Color.GREEN);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 干扰线数量</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; num; i++) &#123;</span><br><span class="line">            <span class="comment">// 随机生成两个点(x1,y1), (x2,y2), 将之连成线</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">x1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(WIDTH);</span><br><span class="line">            <span class="type">int</span> <span class="variable">y1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(HEIGHT);</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">x2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(WIDTH);</span><br><span class="line">            <span class="type">int</span> <span class="variable">y2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(HEIGHT);</span><br><span class="line"></span><br><span class="line">            graphics.drawLine(x1, y1, x2, y2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 设置图片背景</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graphics</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setBackground</span><span class="params">(Graphics graphics)</span> &#123;</span><br><span class="line">        graphics.setColor(Color.white);</span><br><span class="line">        graphics.fillRect(<span class="number">0</span>, <span class="number">0</span>, WIDTH, HEIGHT);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * s设置图片边框</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> graphics</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setBorder</span><span class="params">(Graphics graphics)</span> &#123;</span><br><span class="line">        graphics.setColor(Color.BLUE);</span><br><span class="line">        graphics.drawRect(<span class="number">1</span>, <span class="number">1</span>, WIDTH - <span class="number">2</span>, HEIGHT - <span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="CheckCode-java"><a href="#CheckCode-java" class="headerlink" title="CheckCode.java"></a>CheckCode.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Tiam</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/11/10 11:11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>:</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/checkCode&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CheckCode</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="built_in">this</span>.doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取用户输入, 根据input的name属性, 获得用户输入的验证码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">validateCode</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;validateCode&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;获取用户输入 =&gt;&quot;</span> + validateCode);</span><br><span class="line">        <span class="comment">// 获取Session中的字符串</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">checkCode</span> <span class="operator">=</span> (String) req.getSession().getAttribute(<span class="string">&quot;checkCode&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (validateCode.equalsIgnoreCase(checkCode)) &#123;</span><br><span class="line">            resp.getWriter().println(<span class="string">&quot;验证码正确&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resp.getWriter().println(<span class="string">&quot;验证输入有误, 请重新输入&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Servlet模拟登录"><a href="#Servlet模拟登录" class="headerlink" title="Servlet模拟登录"></a>Servlet模拟登录</h2><h3 id="login-jsp"><a href="#login-jsp" class="headerlink" title="login.jsp"></a>login.jsp</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">30362</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">3</span></span><br><span class="line">  Time: <span class="number">11</span>:<span class="number">23</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;登录页面&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;/LoginServlet&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    账号:&lt;input name=<span class="string">&quot;name&quot;</span> type=<span class="string">&quot;text&quot;</span>&gt;</span><br><span class="line">    密码:&lt;input name=<span class="string">&quot;pwd&quot;</span> type=<span class="string">&quot;password&quot;</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;登录&quot;</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="LoginServlet-java"><a href="#LoginServlet-java" class="headerlink" title="LoginServlet.java"></a>LoginServlet.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Tiam</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/11/3 11:22</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 处理登录请求</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@WebServlet(&quot;/LoginServlet&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="comment">// 防止中文乱码</span></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;text/html;charset=utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">// 获取用户输入的账号密码</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;pwd&quot;</span>);</span><br><span class="line">        <span class="comment">// 模拟正确的账号密码</span></span><br><span class="line">        Map&lt;String,String&gt; real  = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;(<span class="number">2</span>);</span><br><span class="line">        real.put(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        real.put(<span class="string">&quot;pwd&quot;</span>,<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(real.get(<span class="string">&quot;name&quot;</span>).equals(name) &amp;&amp; real.get(<span class="string">&quot;pwd&quot;</span>).equals(pwd))&#123;</span><br><span class="line">            <span class="comment">// 转发 -&gt; 浏览器中地址不改变</span></span><br><span class="line">            req.getRequestDispatcher(<span class="string">&quot;/index.jsp&quot;</span>).forward(req,resp);</span><br><span class="line">            <span class="comment">// 重定向 -&gt; 浏览器中地址改变</span></span><br><span class="line">            <span class="comment">// resp.sendRedirect(&quot;/index.jsp&quot;);</span></span><br><span class="line">            System.out.println(<span class="string">&quot;登录成功&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> resp.getWriter();</span><br><span class="line">            writer.println(<span class="string">&quot;账号或密码错误!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="简易计算器"><a href="#简易计算器" class="headerlink" title="简易计算器"></a>简易计算器</h2><h3 id="calculator-jsp"><a href="#calculator-jsp" class="headerlink" title="calculator.jsp"></a>calculator.jsp</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: <span class="number">30362</span></span><br><span class="line">  Date: <span class="number">2022</span>/<span class="number">11</span>/<span class="number">18</span></span><br><span class="line">  Time: <span class="number">16</span>:<span class="number">28</span></span><br><span class="line">  To change <span class="built_in">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;jsp:useBean id=<span class="string">&quot;calculatorBean&quot;</span> class=<span class="string">&quot;el.Calculator&quot;</span>/&gt;</span><br><span class="line">&lt;%--发送参数, 通配符* 表示全部参数 --%&gt;</span><br><span class="line">&lt;jsp:setProperty name=<span class="string">&quot;calculatorBean&quot;</span> property=<span class="string">&quot;*&quot;</span>/&gt;</span><br><span class="line">&lt;%</span><br><span class="line">    <span class="comment">// 调用计算方法</span></span><br><span class="line">    calculatorBean.calculator();</span><br><span class="line">%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;简易计算器 JSP+JavaBean开发模式样例&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;calculator.jsp&quot;</span> method=<span class="string">&quot;post&quot;</span>&gt;</span><br><span class="line">    &lt;table border=<span class="string">&quot;1px&quot;</span>&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td colspan=<span class="string">&quot;2&quot;</span>&gt;简易计算器&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;first parameter&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;firstParam&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;operator&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;</span><br><span class="line">                &lt;select name=<span class="string">&quot;operator&quot;</span>&gt;</span><br><span class="line">                    &lt;option name=<span class="string">&quot;+&quot;</span>&gt;+&lt;/option&gt;</span><br><span class="line">                    &lt;option name=<span class="string">&quot;-&quot;</span>&gt;-&lt;/option&gt;</span><br><span class="line">                    &lt;option name=<span class="string">&quot;*&quot;</span>&gt;*&lt;/option&gt;</span><br><span class="line">                    &lt;option name=<span class="string">&quot;/&quot;</span>&gt;/&lt;/option&gt;</span><br><span class="line">                &lt;/select&gt;</span><br><span class="line">            &lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td&gt;second parameter&lt;/td&gt;</span><br><span class="line">            &lt;td&gt;&lt;input type=<span class="string">&quot;text&quot;</span> name=<span class="string">&quot;secondParam&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">        &lt;tr&gt;</span><br><span class="line">            &lt;td colspan=<span class="string">&quot;2&quot;</span>&gt;&lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;计算&quot;</span>/&gt;&lt;/td&gt;</span><br><span class="line">        &lt;/tr&gt;</span><br><span class="line">    &lt;/table&gt;</span><br><span class="line">    &lt;hr/&gt;</span><br><span class="line">    &lt;p&gt;计算结果是:</span><br><span class="line">        &lt;jsp:getProperty name=<span class="string">&quot;calculatorBean&quot;</span> property=<span class="string">&quot;firstParam&quot;</span>/&gt;</span><br><span class="line">        &lt;jsp:getProperty name=<span class="string">&quot;calculatorBean&quot;</span> property=<span class="string">&quot;operator&quot;</span>/&gt;</span><br><span class="line">        &lt;jsp:getProperty name=<span class="string">&quot;calculatorBean&quot;</span> property=<span class="string">&quot;secondParam&quot;</span>/&gt;</span><br><span class="line">        =</span><br><span class="line">        &lt;jsp:getProperty name=<span class="string">&quot;calculatorBean&quot;</span> property=<span class="string">&quot;result&quot;</span>/&gt;</span><br><span class="line">    &lt;/p&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="Caculator-java"><a href="#Caculator-java" class="headerlink" title="Caculator.java"></a>Caculator.java</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> el;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> Tiam</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2022/11/18 16:37</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span>: 简易计算结果集</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> firstParam;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> secondParam;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">operator</span> <span class="operator">=</span> <span class="string">&quot;+&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> result;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">calculator</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (<span class="built_in">this</span>.operator) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">                <span class="built_in">this</span>.result = <span class="built_in">this</span>.firstParam + <span class="built_in">this</span>.secondParam;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">                <span class="built_in">this</span>.result = <span class="built_in">this</span>.firstParam - <span class="built_in">this</span>.secondParam;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">                <span class="built_in">this</span>.result = <span class="built_in">this</span>.firstParam * <span class="built_in">this</span>.secondParam;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">this</span>.firstParam == <span class="number">0</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;被除数不能为0&quot;</span>);</span><br><span class="line">                <span class="built_in">this</span>.result = <span class="built_in">this</span>.firstParam / <span class="built_in">this</span>.secondParam;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;运算符异常&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Tomcat-乱码问题"><a href="#Tomcat-乱码问题" class="headerlink" title="Tomcat 乱码问题"></a>Tomcat 乱码问题</h2><ul><li>打开在安装目录下的<code>conf</code>文件夹中的<code>logging.properties</code>文件</li><li>更改这几个编码格式</li><li>server日志正常，打印正常，（全部更改为GBK将会导致打印乱码）</li><li>TomcatLocalhostLog 正常</li><li>TomcatcatalinaLog 正常</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">1catalina.org.apache.juli.FileHandler.encoding</span> = <span class="string">GBK</span></span><br><span class="line"><span class="attr">2localhost.org.apache.juli.AsyncFileHandler.encoding</span> = <span class="string">GBK</span></span><br><span class="line"><span class="attr">3manager.org.apache.juli.AsyncFileHandler.encoding</span> = <span class="string">UTF-8</span></span><br><span class="line"><span class="attr">4host-manager.org.apache.juli.AsyncFileHandler.encoding</span> = <span class="string">UTF-8</span></span><br><span class="line"><span class="attr">java.util.logging.ConsoleHandler.encoding</span> = <span class="string">GBK</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> JavaWeb </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux命令实例</title>
      <link href="/artical/523e7b2b.html"/>
      <url>/artical/523e7b2b.html</url>
      
        <content type="html"><![CDATA[<h1 id="Linux命令"><a href="#Linux命令" class="headerlink" title="Linux命令"></a>Linux命令</h1><p><a href="https://www.runoob.com/linux/linux-command-manual.html">Linux 命令大全</a></p><p><a href="https://gitee.com/didao233/vimcdoc">Vim 中文文档计划</a></p><p>[TOC]</p><h2 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h2><blockquote><p>管理员</p></blockquote><ul><li>账号: root</li><li>密码: 985464</li></ul><blockquote><p>普通用户</p></blockquote><ul><li>账号: tiam</li><li>密码: tiam</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/Linux%E5%AF%BC%E5%9B%BE.png" alt="画布 1"></p><h2 id="ls命令"><a href="#ls命令" class="headerlink" title="ls命令"></a>ls命令</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前目录下文件</span></span><br><span class="line">[root@bogon ~]# ls</span><br><span class="line">anaconda-ks.cfg</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看隐藏文件</span></span><br><span class="line">[root@bogon ~]# ls -a</span><br><span class="line">.  ..  anaconda-ks.cfg  .bash_history  .bash_logout  .bash_profile  .bashrc  .cshrc  .lesshst  .tcshrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看详细信息</span></span><br><span class="line">[root@bogon ~]# ls -l</span><br><span class="line">总用量 4</span><br><span class="line">-rw-------. 1 root root 1413 12月  8 00:38 anaconda-ks.cfg</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">简写</span></span><br><span class="line">[root@bogon ~]# ll</span><br><span class="line">总用量 4</span><br><span class="line">-rw-------. 1 root root 1413 12月  8 00:38 anaconda-ks.cfg</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">组合使用</span> </span><br><span class="line">[root@bogon ~]# ls -la</span><br><span class="line">总用量 32</span><br><span class="line">dr-xr-x---.  2 root root  151 12月 11 13:15 .</span><br><span class="line">dr-xr-xr-x. 17 root root  224 12月 11 10:56 ..</span><br><span class="line">-rw-------.  1 root root 1413 12月  8 00:38 anaconda-ks.cfg</span><br><span class="line">-rw-------.  1 root root 1789 12月 11 21:40 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 12月 29 2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bashrc</span><br><span class="line">-rw-r--r--.  1 root root  100 12月 29 2013 .cshrc</span><br><span class="line">-rw-------.  1 root root   48 12月 11 13:15 .lesshst</span><br><span class="line">-rw-r--r--.  1 root root  129 12月 29 2013 .tcshrc</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-h 参数作用:以较人性化的方式显示文件</span></span><br><span class="line">[root@bogon ~]# ls -lah</span><br><span class="line">总用量 32K</span><br><span class="line">dr-xr-x---.  2 root root  151 12月 11 13:15 .</span><br><span class="line">dr-xr-xr-x. 17 root root  224 12月 11 10:56 ..</span><br><span class="line">-rw-------.  1 root root 1.4K 12月  8 00:38 anaconda-ks.cfg</span><br><span class="line">-rw-------.  1 root root 1.8K 12月 11 21:40 .bash_history</span><br><span class="line">-rw-r--r--.  1 root root   18 12月 29 2013 .bash_logout</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bash_profile</span><br><span class="line">-rw-r--r--.  1 root root  176 12月 29 2013 .bashrc</span><br><span class="line">-rw-r--r--.  1 root root  100 12月 29 2013 .cshrc</span><br><span class="line">-rw-------.  1 root root   48 12月 11 13:15 .lesshst</span><br><span class="line">-rw-r--r--.  1 root root  129 12月 29 2013 .tcshrc</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看其它目录下文件</span></span><br><span class="line">[root@bogon ~]# ls /tmp</span><br><span class="line">ks-script-rGMaou                                                         vmware-root_653-4013264490  vmware-root_662-2689143848</span><br><span class="line">systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt  vmware-root_654-2688750646  vmware-root_664-2722697761</span><br><span class="line">test1                                                                    vmware-root_660-2697467306  vmware-root_682-2697467275</span><br><span class="line">test2                                                                    vmware-root_661-4013919860  yum.log</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">配合-l参数使用</span></span><br><span class="line">[root@bogon ~]# ls -l /tmp</span><br><span class="line">总用量 4</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">drwx------. 2 root root   6 12月  8 09:07 vmware-root_653-4013264490</span><br><span class="line">drwx------. 2 root root   6 12月 10 23:53 vmware-root_654-2688750646</span><br><span class="line">drwx------. 2 root root   6 12月 11 09:30 vmware-root_660-2697467306</span><br><span class="line">drwx------. 2 root root   6 12月 15 00:04 vmware-root_661-4013919860</span><br><span class="line">drwx------. 2 root root   6 12月 11 19:23 vmware-root_662-2689143848</span><br><span class="line">drwx------. 2 root root   6 12月 11 18:07 vmware-root_664-2722697761</span><br><span class="line">drwx------. 2 root root   6 12月  8 00:39 vmware-root_682-2697467275</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# ll /</span><br><span class="line">总用量 16</span><br><span class="line">lrwxrwxrwx.   1 root root    7 12月  8 00:34 bin -&gt; usr/bin</span><br><span class="line">dr-xr-xr-x.   5 root root 4096 12月  8 00:38 boot</span><br><span class="line">drwxr-xr-x.  19 root root 3100 12月 15 09:26 dev</span><br><span class="line">drwxr-xr-x.  75 root root 8192 12月 16 00:25 etc</span><br><span class="line">drwxr-xr-x.   3 root root   23 12月  8 00:37 home</span><br><span class="line">lrwxrwxrwx.   1 root root    7 12月  8 00:34 lib -&gt; usr/lib</span><br><span class="line">lrwxrwxrwx.   1 root root    9 12月  8 00:34 lib64 -&gt; usr/lib64</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 media</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 mnt</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 opt</span><br><span class="line">dr-xr-xr-x. 126 root root    0 12月 15 09:26 proc</span><br><span class="line">dr-xr-x---.   2 root root  151 12月 11 13:15 root</span><br><span class="line">drwxr-xr-x.  25 root root  740 12月 16 00:25 run</span><br><span class="line">lrwxrwxrwx.   1 root root    8 12月  8 00:34 sbin -&gt; usr/sbin</span><br><span class="line">drwxr-xr-x.   2 root root    6 4月  11 2018 srv</span><br><span class="line">dr-xr-xr-x.  13 root root    0 12月 15 09:26 sys</span><br><span class="line">drwxrwxrwt.   9 root root  156 12月 16 00:26 tmp</span><br><span class="line">drwxr-xr-x.  13 root root  155 12月  8 00:34 usr</span><br><span class="line">drwxr-xr-x.  19 root root  267 12月  8 00:39 var</span><br><span class="line">[root@bogon tmp]# ls -ld</span><br><span class="line">drwxrwxrwt. 9 root root 156 12月 16 00:26 .</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">参数-d</span></span><br><span class="line">[root@bogon tmp]# ls -d</span><br><span class="line">.</span><br></pre></td></tr></table></figure><h2 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以相对路径创建文件夹</span></span><br><span class="line">[root@bogon tmp]# mkdir haha</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 4</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:45 haha</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以绝对路径创建文件夹</span></span><br><span class="line">[root@bogon tmp]# mkdir /tmp/haha1</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 4</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:45 haha</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:46 haha1</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时创建多个文件夹</span></span><br><span class="line">[root@bogon tmp]# mkdir dir1 dir2</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 4</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:49 dir1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:49 dir2</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:45 haha</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:46 haha1</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p参数作用对比</span></span><br><span class="line">[root@bogon tmp]# mkdir haha2/haha3</span><br><span class="line">mkdir: 无法创建目录&quot;haha2/haha3&quot;: 没有那个文件或目录</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">递归创建文件</span></span><br><span class="line">[root@bogon tmp]# mkdir -p haha2/haha3 </span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 4</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:49 dir1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:49 dir2</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:45 haha</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:46 haha1</span><br><span class="line">drwxr-xr-x. 3 root root  19 12月 15 00:50 haha2</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br><span class="line">[root@bogon tmp]# ll haha2</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 00:50 haha3</span><br></pre></td></tr></table></figure><h2 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# rmdir</span><br><span class="line">rmdir: 缺少操作数</span><br><span class="line">Try &#x27;rmdir --help&#x27; for more information.</span><br><span class="line">[root@bogon tmp]# rmdir haha2</span><br><span class="line">rmdir: 删除 &quot;haha2&quot; 失败: 目录非空</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只能删除空目录,不常用</span></span><br><span class="line">[root@bogon tmp]# rmdir haha1</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 4</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:49 dir1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:49 dir2</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 15 00:45 haha</span><br><span class="line">drwxr-xr-x. 3 root root  19 12月 15 00:50 haha2</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br></pre></td></tr></table></figure><h2 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# cp haha2/haha3 haha</span><br><span class="line">cp: 略过目录&quot;haha2/haha3&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">复制文件夹需加上参数 -r</span></span><br><span class="line">[root@bogon tmp]# cp -r haha2/haha3 haha</span><br><span class="line">[root@bogon tmp]# ll haha2</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 00:50 haha3</span><br><span class="line">[root@bogon tmp]# ll haha</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 00:56 haha3  # 注意:两个文件时间不相同</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">保留目录属性复制,比如时间</span></span><br><span class="line">[root@bogon tmp]# cp -rp haha2/haha3 dir1 </span><br><span class="line">[root@bogon tmp]# ll dir1</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 00:50 haha3</span><br><span class="line">[root@bogon tmp]# ll haha2</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 00:50 haha3  # 注意:两个文件时间相同</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时复制多个文件</span></span><br><span class="line">[root@bogon tmp]# cp -r dir1 dir2 haha</span><br><span class="line">[root@bogon tmp]# ll haha</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 3 root root 19 12月 15 01:02 dir1</span><br><span class="line">drwxr-xr-x. 2 root root  6 12月 15 01:02 dir2</span><br><span class="line">drwxr-xr-x. 2 root root  6 12月 15 00:56 haha3</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">复制到 haha/ 目录下并 改名为 rename</span></span><br><span class="line">[root@bogon tmp]# cp -r dir1 haha/rename</span><br><span class="line">[root@bogon tmp]# ll haha</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 3 root root 19 12月 15 01:02 dir1</span><br><span class="line">drwxr-xr-x. 2 root root  6 12月 15 01:02 dir2</span><br><span class="line">drwxr-xr-x. 2 root root  6 12月 15 00:56 haha3</span><br><span class="line">drwxr-xr-x. 3 root root 19 12月 15 01:06 rename</span><br></pre></td></tr></table></figure><h2 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-r删除目录</span></span><br><span class="line">[root@bogon tmp]# rm -r dir1</span><br><span class="line">rm：是否进入目录&quot;dir1&quot;? y</span><br><span class="line">rm：是否删除目录 &quot;dir1/haha3&quot;？y</span><br><span class="line">rm：是否删除目录 &quot;dir1&quot;？y</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-f 直接删除,不再询问</span></span><br><span class="line">[root@bogon tmp]# rm -f dir2</span><br><span class="line">rm: 无法删除&quot;dir2&quot;: 是一个目录</span><br><span class="line">[root@bogon tmp]# rm -rf dir2</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 4</span><br><span class="line">drwxr-xr-x. 6 root root  57 12月 15 01:06 haha</span><br><span class="line">drwxr-xr-x. 3 root root  19 12月 15 00:50 haha2</span><br><span class="line">-rwx------. 1 root root 836 12月  8 00:38 ks-script-rGMaou</span><br><span class="line">drwx------. 3 root root  17 12月 15 00:04 systemd-private-7ba72f0aad2a4bf0acb2fee2d9025397-chronyd.service-iMXRBt</span><br><span class="line">drwxr-xr-x. 3 root root  82 12月 11 13:23 test1</span><br><span class="line">drwxr-xr-x. 2 root root   6 12月 11 11:06 test2</span><br><span class="line">-rw-------. 1 root root   0 12月  8 00:34 yum.log</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">清空 /tmp/目录  通配符*</span></span><br><span class="line">[root@bogon tmp]# rm -rf /tmp/*</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# rm -rf .</span><br><span class="line">rm: refusing to remove &quot;.&quot; or &quot;..&quot; directory: skipping &quot;.&quot;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">清空当前目录</span></span><br><span class="line">[root@192 tmp]# rm -rf ./*</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# ll</span><br><span class="line">总用量 172</span><br><span class="line">-rw-r--r-- 1 root root     0 12月 19 22:45 --add-repo</span><br><span class="line">-rw-r--r-- 1 root root 39800 7月   4 2014 python-iniparse-0.4-9.el7.noarch.rpm</span><br><span class="line">-rw-r--r-- 1 root root 67120 10月 15 2020 yum-cron-3.4.3-168.el7.centos.noarch.rpm</span><br><span class="line">-rw-r--r-- 1 root root 28348 7月   4 2014 yum-metadata-parser-1.1.4-10.el7.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root 35216 5月  14 2020 yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch.rpm</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">使用通配符删除</span></span><br><span class="line">[root@VM-0-9-centos ~]# rm -f *rpm</span><br><span class="line">[root@VM-0-9-centos ~]# ll</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r-- 1 root root 0 12月 19 22:45 --add-repo</span><br><span class="line">[root@VM-0-9-centos ~]# </span><br></pre></td></tr></table></figure><h2 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# rm -rf /tmp/*</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">[root@192 tmp]# mkdir test1</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:41 test1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重命名</span></span><br><span class="line">[root@192 tmp]# mv test1 test2</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:41 test2</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# mkdir dir</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:42 dir</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:41 test2</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">剪切/移动 文件 并改名</span></span><br><span class="line">[root@192 tmp]# mv dir test2/dir1</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 3 root root 18 12月 15 09:42 test2</span><br><span class="line">[root@192 tmp]# ll test2</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:42 dir1</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">移动dir1 到当前目录</span></span><br><span class="line">[root@192 tmp]# mv test2/dir1 .</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:42 dir1</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:44 test2</span><br></pre></td></tr></table></figure><h2 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建文件</span>   </span><br><span class="line">[root@192 tmp]# touch typroa</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:42 dir1</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:44 test2   # 文件夹为&quot;d&quot;</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 15 09:49 typroa   # 文件前缀为&quot;-&quot;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# touch p~`!@#$%^&amp;*()_+=-&#123;&#125;</span><br><span class="line">-bash: !@#$%^: event not found</span><br><span class="line">[root@192 tmp]# touch %$#&amp;~</span><br><span class="line">[1] 15878</span><br><span class="line">-bash: /root: 是一个目录</span><br><span class="line">[1]+  完成                  touch %$#</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时创建多个文件</span> </span><br><span class="line">[root@192 tmp]# touch haha1 haha2</span><br><span class="line">[root@192 tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:42 dir1</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 15 09:58 haha1</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 15 09:58 haha2</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 15 09:44 test2</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 15 09:49 typroa</span><br></pre></td></tr></table></figure><h2 id="cat-tac"><a href="#cat-tac" class="headerlink" title="cat/tac"></a>cat/tac</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">正序查看</span></span><br><span class="line">[root@192 etc]# cat issue</span><br><span class="line">\S</span><br><span class="line">Kernel \r on an \m</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">反序查看</span></span><br><span class="line">[root@192 etc]# tac issue</span><br><span class="line"></span><br><span class="line">Kernel \r on an \m</span><br><span class="line">\S</span><br></pre></td></tr></table></figure><h2 id="more"><a href="#more" class="headerlink" title="more"></a>more</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">回车换行,空格翻页,q退出 ,可显示当前进度</span></span><br><span class="line">[root@192 etc]# more services</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/services:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$Id</span>: services,v 1.55 2013/04/14 ovasik Exp $</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Network services, Internet style</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">IANA services version: last updated 2013-04-10</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">......</span></span><br></pre></td></tr></table></figure><p><img src="http://qiniu.yujing.fit/typora_img/image-20211215100625580.png" alt="image-20211215100625580"></p><h2 id="less"><a href="#less" class="headerlink" title="less"></a>less</h2><ul><li>下键、回车  【向下换行】</li><li>f键、空格、pageDown  【向下翻页】</li><li>PageUp  【向上翻页】</li><li>上键  【向上换行】</li><li>“:/关键字”   【冒号后输入斜杠“/“，进入搜索状态，输入关键字查询】</li><li>n键 【跳转下一个匹配项】</li><li>区别： 不显示进度百分比</li><li>q键  【退出浏览】</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20211215100857060.png" alt="image-20211215100857060"></p><h2 id="head-tail"><a href="#head-tail" class="headerlink" title="head/tail"></a>head/tail</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定查看前3行内容</span></span><br><span class="line">[root@192 etc]# head -n 3 services</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/services:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$Id</span>: services,v 1.55 2013/04/14 ovasik Exp $</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 参数与指定行数不加空格</span></span></span><br><span class="line">[root@192 etc]# head -n2 services</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/services:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$Id</span>: services,v 1.55 2013/04/14 ovasik Exp $</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认10行,不写参数 -n</span></span><br><span class="line">[root@192 etc]# head services</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">/etc/services:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="variable">$Id</span>: services,v 1.55 2013/04/14 ovasik Exp $</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Network services, Internet style</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">IANA services version: last updated 2013-04-10</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Note that it is presently the policy of IANA to assign a single well-known</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">port number <span class="keyword">for</span> both TCP and UDP; hence, most entries here have two entries</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">even <span class="keyword">if</span> the protocol doesn<span class="string">&#x27;t support UDP operations.</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">Updated from RFC 1700, ``Assigned Numbers&#x27;</span><span class="string">&#x27; (October 1994).  Not all ports</span></span></span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">指定查看后两行内容</span></span><br><span class="line">[root@192 etc]# tail -n2 services</span><br><span class="line">iqobject        48619/udp               # iqobject</span><br><span class="line">matahari        49000/tcp               # Matahari Broker</span><br><span class="line">[root@192 etc]# tail -n3 services</span><br><span class="line">iqobject        48619/tcp               # iqobject</span><br><span class="line">iqobject        48619/udp               # iqobject</span><br><span class="line">matahari        49000/tcp               # Matahari Broker</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">默认后10行</span></span><br><span class="line">[root@192 etc]# tail services</span><br><span class="line">3gpp-cbsp       48049/tcp               # 3GPP Cell Broadcast Service Protocol</span><br><span class="line">isnetserv       48128/tcp               # Image Systems Network Services</span><br><span class="line">isnetserv       48128/udp               # Image Systems Network Services</span><br><span class="line">blp5            48129/tcp               # Bloomberg locator</span><br><span class="line">blp5            48129/udp               # Bloomberg locator</span><br><span class="line">com-bardac-dw   48556/tcp               # com-bardac-dw</span><br><span class="line">com-bardac-dw   48556/udp               # com-bardac-dw</span><br><span class="line">iqobject        48619/tcp               # iqobject</span><br><span class="line">iqobject        48619/udp               # iqobject</span><br><span class="line">matahari        49000/tcp               # Matahari Broker</span><br></pre></td></tr></table></figure><ul><li><code>tail -f</code>动态显示文件内容</li></ul><h2 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@192 tmp]# touch test.list</span><br><span class="line">[root@192 tmp]# mkdir dir1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在dir1的目录下创建test.list的软连接  参数-s  创建软链接</span></span><br><span class="line">[root@192 tmp]# ln -s test.list dir1</span><br><span class="line">[root@192 tmp]# ll dir1</span><br><span class="line">总用量 0</span><br><span class="line">lrwxrwxrwx. 1 root root 9 12月 15 10:27 test.list -&gt; test.list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">在dir1</span></span><br><span class="line">[root@192 tmp]# ln test.list dir1/yinlianjie</span><br><span class="line">[root@192 tmp]# ll dir1</span><br><span class="line">总用量 0</span><br><span class="line">lrwxrwxrwx. 1 root root 9 12月 15 10:27 test.list -&gt; test.list</span><br><span class="line">-rw-r--r--. 2 root root 0 12月 15 10:26 yinlianjie</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建软连接并改名</span></span><br><span class="line">[root@192 tmp]# ln -s test.list dir1/ruan</span><br><span class="line">[root@192 tmp]# ll dir1</span><br><span class="line">总用量 0</span><br><span class="line">lrwxrwxrwx. 1 root root 9 12月 15 10:28 ruan -&gt; test.list    # &quot;l&quot;开头,表示文件类型为软链接</span><br><span class="line">lrwxrwxrwx. 1 root root 9 12月 15 10:27 test.list -&gt; test.list</span><br><span class="line">-rw-r--r--. 2 root root 0 12月 15 10:26 yinlianjie</span><br></pre></td></tr></table></figure><h2 id="chmod"><a href="#chmod" class="headerlink" title="chmod"></a>chmod</h2><blockquote><p>更改文件权限,限制可使用者</p></blockquote><ul><li>文件所有者</li><li>root管理员</li></ul><blockquote><p>用户分类</p></blockquote><ul><li><code>u</code>      user  所有人</li><li><code>g</code>      group 所属组</li><li><code>o</code>      other 其他人</li></ul><blockquote><p>删除文件权限</p></blockquote><ul><li>==对文件所在目录拥有<code>w</code>写权限，对文件拥有<code>w</code>权限只代表可以修改文件内容==</li></ul><blockquote><p>权限继承</p></blockquote><ul><li>只有拥有了文件目录的权限,才可真正拥有其子目录下相关权限. 即使拥有文件的权限为<code>7</code>,但是对文件所在目录的权限为<code>0</code>,也是无法读写的.</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 53 12月 15 10:28 dir1</span><br><span class="line">-rw-r--r--. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">[root@bogon tmp]# chmod u+x test.list</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 53 12月 15 10:28 dir1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意对比:权限已从<span class="string">&quot;rw-&quot;</span>变为了<span class="string">&quot;rwx&quot;</span></span></span><br><span class="line">-rwxr--r--. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">[root@bogon tmp]# chmod u-x test.list </span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 53 12月 15 10:28 dir1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">&quot;x&quot;</span>执行权限被移除</span></span><br><span class="line">-rw-r--r--. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">设置为<span class="string">&quot;r&quot;</span>,只读权限</span></span><br><span class="line">[root@bogon tmp]# chmod u=r test.list </span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 53 12月 15 10:28 dir1</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> <span class="string">&quot;r--&quot;</span>成功!</span></span><br><span class="line">-r--r--r--. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">同时更改多个用户类型的权限</span></span><br><span class="line">[root@bogon tmp]# chmod u=rw,g=rw,o=rw test.list </span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 53 12月 15 10:28 dir1</span><br><span class="line">-rw-rw-rw-. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br></pre></td></tr></table></figure><blockquote><p>权限的数字表示(一个用户的权限在0~7之间)</p></blockquote><ul><li><code>r</code> — 4</li><li><code>w</code> — 2</li><li><code>x</code> — 1</li></ul><p><img src="http://qiniu.yujing.fit/typora_img/image-20211216013009127.png" alt="image-20211216013009127"></p><p>例:把test.list文件的权限更改为 <code>r--rw----</code></p><ul><li><code>r--</code> == 4</li><li><code>rw-</code> == 6</li><li><code>---</code> == 0</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# chmod 460 test.list </span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 53 12月 15 10:28 dir1</span><br><span class="line">-r--rw----. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# ll dir1/changemod/</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 16 01:05 mode</span><br><span class="line">[root@bogon tmp]# ll dir1</span><br><span class="line">总用量 0</span><br><span class="line">drwxr-xr-x. 3 root root 18 12月 16 01:05 changemod</span><br><span class="line">-r--rw----. 2 root root  0 12月 15 10:26 yinlianjie</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">递归更改,将目录dir1及目录下所有文件权限全部更改为`777`</span></span><br><span class="line">[root@bogon tmp]# chmod -R 777 dir1</span><br><span class="line">[root@bogon tmp]# ll dir1</span><br><span class="line">总用量 0</span><br><span class="line">drwxrwxrwx. 3 root root 18 12月 16 01:05 changemod</span><br><span class="line">-rwxrwxrwx. 2 root root  0 12月 15 10:26 yinlianjie</span><br><span class="line">[root@bogon tmp]# ll dir1/changemod/</span><br><span class="line">总用量 0</span><br><span class="line">drwxrwxrwx. 2 root root 6 12月 16 01:05 mode</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">drwxrwxrwx. 3 root root 41 12月 16 01:04 dir1</span><br><span class="line">-rwxrwxrwx. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br></pre></td></tr></table></figure><h2 id="chown"><a href="#chown" class="headerlink" title="chown"></a>chown</h2><blockquote><p>更改文件所有者,限制:只有管理员<strong>root</strong>可用</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">tiam用户 使用</span></span><br><span class="line">[tiam@bogon tmp]$ chown tiam dir1</span><br><span class="line">chown: 正在更改&quot;dir1&quot; 的所有者: 不允许的操作</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">root使用</span></span><br><span class="line">[root@bogon tmp]# chown tiam dir1</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意文件 所有者 已经变化</span></span><br><span class="line">drwxrwxrwx. 3 tiam root 41 12月 16 01:04 dir1</span><br><span class="line">drwx------. 3 root root 17 12月 16 20:17 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">-rwxrwxrwx. 2 root root  0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root  6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">drwx------. 2 root root  6 12月 16 20:17 vmware-root_673-3988556249</span><br></pre></td></tr></table></figure><h2 id="chgrp"><a href="#chgrp" class="headerlink" title="chgrp"></a>chgrp</h2><blockquote><p>更改所属组</p></blockquote><h2 id="groupadd"><a href="#groupadd" class="headerlink" title="groupadd"></a>groupadd</h2><blockquote><p>添加所属组</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建 组</span></span><br><span class="line">[root@bogon tmp]# groupadd softwareclass</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更改 dir1 文件的所属组</span></span><br><span class="line">[root@bogon tmp]# chgrp softwareclass dir1</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">注意!!!</span></span><br><span class="line">drwxrwxrwx. 3 tiam softwareclass 41 12月 16 01:04 dir1</span><br><span class="line">drwx------. 3 root root          17 12月 16 20:17 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">-rwxrwxrwx. 2 root root           0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root           6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">drwx------. 2 root root           6 12月 16 20:17 vmware-root_673-3988556249</span><br></pre></td></tr></table></figure><h2 id="useradd"><a href="#useradd" class="headerlink" title="useradd"></a>useradd</h2><blockquote><p>添加用户用户名</p></blockquote><h2 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h2><blockquote><p>添加用户密码  <code>-f</code> 强制执行</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# useradd tiam</span><br><span class="line">[root@bogon tmp]# passwd tiam</span><br><span class="line">更改用户 tiam 的密码 。</span><br><span class="line">新的 密码：</span><br><span class="line">无效的密码： 密码少于 8 个字符</span><br><span class="line">重新输入新的 密码：</span><br><span class="line">抱歉，密码不匹配。</span><br><span class="line">新的 密码：</span><br><span class="line">无效的密码： 密码包含用户名在某些地方</span><br><span class="line">重新输入新的 密码：</span><br><span class="line">抱歉，密码不匹配。</span><br><span class="line">新的 密码：</span><br><span class="line">无效的密码： 密码少于 8 个字符</span><br><span class="line">重新输入新的 密码：</span><br><span class="line">抱歉，密码不匹配。</span><br><span class="line">passwd: 已经超出服务重试的最多次数</span><br></pre></td></tr></table></figure><h2 id="su-root"><a href="#su-root" class="headerlink" title="su root"></a>su root</h2><blockquote><p>切换root登录</p></blockquote><p><img src="http://qiniu.yujing.fit/typora_img/image-20211216012837396.png" alt="image-20211216012837396"></p><h2 id="exit-logout"><a href="#exit-logout" class="headerlink" title="exit/logout"></a>exit/logout</h2><blockquote><p>退出登录</p></blockquote><h2 id="shutdown-h-now"><a href="#shutdown-h-now" class="headerlink" title="shutdown -h now"></a>shutdown -h now</h2><blockquote><p> 关机</p></blockquote><h2 id="umask"><a href="#umask" class="headerlink" title="umask"></a>umask</h2><blockquote><p>缺省组</p></blockquote><ul><li>每个用户可属于多个组,但是当用户创建文件时,只会显示一个组,即缺省组</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看文件缺省权限</span></span><br><span class="line">[root@bogon tmp]# umask -S</span><br><span class="line">u=rwx,g=rx,o=rx</span><br><span class="line">[root@bogon tmp]# mkdir lamp</span><br><span class="line">[root@bogon tmp]# ls -l lamp</span><br><span class="line">总用量 0</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看目录lamp详细信息, 参数 -d 表示查看文件夹本身,而不是查看文件夹下内容</span></span><br><span class="line">[root@bogon tmp]# ls -ld lamp</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 16 20:56 lamp</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Linux中,新建文件默认去除 x 权限</span></span><br><span class="line">[root@bogon tmp]# ll bloom</span><br><span class="line">-rw-r--r--. 1 root root 0 12月 16 21:01 bloom</span><br></pre></td></tr></table></figure><ul><li> Linux中,新建**<u>文件</u>**默认没有可执行权限</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">修改文件缺省权限</span></span><br><span class="line">[root@bogon tmp]# umask 077</span><br><span class="line">[root@bogon tmp]# mkdir lamb</span><br><span class="line">[root@bogon tmp]# ll -d lamb</span><br><span class="line">drwx------. 2 root root 6 12月 16 21:22 lamb</span><br><span class="line">[root@bogon tmp]# touch lamb.list</span><br><span class="line">[root@bogon tmp]# ll lamb.list </span><br><span class="line">-rw-------. 1 root root 0 12月 16 21:23 lamb.list</span><br></pre></td></tr></table></figure><blockquote><p>解释</p></blockquote><ul><li><code>0</code>  对应<code>---</code></li><li><code>7</code>对应 <code>rwx</code></li><li><code>7</code>对应 <code>rwx</code></li><li>但是实际<strong>文件夹</strong> 缺省权限却是 <code>rwx --- ---</code></li><li>进行亦或运算后的结果</li><li><strong>文件</strong>权限去掉<code>x</code>权限, 即<code>rw- --- ---</code></li></ul><p>例:我想改回默认权限<code>rwx r-x r-x</code></p><ul><li><code>rwx</code>  ==&gt; <code>0</code></li><li><code>r-x</code> ==&gt; <code>2</code></li><li><code>r-x</code> ==&gt; 2</li></ul><p>测试:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# umask 022</span><br><span class="line">[root@bogon tmp]# mkdir lamb1</span><br><span class="line">[root@bogon tmp]# ll -d lamb1</span><br><span class="line">drwxr-xr-x. 2 root root 6 12月 16 21:32 lamb1</span><br><span class="line">[root@bogon tmp]# umask -S</span><br><span class="line">u=rwx,g=rx,o=rx</span><br></pre></td></tr></table></figure><h2 id="find"><a href="#find" class="headerlink" title="find"></a>find</h2><blockquote><p>不建议使用,占用服务器 ,以遍历的方式查询</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# find lamb1</span><br><span class="line">lamb1</span><br><span class="line">[root@bogon tmp]# find es</span><br><span class="line">find: ‘es’: 没有那个文件或目录</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">精确搜索,在/etc目录下查询文件名为init的文件,区分大小写</span></span><br><span class="line">[root@bogon tmp]# find /etc -name init</span><br><span class="line">/etc/sysconfig/init</span><br><span class="line">/etc/selinux/targeted/active/modules/100/init</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">模糊查询,使用通配符 * ,匹配任意字符</span></span><br><span class="line">[root@bogon tmp]# find /etc -name *init*</span><br><span class="line">/etc/systemd/system/sysinit.target.wants</span><br><span class="line">/etc/inittab</span><br><span class="line">/etc/sysconfig/init</span><br><span class="line">/etc/sysconfig/network-scripts/init.ipv6-global</span><br><span class="line">/etc/init.d</span><br><span class="line">/etc/rc.d/init.d</span><br><span class="line">/etc/selinux/targeted/active/modules/100/init</span><br><span class="line">/etc/selinux/targeted/contexts/initrc_context</span><br><span class="line">/etc/security/namespace.init</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">模糊查询 文件名为init后面有3个字符的文件</span></span><br><span class="line">[root@bogon tmp]# find /etc -name init???</span><br><span class="line">/etc/inittab</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# mkdir INITTAB</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-iname 不区分大小写查询</span></span><br><span class="line">[root@bogon tmp]# find / -iname init???</span><br><span class="line">/dev/initctl</span><br><span class="line">/run/systemd/initctl</span><br><span class="line">/etc/inittab</span><br><span class="line">/tmp/INITTAB</span><br><span class="line">/usr/lib/dracut/modules.d/99base/init.sh</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询大于50MB的文件 , 单位为数据块,2数据块==1KB</span></span><br><span class="line">[root@bogon tmp]# find / -size +102400</span><br><span class="line">/boot/initramfs-0-rescue-4ab4fad3863e424fb979b7d73e8b015e.img</span><br><span class="line">/proc/kcore</span><br><span class="line">find: ‘/proc/98964/task/98964/fd/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/98964/task/98964/fdinfo/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/98964/fd/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/98964/fdinfo/5’: 没有那个文件或目录</span><br><span class="line">/sys/devices/pci0000:00/0000:00:0f.0/resource1_wc</span><br><span class="line">/sys/devices/pci0000:00/0000:00:0f.0/resource1</span><br><span class="line">/var/cache/yum/x86_64/7/updates/gen/primary_db.sqlite</span><br><span class="line">/usr/lib/locale/locale-archive</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">单位MB 注意大写 M</span></span><br><span class="line">[root@bogon tmp]# find / -size +50M</span><br><span class="line">/boot/initramfs-0-rescue-4ab4fad3863e424fb979b7d73e8b015e.img</span><br><span class="line">/proc/kcore</span><br><span class="line">find: ‘/proc/100141/task/100141/fd/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/100141/task/100141/fdinfo/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/100141/fd/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/100141/fdinfo/5’: 没有那个文件或目录</span><br><span class="line">/sys/devices/pci0000:00/0000:00:0f.0/resource1_wc</span><br><span class="line">/sys/devices/pci0000:00/0000:00:0f.0/resource1</span><br><span class="line">/var/cache/yum/x86_64/7/updates/gen/primary_db.sqlite</span><br><span class="line">/usr/lib/locale/locale-archive</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">单位KB 注意 小写 k</span></span><br><span class="line">[root@bogon tmp]# find / -size +51200k</span><br><span class="line">/boot/initramfs-0-rescue-4ab4fad3863e424fb979b7d73e8b015e.img</span><br><span class="line">/proc/kcore</span><br><span class="line">find: ‘/proc/105232/task/105232/fd/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/105232/task/105232/fdinfo/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/105232/fd/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/105232/fdinfo/5’: 没有那个文件或目录</span><br><span class="line">/sys/devices/pci0000:00/0000:00:0f.0/resource1_wc</span><br><span class="line">/sys/devices/pci0000:00/0000:00:0f.0/resource1</span><br><span class="line">/var/cache/yum/x86_64/7/updates/gen/primary_db.sqlite</span><br><span class="line">/usr/lib/locale/locale-archive</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据文件所属者查找</span></span><br><span class="line">[root@bogon tmp]# find /tmp -user tiam</span><br><span class="line">/tmp/dir1</span><br><span class="line">/tmp/only.list</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root           0 12月 16 21:01 bloom</span><br><span class="line">drwxrwxrwx. 3 tiam softwareclass 41 12月 16 01:04 dir1</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:52 INITTAB</span><br><span class="line">drwx------. 2 root root           6 12月 16 21:22 lamb</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:32 lamb1</span><br><span class="line">-rw-------. 1 root root           0 12月 16 21:23 lamb.list</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 20:56 lamp</span><br><span class="line">-rw-rw-r--. 1 tiam tiam           0 12月 16 20:48 only.list</span><br><span class="line">drwx------. 3 root root          17 12月 16 20:17 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">-rwxrwxrwx. 2 root root           0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root           6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">drwx------. 2 root root           6 12月 16 20:17 vmware-root_673-3988556249</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据所属组查询</span></span><br><span class="line">[root@bogon tmp]# find -group softwareclass</span><br><span class="line">./dir1</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root           0 12月 16 21:01 bloom</span><br><span class="line">drwxrwxrwx. 3 tiam softwareclass 41 12月 16 01:04 dir1</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:52 INITTAB</span><br><span class="line">drwx------. 2 root root           6 12月 16 21:22 lamb</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:32 lamb1</span><br><span class="line">-rw-------. 1 root root           0 12月 16 21:23 lamb.list</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 20:56 lamp</span><br><span class="line">-rw-rw-r--. 1 tiam tiam           0 12月 16 20:48 only.list</span><br><span class="line">drwx------. 3 root root          17 12月 16 20:17 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">-rwxrwxrwx. 2 root root           0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root           6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">drwx------. 2 root root           6 12月 16 20:17 vmware-root_673-3988556249</span><br></pre></td></tr></table></figure><ul><li>-amin 访问时间 access</li><li>-cmin 文件属性 change</li><li>-mmin 文件内容 modify</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看/var目录下1分钟内被修改过的文件</span></span><br><span class="line">[root@bogon tmp]# find /var -mmin -1</span><br><span class="line">/var/log/audit/audit.log</span><br><span class="line">/var/log/vmware-vmsvc-root.log</span><br></pre></td></tr></table></figure><blockquote><p>逻辑运算</p></blockquote><ul><li><code>-a</code> and 表示”且” </li><li><code>-o</code> or 表示 “或”</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询50MB~60MB之间的文件</span></span><br><span class="line">[root@bogon tmp]# find / -size +50M -a -size -60M</span><br><span class="line">find: ‘/proc/15539/task/15539/fd/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/15539/task/15539/fdinfo/6’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/15539/fd/5’: 没有那个文件或目录</span><br><span class="line">find: ‘/proc/15539/fdinfo/5’: 没有那个文件或目录</span><br></pre></td></tr></table></figure><blockquote><p>文件类型</p></blockquote><ul><li><code>f</code> 文件</li><li><code>d</code> 目录</li><li><code>l</code> 软链接</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据文件类型查询</span></span><br><span class="line">[root@bogon tmp]# find -type f</span><br><span class="line">./test.list</span><br><span class="line">./dir1/yinlianjie</span><br><span class="line">./only.list</span><br><span class="line">./bloom</span><br><span class="line">./lamb.list</span><br><span class="line">[root@bogon tmp]# ll</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root           0 12月 16 21:01 bloom</span><br><span class="line">drwxrwxrwx. 3 tiam softwareclass 41 12月 16 01:04 dir1</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:52 INITTAB</span><br><span class="line">drwx------. 2 root root           6 12月 16 21:22 lamb</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:32 lamb1</span><br><span class="line">-rw-------. 1 root root           0 12月 16 21:23 lamb.list</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 20:56 lamp</span><br><span class="line">-rw-rw-r--. 1 tiam tiam           0 12月 16 20:48 only.list</span><br><span class="line">drwx------. 3 root root          17 12月 16 20:17 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">-rwxrwxrwx. 2 root root           0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root           6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">drwx------. 2 root root           6 12月 16 20:17 vmware-root_673-3988556249</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon tmp]# find test.list -exec ls -l \;</span><br><span class="line">总用量 0</span><br><span class="line">-rw-r--r--. 1 root root           0 12月 16 21:01 bloom</span><br><span class="line">drwxrwxrwx. 3 tiam softwareclass 41 12月 16 01:04 dir1</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:52 INITTAB</span><br><span class="line">drwx------. 2 root root           6 12月 16 21:22 lamb</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 21:32 lamb1</span><br><span class="line">-rw-------. 1 root root           0 12月 16 21:23 lamb.list</span><br><span class="line">drwxr-xr-x. 2 root root           6 12月 16 20:56 lamp</span><br><span class="line">-rw-rw-r--. 1 tiam tiam           0 12月 16 20:48 only.list</span><br><span class="line">drwx------. 3 root root          17 12月 16 20:17 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">-rwxrwxrwx. 2 root root           0 12月 15 10:26 test.list</span><br><span class="line">drwx------. 2 root root           6 12月 16 00:25 vmware-root_666-2731021219</span><br><span class="line">drwx------. 2 root root           6 12月 16 20:17 vmware-root_673-3988556249</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-<span class="built_in">exec</span> 对查询结果 再次操作,显示详细信息</span></span><br><span class="line">[root@bogon tmp]# find test.list -exec ls -l &#123;&#125; \;</span><br><span class="line">-rwxrwxrwx. 2 root root 0 12月 15 10:26 test.list</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-ok 作用于-<span class="built_in">exec</span>相同,但是多了一个询问步骤</span></span><br><span class="line">[root@bogon tmp]# find test.list -ok ls -l &#123;&#125; \;</span><br><span class="line">&lt; ls ... test.list &gt; ? y</span><br><span class="line">-rwxrwxrwx. 2 root root 0 12月 15 10:26 test.list</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看文件节点</span></span><br><span class="line">[root@bogon tmp]# ls -i</span><br><span class="line">16777666 bloom    16784898 lamb1           277 systemd-private-36d853d491874b5c84f83329b44cddab-chronyd.service-S5zkhE</span><br><span class="line">16777668 dir1     16777689 lamb.list  16777289 test.list</span><br><span class="line">33575433 INITTAB  51041070 lamp       33575424 vmware-root_666-2731021219</span><br><span class="line">     286 lamb     16777637 only.list       285 vmware-root_673-3988556249</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">根据节点查询</span></span><br><span class="line">[root@bogon tmp]# find -inum 16777666</span><br><span class="line">./bloom</span><br></pre></td></tr></table></figure><h2 id="uname-r"><a href="#uname-r" class="headerlink" title="uname -r"></a>uname -r</h2><blockquote><p>查看环境</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos bin]# uname -r</span><br><span class="line">3.10.0-1160.31.1.el7.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos bin]# cat /etc/os-release</span><br><span class="line">NAME=&quot;CentOS Linux&quot;</span><br><span class="line">VERSION=&quot;7 (Core)&quot;</span><br><span class="line">ID=&quot;centos&quot;</span><br><span class="line">ID_LIKE=&quot;rhel fedora&quot;</span><br><span class="line">VERSION_ID=&quot;7&quot;</span><br><span class="line">PRETTY_NAME=&quot;CentOS Linux 7 (Core)&quot;</span><br><span class="line">ANSI_COLOR=&quot;0;31&quot;</span><br><span class="line">CPE_NAME=&quot;cpe:/o:centos:centos:7&quot;</span><br><span class="line">HOME_URL=&quot;https://www.centos.org/&quot;</span><br><span class="line">BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;</span><br><span class="line"></span><br><span class="line">CENTOS_MANTISBT_PROJECT=&quot;CentOS-7&quot;</span><br><span class="line">CENTOS_MANTISBT_PROJECT_VERSION=&quot;7&quot;</span><br><span class="line">REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;</span><br><span class="line">REDHAT_SUPPORT_PRODUCT_VERSION=&quot;7&quot;</span><br></pre></td></tr></table></figure><h2 id="locate"><a href="#locate" class="headerlink" title="locate*"></a>locate*</h2><blockquote><p>以资料库的方式去查询文件</p></blockquote><ul><li>优点: 更快,遍历资料库</li><li>缺点: 不一定准确(因为资料库中还未更新,定时更新)</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">搜索locate的资料库 /var/lib/mlocate/mlocate.db</span></span><br><span class="line">[root@VM-0-9-centos ~]# locate mlocate.db</span><br><span class="line">/usr/share/man/man5/mlocate.db.5.gz</span><br><span class="line">/var/lib/mlocate/mlocate.db</span><br><span class="line">/var/lib/mlocate/mlocate.db.cLTXUR</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tmp]# touch beyound</span><br><span class="line">[root@VM-0-9-centos tmp]# ll beyound</span><br><span class="line">-rw-r--r-- 1 root root 0 12月 21 20:03 beyound</span><br><span class="line">[root@VM-0-9-centos tmp]# locate beyound</span><br><span class="line">[root@VM-0-9-centos tmp]# find beyound</span><br><span class="line">beyound</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# locate likeyou</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">参数-i 结果不区分大小写</span></span><br><span class="line">[root@VM-0-9-centos ~]# locate -i likeyou</span><br><span class="line">/root/likeYOU</span><br><span class="line">[root@VM-0-9-centos ~]# rm -f like*</span><br><span class="line">[root@VM-0-9-centos ~]# ll</span><br><span class="line">总用量 172</span><br><span class="line">-rw-r--r-- 1 root root     0 12月 19 22:45 --add-repo</span><br><span class="line">-rw-r--r-- 1 root root 39800 7月   4 2014 python-iniparse-0.4-9.el7.noarch.rpm</span><br><span class="line">-rw-r--r-- 1 root root 67120 10月 15 2020 yum-cron-3.4.3-168.el7.centos.noarch.rpm</span><br><span class="line">-rw-r--r-- 1 root root 28348 7月   4 2014 yum-metadata-parser-1.1.4-10.el7.x86_64.rpm</span><br><span class="line">-rw-r--r-- 1 root root 35216 5月  14 2020 yum-plugin-fastestmirror-1.1.31-54.el7_8.noarch.rpm</span><br></pre></td></tr></table></figure><h2 id="updatedb"><a href="#updatedb" class="headerlink" title="updatedb"></a>updatedb</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新locate查询的资料库</span></span><br><span class="line">[root@VM-0-9-centos tmp]# updatedb</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">更新之后,发现还是未查到,因为资料库不会将/tmp目录下的文件收录</span></span><br><span class="line">[root@VM-0-9-centos tmp]# locate beyound</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去其他目录测试</span></span><br><span class="line">[root@VM-0-9-centos tmp]# cd ~</span><br><span class="line">[root@VM-0-9-centos ~]# touch likethisdo</span><br><span class="line">[root@VM-0-9-centos ~]# ll likethisdo</span><br><span class="line">-rw-r--r-- 1 root root     0 12月 21 20:09 likethisdo</span><br><span class="line">[root@VM-0-9-centos ~]# locate likethisdo</span><br><span class="line">[root@VM-0-9-centos ~]# updatedb</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">成功查到</span></span><br><span class="line">[root@VM-0-9-centos ~]# locate likethisdo</span><br><span class="line">/root/likethisdo</span><br></pre></td></tr></table></figure><h2 id="which"><a href="#which" class="headerlink" title="which"></a>which</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询命令所在目录</span></span><br><span class="line">[root@VM-0-9-centos ~]# which ll</span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">        /usr/bin/ls</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">只能查询命令</span></span><br><span class="line">[root@VM-0-9-centos ~]# which help</span><br><span class="line">/usr/bin/which: no help in (/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin)</span><br></pre></td></tr></table></figure><h2 id="whereis"><a href="#whereis" class="headerlink" title="whereis"></a>whereis</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询命令所在目录以及帮助文档所在路径</span></span><br><span class="line">[root@VM-0-9-centos ~]# whereis rm</span><br><span class="line">rm: /usr/bin/rm /usr/share/man/man1/rm.1.gz</span><br><span class="line">[root@VM-0-9-centos ~]# whereis beyound</span><br><span class="line">beyound:[root@VM-0-9-centos ~]# </span><br></pre></td></tr></table></figure><h2 id="grep"><a href="#grep" class="headerlink" title="grep*"></a>grep*</h2><ul><li><code>-v</code> 除去子串</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询文件内容中web关键字</span></span><br><span class="line">[root@VM-0-9-centos ~]# grep web /www/wwwlogs/web.czh.fit.log</span><br><span class="line">117.154.105.56 - - [29/Oct/2021:22:22:09 +0800] &quot;GET /js/jquery-1.10.1.js HTTP/1.1&quot; 200 94909 &quot;http://web.czh.fit/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:94.0) Gecko/20100101 Firefox/94.0&quot;</span><br><span class="line">117.154.105.56 - - [29/Oct/2021:22:22:09 +0800] &quot;GET /favicon.ico HTTP/1.1&quot; 404 727 &quot;http://web.czh.fit/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:94.0) Gecko/20100101 Firefox/94.0&quot;</span><br><span class="line">117.154.105.56 - - [29/Oct/2021:22:22:12 +0800] &quot;GET /img/pexels-lukas-669610.jpg HTTP/1.1&quot; 200 2716839 &quot;http://web.czh.fit/&quot; &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:94.0) Gecko/20100101 Firefox/94.0&quot;</span><br><span class="line">.....</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">7.36 XiaoMi/MiuiBrowser/15.6.12&quot;</span><br><span class="line">[root@VM-0-9-centos ~]# more /etc/inittab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">inittab is no longer used when using systemd.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># systemd uses &#x27;targets&#x27; instead of runlevels. By default, there are two main targets:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># multi-user.target: analogous to runlevel 3</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">graphical.target: analogous to runlevel 5</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># To view current default target, run:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">systemctl get-default</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># To set a default target, run:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">systemctl set-default TARGET.target</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># 去除以&quot;#&quot;号开头的所在行</span></span></span><br><span class="line">[root@VM-0-9-centos ~]# grep -v ^# /etc/inittab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">去除含有<span class="string">&quot;systemctl&quot;</span>的所在行</span></span><br><span class="line">[root@VM-0-9-centos ~]# grep -v systemctl /etc/inittab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">inittab is no longer used when using systemd.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># systemd uses &#x27;targets&#x27; instead of runlevels. By default, there are two main targets:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># multi-user.target: analogous to runlevel 3</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">graphical.target: analogous to runlevel 5</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># To view current default target, run:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># To set a default target, run:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">[root@VM-0-9-centos ~]<span class="comment">#</span></span> </span><br></pre></td></tr></table></figure><h2 id="man"><a href="#man" class="headerlink" title="man*"></a>man*</h2><blockquote><p>manual</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看命令帮助信息</span></span><br><span class="line">[root@VM-0-9-centos ~]# man ls</span><br><span class="line">LS(1)                                    User Commands                                   LS(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       ls - list directory contents</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       ls [OPTION]... [FILE]...</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       List  information  about  the  FILEs  (the current directory by default).  Sort entries</span><br><span class="line">       alphabetically if none of -cftuvSUX nor --sort is specified.</span><br><span class="line"></span><br><span class="line">       Mandatory arguments to long options are mandatory for short options too.</span><br><span class="line"></span><br><span class="line">       -a, --all</span><br><span class="line">              do not ignore entries starting with .</span><br><span class="line"></span><br><span class="line">       -A, --almost-all</span><br><span class="line">...skipping...</span><br><span class="line"></span><br><span class="line">                   SUMMARY OF LESS COMMANDS</span><br><span class="line"></span><br><span class="line">      Commands marked with * may be preceded by a number, N.</span><br><span class="line">      Notes in parentheses indicate the behavior if N is given.</span><br><span class="line">      A key preceded by a caret indicates the Ctrl key; thus ^K is ctrl-K.</span><br><span class="line"></span><br><span class="line">  h  H                 Display this help.</span><br><span class="line">  q  :q  Q  :Q  ZZ     Exit.</span><br><span class="line"> ---------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">                           MOVING</span><br><span class="line"></span><br><span class="line">  e  ^E  j  ^N  CR  *  Forward  one line   (or N lines).</span><br><span class="line">  y  ^Y  k  ^K  ^P  *  Backward one line   (or N lines).</span><br><span class="line">  f  ^F  ^V  SPACE  *  Forward  one window (or N lines).</span><br><span class="line">  b  ^B  ESC-v      *  Backward one window (or N lines).</span><br><span class="line">  z                 *  Forward  one window (and set window to N).</span><br><span class="line">  w                 *  Backward one window (and set window to N).</span><br><span class="line">  ESC-SPACE         *  Forward  one window, but don&#x27;t stop at end-of-file.</span><br><span class="line">  d  ^D             *  Forward  one half-window (and set half-window to N).</span><br><span class="line">  u  ^U             *  Backward one half-window (and set half-window to N).</span><br><span class="line">  ESC-)  RightArrow *  Left  one half screen width (or N positions).</span><br><span class="line">  ESC-(  LeftArrow  *  Right one half screen width (or N positions).</span><br><span class="line">HELP -- Press RETURN for more, or q when done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看配置文件帮助</span></span><br><span class="line">[root@VM-0-9-centos ~]# man services</span><br><span class="line">没有 services 的手册页条目</span><br></pre></td></tr></table></figure><blockquote><p>一般情况下,帮助文件名中</p></blockquote><ul><li><code>1</code> 表示命令的帮助</li><li><code>5</code> 表示配置文件的帮助</li></ul><h2 id="whatis-apropos"><a href="#whatis-apropos" class="headerlink" title="whatis/apropos"></a>whatis/apropos</h2><blockquote><p>简要的查看命令或配置文件的作用</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tat_agent]# whatis ls</span><br><span class="line">ls (1)               - list directory contents</span><br><span class="line">[root@VM-0-9-centos tat_agent]# whatis inittab</span><br><span class="line">inittab：没有 appropriate。</span><br><span class="line">[root@VM-0-9-centos tat_agent]# whatis rm</span><br><span class="line">rm (1)               - remove files or directories</span><br><span class="line">[root@VM-0-9-centos tat_agent]# apropos</span><br><span class="line">apropos 什么？</span><br><span class="line">[root@VM-0-9-centos tat_agent]# apropos inittab</span><br><span class="line">inittab：没有 appropriate。</span><br></pre></td></tr></table></figure><h2 id="–help"><a href="#–help" class="headerlink" title="–help"></a>–help</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看 <span class="built_in">mkdir</span> 命令的帮助</span></span><br><span class="line">[root@VM-0-9-centos tat_agent]# mkdir --help</span><br><span class="line">用法：mkdir [选项]... 目录...</span><br><span class="line">Create the DIRECTORY(ies), if they do not already exist.</span><br><span class="line"></span><br><span class="line">Mandatory arguments to long options are mandatory for short options too.</span><br><span class="line">  -m, --mode=MODE   set file mode (as in chmod), not a=rwx - umask</span><br><span class="line">  -p, --parents     no error if existing, make parent directories as needed</span><br><span class="line">  -v, --verbose     print a message for each created directory</span><br><span class="line">  -Z                   set SELinux security context of each created directory</span><br><span class="line">                         to the default type</span><br><span class="line">      --context[=CTX]  like -Z, or if CTX is specified then set the SELinux</span><br><span class="line">                         or SMACK security context to CTX</span><br><span class="line">      --help            显示此帮助信息并退出</span><br><span class="line">      --version         显示版本信息并退出</span><br><span class="line"></span><br><span class="line">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告mkdir 的翻译错误</span><br><span class="line">要获取完整文档，请运行：info coreutils &#x27;mkdir invocation&#x27;</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos tat_agent]# help umask</span><br><span class="line">umask: umask [-p] [-S] [模式]</span><br><span class="line">    显示或设定文件模式掩码。</span><br><span class="line">    </span><br><span class="line">    设定用户文件创建掩码为 MODE 模式。如果省略了 MODE，则</span><br><span class="line">    打印当前掩码的值。</span><br><span class="line">    </span><br><span class="line">    如果MODE 模式以数字开头，则被当作八进制数解析；否则是一个</span><br><span class="line">    chmod(1) 可接收的符号模式串。</span><br><span class="line">    </span><br><span class="line">    选项：</span><br><span class="line">      -p        如果省略 MDOE 模式，以可重用为输入的格式输入</span><br><span class="line">      -S        以符号形式输出，否则以八进制数格式输出</span><br><span class="line">    </span><br><span class="line">    退出状态：</span><br><span class="line">    返回成功，除非使用了无效的 MODE 模式或者选项。</span><br></pre></td></tr></table></figure><h2 id="info"><a href="#info" class="headerlink" title="info"></a>info</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">与man作用类似</span></span><br><span class="line">[root@VM-0-9-centos tat_agent]# info touch</span><br><span class="line">File: coreutils.info,  Node: touch invocation,  Prev: chmod invocation,  Up: Changing file attri\</span><br><span class="line">butes</span><br><span class="line"></span><br><span class="line">13.4 &#x27;touch&#x27;: Change file timestamps</span><br><span class="line">====================================</span><br><span class="line"></span><br><span class="line">&#x27;touch&#x27; changes the access and/or modification times of the specified</span><br><span class="line">files.  Synopsis:</span><br><span class="line"></span><br><span class="line">     touch [OPTION]... FILE...</span><br><span class="line"></span><br><span class="line">   Any FILE argument that does not exist is created empty, unless option</span><br><span class="line">&#x27;--no-create&#x27; (&#x27;-c&#x27;) or &#x27;--no-dereference&#x27; (&#x27;-h&#x27;) was in effect.</span><br><span class="line"></span><br><span class="line">   A FILE argument string of &#x27;-&#x27; is handled specially and causes &#x27;touch&#x27;</span><br><span class="line">to change the times of the file associated with standard output.</span><br><span class="line"></span><br><span class="line">--zz-Info: (coreutils.info.gz)touch invocation, 153 lines --Top----------------------------------</span><br><span class="line">Welcome to Info version 5.1. Type h for help, m for menu item.</span><br></pre></td></tr></table></figure><h2 id="who"><a href="#who" class="headerlink" title="who"></a>who</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询已登录的用户</span></span><br><span class="line">[root@VM-0-9-centos tat_agent]# who</span><br><span class="line">root     pts/0        2021-12-21 19:55 (123.147.250.90)</span><br><span class="line">root     pts/1        2021-12-21 19:55 (123.147.250.90)</span><br></pre></td></tr></table></figure><h2 id="w"><a href="#w" class="headerlink" title="w"></a>w</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询已登录的用户,更详细信息</span></span><br><span class="line">[root@VM-0-9-centos tat_agent]# w</span><br><span class="line"> 21:39:16 up 1 day, 21:26,  2 users,  load average: 1.06, 0.49, 0.37</span><br><span class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">root     pts/0    123.147.250.90   19:55    4.00s  0.08s  0.00s w</span><br><span class="line">root     pts/1    123.147.250.90   19:55    1:43m  5.05s  5.03s top</span><br></pre></td></tr></table></figure><h2 id="uptime"><a href="#uptime" class="headerlink" title="uptime"></a>uptime</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看虚拟机已运行时间</span></span><br><span class="line">[root@VM-0-9-centos tat_agent]# uptime</span><br><span class="line"> 21:40:23 up 1 day, 21:27,  2 users,  load average: 0.83, 0.53, 0.39</span><br></pre></td></tr></table></figure><h1 id="压缩命令"><a href="#压缩命令" class="headerlink" title="压缩命令"></a>压缩命令</h1><h1 id="网络命令"><a href="#网络命令" class="headerlink" title="网络命令"></a>网络命令</h1><h2 id="write"><a href="#write" class="headerlink" title="write"></a>write</h2><ul><li>只能向在线用户发送信息</li><li>Ctrl+D 发送</li><li>Ctrl+Back 删除</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# w</span><br><span class="line"> 20:01:00 up 2 days, 19:48,  4 users,  load average: 0.68, 0.37, 0.27</span><br><span class="line">USER     TTY      FROM             LOGIN@   IDLE   JCPU   PCPU WHAT</span><br><span class="line">root     pts/0    123.147.248.159  19:40    4.00s  0.05s  0.00s w</span><br><span class="line">root     pts/1    123.147.248.159  19:40   20:44   1.08s  1.06s top</span><br><span class="line">tiam     pts/3    123.147.248.159  19:58   20.00s  0.02s  0.02s -bash</span><br><span class="line">tiam     pts/4    123.147.248.159  19:58    2:23   0.15s  0.13s top</span><br><span class="line">[root@VM-0-9-centos ~]# write tiam</span><br><span class="line">write: tiam is logged in more than once; writing to pts/3</span><br><span class="line">Hello I very miss you everyday</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[tiam@VM-0-9-centos ~]$ </span><br><span class="line">Message from root@VM-0-9-centos on pts/0 at 20:01 ...</span><br><span class="line">Hello I very miss you everyday</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">[tiam@VM-0-9-centos ~]$ </span><br></pre></td></tr></table></figure><h2 id="wall"><a href="#wall" class="headerlink" title="wall"></a>wall</h2><blockquote><p>write all  : 广播,向所有人发送信息,包括自己</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# wall Hello world</span><br><span class="line">[root@VM-0-9-centos ~]# </span><br><span class="line">Broadcast message from root@VM-0-9-centos (pts/0) (Wed Dec 22 20:07:25 2021):</span><br><span class="line"></span><br><span class="line">Hello world</span><br><span class="line"></span><br><span class="line">[root@VM-0-9-centos ~]# </span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[tiam@VM-0-9-centos ~]$ </span><br><span class="line">Broadcast message from root@VM-0-9-centos (pts/0) (Wed Dec 22 20:07:25 2021):</span><br><span class="line"></span><br><span class="line">Hello world</span><br></pre></td></tr></table></figure><h2 id="ping"><a href="#ping" class="headerlink" title="ping"></a>ping</h2><blockquote><p>与win区别</p></blockquote><ul><li>window默认4次</li><li>Lniux默认一直循环,Ctrl+C停止.</li><li>-c 参数指定ping次数</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# ping yujing.fit</span><br><span class="line">PING yujing.fit (47.101.172.219) 56(84) bytes of data.</span><br><span class="line">64 bytes from 47.101.172.219 (47.101.172.219): icmp_seq=1 ttl=47 time=40.7 ms</span><br><span class="line">64 bytes from 47.101.172.219 (47.101.172.219): icmp_seq=2 ttl=47 time=40.5 ms</span><br><span class="line">64 bytes from 47.101.172.219 (47.101.172.219): icmp_seq=3 ttl=47 time=40.5 ms</span><br><span class="line">64 bytes from 47.101.172.219 (47.101.172.219): icmp_seq=4 ttl=47 time=40.5 ms</span><br><span class="line">^C</span><br><span class="line">--- yujing.fit ping statistics ---</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> 0% packet loss ,丢包率,越低代表网络越好.</span></span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 3004ms</span><br><span class="line">rtt min/avg/max/mdev = 40.575/40.633/40.795/0.170 ms</span><br></pre></td></tr></table></figure><h2 id="ifconfig"><a href="#ifconfig" class="headerlink" title="ifconfig"></a>ifconfig</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# ifconfig</span><br><span class="line">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">inet 10.0.0.9  本机IP</span></span><br><span class="line">        inet 10.0.0.9  netmask 255.255.252.0  broadcast 10.0.3.255</span><br><span class="line">        inet6 fe80::5054:ff:fe45:78e1  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 52:54:00:45:78:e1  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 1329566  bytes 134952293 (128.7 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 1397171  bytes 275412158 (262.6 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 2071  bytes 3220475 (3.0 MiB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 2071  bytes 3220475 (3.0 MiB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">[root@VM-0-9-centos ~]# </span><br></pre></td></tr></table></figure><h2 id="mail"><a href="#mail" class="headerlink" title="mail"></a>mail</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">给root发送邮件,不需要在线,不需要联网</span></span><br><span class="line">[root@VM-0-9-centos ~]# mail root</span><br><span class="line">Subject: test</span><br><span class="line">Hello Nice to meet you</span><br><span class="line">EOT</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看本机收到的邮件</span></span><br><span class="line">[root@VM-0-9-centos ~]# mail</span><br><span class="line">Heirloom Mail version 12.5 7/5/10.  Type ? for help.</span><br><span class="line">&quot;/var/spool/mail/root&quot;: 1 message 1 new</span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">N  1 root                  Wed Dec 22 20:15  18/645   <span class="string">&quot;test&quot;</span></span></span><br><span class="line">&amp;       ^H^H^[^CInterrupt</span><br><span class="line">&amp; Held 1 message in /var/spool/mail/root</span><br></pre></td></tr></table></figure><h2 id="last"><a href="#last" class="headerlink" title="last*"></a>last*</h2><blockquote><p>查询登录/重启相关信息</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# last</span><br><span class="line">tiam     pts/4        123.147.248.159  Wed Dec 22 19:58   still logged in   </span><br><span class="line">tiam     pts/3        123.147.248.159  Wed Dec 22 19:58   still logged in   </span><br><span class="line">lighthou pts/2        119.28.22.215    Wed Dec 22 19:55 - 19:59  (00:03)    </span><br><span class="line">lighthou pts/2        119.29.96.147    Wed Dec 22 19:55 - 19:55  (00:00)    </span><br><span class="line">lighthou pts/2        119.28.22.215    Wed Dec 22 19:52 - 19:55  (00:02)    </span><br><span class="line">root     pts/1        123.147.248.159  Wed Dec 22 19:40   still logged in   </span><br><span class="line">root     pts/0        123.147.248.159  Wed Dec 22 19:40   still logged in   </span><br><span class="line">root     pts/1        123.147.250.90   Tue Dec 21 19:55 - 21:51  (01:56)    </span><br><span class="line">root     pts/0        123.147.250.90   Tue Dec 21 19:55 - 21:51  (01:56)    </span><br><span class="line">root     pts/1        171.83.3.200     Mon Dec 20 15:55 - 16:24  (00:29)    </span><br><span class="line">root     pts/0        171.83.3.200     Mon Dec 20 15:55 - 16:24  (00:29)    </span><br><span class="line">root     pts/1        171.113.50.247   Mon Dec 20 13:42 - 14:21  (00:39)    </span><br><span class="line">root     pts/0        171.113.50.247   Mon Dec 20 13:42 - 14:21  (00:39)    </span><br><span class="line">reboot   system boot  3.10.0-1160.31.1 Mon Dec 20 00:12 - 20:18 (2+20:05)   </span><br><span class="line">root     pts/1        123.147.246.223  Mon Dec 20 00:11 - down   (00:00)    </span><br><span class="line">root     pts/0        123.147.246.223  Mon Dec 20 00:11 - down   (00:00)    </span><br><span class="line">root     pts/1        123.147.246.223  Mon Dec 20 00:10 - 00:11  (00:01)    </span><br><span class="line">root     pts/0        123.147.246.223  Mon Dec 20 00:10 - 00:11  (00:01)    </span><br><span class="line">root     pts/1        123.147.246.223  Sun Dec 19 22:43 - 00:10  (01:26)    </span><br><span class="line">root     pts/0        123.147.246.223  Sun Dec 19 22:43 - 00:10  (01:27)    </span><br><span class="line">root     pts/1        123.147.246.223  Sun Dec 19 17:26 - 18:55  (01:29)    </span><br><span class="line">root     pts/0        123.147.246.223  Sun Dec 19 17:26 - 18:55  (01:29)    </span><br><span class="line">root     pts/1        27.18.87.180     Mon Dec 13 10:38 - 10:38  (00:00)    </span><br><span class="line">root     pts/0        27.18.87.180     Mon Dec 13 10:38 - 10:38  (00:00)    </span><br><span class="line">root     pts/1        171.113.48.33    Wed Dec  8 16:56 - 18:07  (01:11)    </span><br><span class="line">root     pts/0        171.113.48.33    Wed Dec  8 16:56 - 18:07  (01:11)    </span><br><span class="line">root     pts/4        171.113.48.33    Wed Dec  8 14:30 - 16:17  (01:47)    </span><br><span class="line">root     pts/3        171.113.48.33    Wed Dec  8 14:29 - 16:17  (01:47)    </span><br><span class="line">root     pts/4        171.113.50.55    Wed Dec  8 10:16 - 12:21  (02:04)    </span><br><span class="line">root     pts/3        171.113.50.55    Wed Dec  8 10:16 - 12:21  (02:04)    </span><br><span class="line">root     pts/1        171.113.50.55    Wed Dec  8 10:13 - 14:44  (04:31)    </span><br><span class="line">root     pts/0        171.113.50.55    Wed Dec  8 10:13 - 14:44  (04:31)    </span><br><span class="line">root     pts/4        171.113.49.225   Tue Dec  7 15:38 - 17:06  (01:27)    </span><br><span class="line">root     pts/3        171.113.49.225   Tue Dec  7 15:38 - 17:06  (01:27)    </span><br><span class="line">root     pts/1        171.113.49.225   Tue Dec  7 15:02 - 17:06  (02:04)    </span><br><span class="line">root     pts/0        171.113.49.225   Tue Dec  7 15:02 - 17:06  (02:04)    </span><br><span class="line">root     pts/4        171.113.47.171   Tue Dec  7 14:13 - 15:17  (01:03)    </span><br><span class="line">root     pts/3        171.113.47.171   Tue Dec  7 14:13 - 15:17  (01:03)    </span><br><span class="line">root     pts/1        171.113.47.171   Tue Dec  7 12:53 - 14:16  (01:23)    </span><br><span class="line">root     pts/0        171.113.47.171   Tue Dec  7 12:53 - 14:16  (01:23)    </span><br><span class="line">root     pts/3        127.0.0.1        Tue Dec  7 10:58 - 10:59  (00:00)    </span><br><span class="line">root     pts/3        127.0.0.1        Tue Dec  7 10:58 - 10:58  (00:00)    </span><br><span class="line">root     pts/3        127.0.0.1        Tue Dec  7 10:56 - 10:58  (00:01)    </span><br><span class="line">root     pts/2        127.0.0.1        Tue Dec  7 10:56 - down  (12+13:15)  </span><br><span class="line">root     pts/1        171.113.47.219   Tue Dec  7 10:52 - 12:21  (01:28)    </span><br><span class="line">root     pts/0        171.113.47.219   Tue Dec  7 10:52 - 12:21  (01:28)    </span><br><span class="line">reboot   system boot  3.10.0-1160.31.1 Tue Dec  7 10:52 - 00:12 (12+13:19)  </span><br><span class="line">lighthou pts/0        119.29.96.147    Tue Dec  7 10:41 - 10:41  (00:00)    </span><br><span class="line">lighthou pts/0        111.230.154.177  Tue Dec  7 10:41 - 10:41  (00:00)    </span><br><span class="line">lighthou pts/0        119.28.22.215    Tue Dec  7 10:31 - 10:41  (00:09)    </span><br><span class="line">lighthou pts/0        119.28.22.215    Tue Dec  7 10:22 - 10:31  (00:09)    </span><br><span class="line">lighthou pts/0        119.28.22.215    Tue Dec  7 10:18 - 10:18  (00:00)    </span><br><span class="line">lighthou pts/0        119.29.96.147    Fri Nov 12 09:31 - 09:34  (00:02)    </span><br><span class="line">lighthou pts/0        119.29.96.147    Sat Oct 23 02:48 - 03:00  (00:11)    </span><br><span class="line">reboot   system boot  3.10.0-1160.31.1 Sat Oct 23 02:40 - 10:43 (45+08:02)  </span><br><span class="line"></span><br><span class="line">wtmp begins Sat Oct 23 02:40:48 2021</span><br><span class="line">您在 /var/spool/mail/root 中有邮件</span><br><span class="line">[root@VM-0-9-centos ~]# </span><br></pre></td></tr></table></figure><h2 id="lastlog"><a href="#lastlog" class="headerlink" title="lastlog"></a>lastlog</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# lastlog</span><br><span class="line">用户名           端口     来自             最后登陆时间</span><br><span class="line">root             pts/0                     三 12月 22 19:54:26 +0800 2021</span><br><span class="line">bin                                        **从未登录过**</span><br><span class="line">daemon                                     **从未登录过**</span><br><span class="line">adm                                        **从未登录过**</span><br><span class="line">lp                                         **从未登录过**</span><br><span class="line">sync                                       **从未登录过**</span><br><span class="line">shutdown                                   **从未登录过**</span><br><span class="line">halt                                       **从未登录过**</span><br><span class="line">mail                                       **从未登录过**</span><br><span class="line">operator                                   **从未登录过**</span><br><span class="line">games                                      **从未登录过**</span><br><span class="line">ftp                                        **从未登录过**</span><br><span class="line">nobody                                     **从未登录过**</span><br><span class="line">systemd-network                            **从未登录过**</span><br><span class="line">dbus                                       **从未登录过**</span><br><span class="line">polkitd                                    **从未登录过**</span><br><span class="line">libstoragemgmt                             **从未登录过**</span><br><span class="line">rpc                                        **从未登录过**</span><br><span class="line">ntp                                        **从未登录过**</span><br><span class="line">abrt                                       **从未登录过**</span><br><span class="line">sshd                                       **从未登录过**</span><br><span class="line">postfix                                    **从未登录过**</span><br><span class="line">chrony                                     **从未登录过**</span><br><span class="line">tcpdump                                    **从未登录过**</span><br><span class="line">syslog                                     **从未登录过**</span><br><span class="line">lighthouse       pts/2    119.28.22.215    三 12月 22 19:55:56 +0800 2021</span><br><span class="line">www                                        **从未登录过**</span><br><span class="line">mysql                                      **从未登录过**</span><br><span class="line">springboot                                 **从未登录过**</span><br><span class="line">redis                                      **从未登录过**</span><br><span class="line">tiam             pts/4    123.147.248.159  三 12月 22 19:58:37 +0800 2021</span><br></pre></td></tr></table></figure><h2 id="traceroute"><a href="#traceroute" class="headerlink" title="traceroute*"></a>traceroute*</h2><blockquote><p>查看网络访问节点流程</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# traceroute yujing.fit</span><br><span class="line">traceroute to yujing.fit (47.101.172.219), 30 hops max, 60 byte packets</span><br><span class="line"> 1  11.52.80.19 (11.52.80.19)  0.973 ms 11.52.80.5 (11.52.80.5)  1.107 ms 11.52.80.14 (11.52.80.14)  1.243 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  144.48.89.34 (144.48.89.34)  34.858 ms * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  * * 140.205.50.234 (140.205.50.234)  41.176 ms</span><br><span class="line"> 8  * * *</span><br><span class="line"> 9  * * *</span><br><span class="line">10  140.205.50.254 (140.205.50.254)  39.694 ms * *</span><br><span class="line">11  * * *</span><br><span class="line">12  * * *</span><br><span class="line">13  * * *</span><br><span class="line">14  * * *</span><br><span class="line">15  * * *</span><br><span class="line">16  * * *</span><br><span class="line">17  * * *</span><br><span class="line">18  * * *</span><br><span class="line">19  * * *</span><br><span class="line">20  * * *</span><br><span class="line">21  * * *</span><br><span class="line">22  * * *</span><br><span class="line">23  * * *</span><br><span class="line">24  * * *</span><br><span class="line">25  * * *</span><br><span class="line">26  * * *</span><br><span class="line">27  * * *</span><br><span class="line">28  * * *</span><br><span class="line">29  * * *</span><br><span class="line">30  * * *</span><br><span class="line">[root@VM-0-9-centos ~]# </span><br></pre></td></tr></table></figure><h2 id="netstate"><a href="#netstate" class="headerlink" title="netstate"></a>netstate</h2><ul><li>TCP 更安全</li><li>UDP 更快</li></ul><blockquote><p>参数</p></blockquote><ul><li><code>-t</code> TCP协议</li><li><code>-u</code> UDP协议</li><li><code>-l</code> 监听</li><li><code>-r</code> 路由</li><li><code>-n</code> 显示IP地址和端口号</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# netstat</span><br><span class="line">Active Internet connections (w/o servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State      </span><br><span class="line">tcp        0      0 VM-0-9-centos:60248     169.254.0.138:d-s-n     ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:nimhub    169.254.0.55:webcache   TIME_WAIT  </span><br><span class="line">tcp        0      0 VM-0-9-centos:ddi-tcp-1 141.101.196.233:15172   ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ddi-tcp-1 141.101.196.233:21854   ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ddi-tcp-1 188.166.40.32:46742     ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ddi-tcp-1 internettl.org:43106    ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:51398     169.254.0.55:lsi-bobcat ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ssh       123.147.248.159:13437   ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ssh       123.147.248.159:13453   ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ssh       123.147.248.159:13454   ESTABLISHED</span><br><span class="line">tcp        0      0 VM-0-9-centos:ddi-tcp-1 188.166.40.32:47992     ESTABLISHED</span><br><span class="line">tcp        0    156 VM-0-9-centos:ssh       123.147.248.159:13436   ESTABLISHED</span><br><span class="line">Active UNIX domain sockets (w/o servers)</span><br><span class="line">Proto RefCnt Flags       Type       State         I-Node   Path</span><br><span class="line">unix  3      [ ]         DGRAM                    7470     /run/systemd/notify</span><br><span class="line">unix  2      [ ]         DGRAM                    7472     /run/systemd/cgroups-agent</span><br><span class="line">unix  5      [ ]         DGRAM                    7493     /run/systemd/journal/socket</span><br><span class="line">unix  21     [ ]         DGRAM                    7495     /dev/log</span><br><span class="line">unix  2      [ ]         DGRAM                    10897    /run/systemd/shutdownd</span><br><span class="line">unix  2      [ ]         DGRAM                    23513    /usr/local/qcloud/YunJing/conf/ydrpc_3</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13521    </span><br><span class="line">unix  3      [ ]         DGRAM                    12018    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19869    </span><br><span class="line">unix  2      [ ]         DGRAM                    5231865  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19839    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     17310    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     12002    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19814    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     12798    </span><br><span class="line">unix  2      [ ]         DGRAM                    5307327  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19873    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19836    </span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     22880    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13573    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     12799    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     5306934  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19861    </span><br><span class="line">unix  2      [ ]         DGRAM                    19748    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19847    </span><br><span class="line">unix  2      [ ]         DGRAM                    17654    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     18549    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     18546    </span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     22703    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13122    /run/dbus/system_bus_socket</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     5307330  </span><br><span class="line">unix  2      [ ]         DGRAM                    5110433  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19857    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     11995    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19833    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     18548    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19852    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19823    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19870    </span><br><span class="line">unix  2      [ ]         DGRAM                    13838    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19838    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19827    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     15237    /run/systemd/journal/stdout</span><br><span class="line">unix  2      [ ]         DGRAM                    13097    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19835    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19801    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13962    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19815    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13434    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     18642    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13120    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19842    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19818    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     17177    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19864    </span><br><span class="line">unix  2      [ ]         DGRAM                    4663809  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13963    /run/dbus/system_bus_socket</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19811    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13522    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19776    /run/dbus/system_bus_socket</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13041    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19829    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     18643    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19860    </span><br><span class="line">unix  2      [ ]         DGRAM                    11501    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19807    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13572    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     11747    </span><br><span class="line">unix  2      [ ]         DGRAM                    23737    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19832    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     15345    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19851    </span><br><span class="line">unix  2      [ ]         DGRAM                    5160077  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19867    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     5306935  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19841    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19826    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19804    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     15236    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     17178    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19810    </span><br><span class="line">unix  2      [ ]         DGRAM                    13674    </span><br><span class="line">unix  2      [ ]         DGRAM                    5273014  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19863    </span><br><span class="line">unix  2      [ ]         DGRAM                    14837    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13121    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19845    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13681    </span><br><span class="line">unix  2      [ ]         DGRAM                    12789    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     5307331  </span><br><span class="line">unix  2      [ ]         DGRAM                    19924    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     17452    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13042    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13340    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19808    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13682    /run/dbus/system_bus_socket</span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     22699    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     12996    </span><br><span class="line">unix  2      [ ]         DGRAM                    5306931  </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19855    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19803    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19800    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     15344    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19821    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     17309    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19866    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19872    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13783    /run/dbus/system_bus_socket</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13433    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19844    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19824    </span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     22882    </span><br><span class="line">unix  2      [ ]         DGRAM                    17357    </span><br><span class="line">unix  2      [ ]         DGRAM                    5159762  </span><br><span class="line">unix  3      [ ]         DGRAM                    12019    </span><br><span class="line">unix  2      [ ]         DGRAM                    14011    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     17453    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19848    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19817    </span><br><span class="line">unix  2      [ ]         DGRAM                    17916    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13339    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19858    </span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     22701    </span><br><span class="line">unix  2      [ ]         DGRAM                    555589   </span><br><span class="line">unix  2      [ ]         DGRAM                    13747    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     11748    /run/systemd/journal/stdout</span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19830    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19775    </span><br><span class="line">unix  2      [ ]         STREAM     CONNECTED     29225    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19820    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     19854    </span><br><span class="line">unix  2      [ ]         DGRAM                    11997    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     18547    </span><br><span class="line">unix  3      [ ]         STREAM     CONNECTED     13782    </span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看使用UDP协议占用端口,只能查看监听</span></span><br><span class="line">[root@VM-0-9-centos ~]# netstat -tlun</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State      </span><br><span class="line">tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 0.0.0.0:888             0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 127.0.0.1:6379          0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 0.0.0.0:80              0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 0.0.0.0:21              0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN     </span><br><span class="line">tcp6       0      0 ::1:25                  :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::7777                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::3333                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::3306                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::6187                 :::*                    LISTEN     </span><br><span class="line">tcp6       0      0 :::21                   :::*                    LISTEN     </span><br><span class="line">udp        0      0 10.0.0.9:123            0.0.0.0:*                          </span><br><span class="line">udp        0      0 127.0.0.1:123           0.0.0.0:*                          </span><br><span class="line">udp        0      0 0.0.0.0:68              0.0.0.0:*                          </span><br><span class="line">udp6       0      0 fe80::5054:ff:fe45::123 :::*                               </span><br><span class="line">udp6       0      0 ::1:123                 :::*          </span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看所有.</span></span><br><span class="line">[root@VM-0-9-centos ~]# netstat -an</span><br><span class="line">Active Internet connections (servers and established)</span><br><span class="line">Proto Recv-Q Send-Q Local Address           Foreign Address         State      </span><br><span class="line">tcp        0      0 0.0.0.0:8888            0.0.0.0:*               LISTEN     </span><br><span class="line">tcp        0      0 0.0.0.0:888             0.0.0.0:*               LISTEN     </span><br><span class="line">..................</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看网关</span></span><br><span class="line">[root@VM-0-9-centos ~]# netstat -rn</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags   MSS Window  irtt Iface</span><br><span class="line">0.0.0.0         10.0.0.1        0.0.0.0         UG        0 0          0 eth0</span><br><span class="line">10.0.0.0        0.0.0.0         255.255.252.0   U         0 0          0 eth0</span><br><span class="line">169.254.0.0     0.0.0.0         255.255.0.0     U         0 0          0 eth0</span><br></pre></td></tr></table></figure><h2 id="setup"><a href="#setup" class="headerlink" title="setup"></a>setup</h2><blockquote><p>配置网络</p></blockquote><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222203517181.png" alt="image-20211222203517181"></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222203551156.png" alt="image-20211222203551156"></p><blockquote><p>​    </p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# service network restart</span><br><span class="line">Restarting network (via systemctl):                        [  OK  ]</span><br></pre></td></tr></table></figure><h2 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h2><blockquote><p>挂载命令,分配盘符等</p></blockquote><p>通常在 /mnt/cdrom 目录挂载</p><h1 id="关机重启命令"><a href="#关机重启命令" class="headerlink" title="关机重启命令"></a>关机重启命令</h1><h2 id="shutdown"><a href="#shutdown" class="headerlink" title="shutdown"></a>shutdown</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">立刻关机</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">shutdown -h now</span>  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">重启</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">shutdown -r</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">取消前一个关机命令</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">shutdown -c</span> </span><br></pre></td></tr></table></figure><blockquote><p>其他关机命令</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">halt</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">poweroff</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">init 0</span></span><br></pre></td></tr></table></figure><blockquote><p>其他重启命令</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">reboot</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">init 6</span></span><br></pre></td></tr></table></figure><blockquote><p>系统运行级别</p></blockquote><ul><li>0 关机</li><li>1 单用户(只有root用户可使用)</li><li>2 不完全多用户(不含NFS服务)network file system,文件共享服务,具有安全隐患,不建议使用</li><li>3 完全多用户</li><li>4 未分配</li><li>5 图形界面</li><li>6 重启</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看init配置文件</span></span><br><span class="line">[tiam@VM-0-9-centos ~]$ cat /etc/inittab</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">inittab is no longer used when using systemd.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># ADDING CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># Ctrl-Alt-Delete is handled by /usr/lib/systemd/system/ctrl-alt-del.target</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># systemd uses &#x27;targets&#x27; instead of runlevels. By default, there are two main targets:</span></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># multi-user.target: analogous to runlevel 3</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">graphical.target: analogous to runlevel 5</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># To view current default target, run:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">systemctl get-default</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># To set a default target, run:</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">systemctl set-default TARGET.target</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash">[tiam@VM-0-9-centos ~]$</span> </span><br></pre></td></tr></table></figure><h2 id="runlevel"><a href="#runlevel" class="headerlink" title="runlevel"></a>runlevel</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看当前运行级别,以及上一次的运行级别 N,表示null</span></span><br><span class="line">[root@VM-0-9-centos ~]# runlevel</span><br><span class="line">N 3</span><br><span class="line">[root@VM-0-9-centos ~]# init 5</span><br><span class="line">[root@VM-0-9-centos ~]# runlevel</span><br><span class="line">3 5</span><br><span class="line">[root@VM-0-9-centos ~]#</span><br></pre></td></tr></table></figure><h2 id="top"><a href="#top" class="headerlink" title="top"></a>top</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">top - 21:09:34 up 2 days, 20:57,  4 users,  load average: 0.61, 0.66, 0.53</span><br><span class="line">Tasks: 132 total,   1 running, 130 sleeping,   0 stopped,   1 zombie</span><br><span class="line"><span class="meta prompt_">%</span><span class="language-bash">Cpu(s):  7.1 us,  8.1 sy,  0.0 ni, 84.8 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span></span><br><span class="line">KiB Mem :  1882000 total,    82760 free,   972728 used,   826512 buff/cache</span><br><span class="line">KiB Swap:  1049596 total,  1035772 free,    13824 used.   729876 avail Mem </span><br><span class="line"></span><br><span class="line">  PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND                       </span><br><span class="line"> 1317 www       20   0 2523448 145808   9508 S  5.0  7.7  56:15.28 jsvc                          </span><br><span class="line"> 2740 root      20   0  959012  37192  14680 S  0.7  2.0  21:32.14 YDService                     </span><br><span class="line"> 2692 root      20   0  158572   9164   1776 S  0.3  0.5   2:06.41 barad_agent                   </span><br><span class="line"> 2693 root      20   0  609404  11524   2032 S  0.3  0.6  10:24.99 barad_agent                   </span><br><span class="line"> 3166 tiam      20   0  157128   2880   1184 S  0.3  0.2   0:11.85 sshd                          </span><br><span class="line"> 3445 tiam      20   0  160720   3024   1564 S  0.3  0.2   0:03.96 top                           </span><br><span class="line"> 9681 root      20   0  157228   5916   4192 S  0.3  0.3   0:16.23 sshd                          </span><br><span class="line">    1 root      20   0   51912   3844   2468 S  0.0  0.2   0:34.17 systemd                       </span><br><span class="line">    2 root      20   0       0      0      0 S  0.0  0.0   0:00.06 kthreadd                      </span><br><span class="line">    4 root       0 -20       0      0      0 S  0.0  0.0   0:00.00 kworker/0:0H                  </span><br><span class="line">    6 root      20   0       0      0      0 S  0.0  0.0   0:09.21 ksoftirqd/0                   </span><br><span class="line">    7 root      rt   0       0      0      0 S  0.0  0.0   0:00.00 migration/0</span><br></pre></td></tr></table></figure><h1 id="Vim文本编辑器"><a href="#Vim文本编辑器" class="headerlink" title="Vim文本编辑器"></a>Vim文本编辑器</h1><h2 id="更多"><a href="#更多" class="headerlink" title="更多"></a>更多</h2><p><a href="https://www.runoob.com/linux/linux-vim.html">菜鸟教程</a></p><p><a href="https://www.vim.org/docs.php">官方文档</a></p><p><img src="http://qiniu.yujing.fit/typora_img/vi-vim-cheat-sheet-sch.gif" alt="img"></p><blockquote><p>Vim没有菜单,只有命令</p></blockquote><ul><li>命令模式</li><li>插入模式  输入<code>a</code>或 <code>i</code>或<code>o</code></li><li>编辑模式</li></ul><h2 id="vi-vim-的使用"><a href="#vi-vim-的使用" class="headerlink" title="vi/vim 的使用"></a>vi/vim 的使用</h2><p>基本上 vi/vim 共分为三种模式，分别是<strong>命令模式（Command mode）</strong>，<strong>输入模式（Insert mode）</strong>和<strong>底线命令模式（Last line mode）</strong>。 这三种模式的作用分别是：</p><h3 id="命令模式："><a href="#命令模式：" class="headerlink" title="命令模式："></a>命令模式：</h3><p>用户刚刚启动 vi/vim，便进入了命令模式。</p><p>此状态下敲击键盘动作会被Vim识别为命令，而非输入字符。比如我们此时按下i，并不会输入一个字符，i被当作了一个命令。</p><p>以下是常用的几个命令：</p><ul><li><strong>i</strong> 切换到输入模式，以输入字符。</li><li><strong>x</strong> 删除当前光标所在处的字符。</li><li><strong>:</strong> 切换到底线命令模式，以在最底一行输入命令。</li></ul><p>若想要编辑文本：启动Vim，进入了命令模式，按下i，切换到输入模式。</p><p>命令模式只有一些最基本的命令，因此仍要依靠底线命令模式输入更多命令。</p><h3 id="输入模式"><a href="#输入模式" class="headerlink" title="输入模式"></a>输入模式</h3><p>在命令模式下按下i就进入了输入模式。</p><p>在输入模式中，可以使用以下按键：</p><ul><li><strong>字符按键以及Shift组合</strong>，输入字符</li><li><strong>ENTER</strong>，回车键，换行</li><li><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</li><li><strong>DEL</strong>，删除键，删除光标后一个字符</li><li><strong>方向键</strong>，在文本中移动光标</li><li><strong>HOME</strong>/<strong>END</strong>，移动光标到行首/行尾</li><li><strong>Page Up</strong>/<strong>Page Down</strong>，上/下翻页</li><li><strong>Insert</strong>，切换光标为输入/替换模式，光标将变成竖线/下划线</li><li><strong>ESC</strong>，退出输入模式，切换到命令模式</li></ul><h3 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h3><p>在命令模式下按下:（英文冒号）就进入了底线命令模式。</p><p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p><p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p><ul><li>q 退出程序</li><li>w 保存文件</li></ul><p>按ESC键可随时退出底线命令模式。</p><p>简单的说，我们可以将这三个模式想成底下的图标来表示：</p><p><img src="https://www.runoob.com/wp-content/uploads/2014/07/vim-vi-workmodel.png" alt="img"></p><h2 id=""><a href="#" class="headerlink" title=""></a></h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">help.txt        For Vim version 7.4.  Last change: 2012 Dec 06</span><br><span class="line"></span><br><span class="line">                        VIM - main help file</span><br><span class="line">                                                                         k</span><br><span class="line">      Move around:  Use the cursor keys, or &quot;h&quot; to go left,            h   l</span><br><span class="line">                    &quot;j&quot; to go down, &quot;k&quot; to go up, &quot;l&quot; to go right.       j</span><br><span class="line">Close this window:  Use &quot;:q&lt;Enter&gt;&quot;.</span><br><span class="line">   Get out of Vim:  Use &quot;:qa!&lt;Enter&gt;&quot; (careful, all changes are lost!).</span><br><span class="line"></span><br><span class="line">Jump to a subject:  Position the cursor on a tag (e.g. bars) and hit CTRL-].</span><br><span class="line">   With the mouse:  &quot;:set mouse=a&quot; to enable the mouse (in xterm or GUI).</span><br><span class="line">                    Double-click the left mouse button on a tag, e.g. bars.</span><br><span class="line">        Jump back:  Type CTRL-T or CTRL-O (repeat to go further back).</span><br><span class="line"></span><br><span class="line">Get specific help:  It is possible to go directly to whatever you want help</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示行号</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">:<span class="built_in">set</span> nu</span></span><br></pre></td></tr></table></figure><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222212124909.png" alt="image-20211222212124909"></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222212149195.png" alt="image-20211222212149195"></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222212707820.png" alt="image-20211222212707820"></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222212915996.png" alt="image-20211222212915996"></p><h2 id="使用技巧"><a href="#使用技巧" class="headerlink" title="使用技巧"></a>使用技巧</h2><p>将 date命令返回的结果,写入文件中.</p><p><img src="http://qiniu.yujing.fit/typora_img/image-20211222214756084.png" alt="image-20211222214756084"></p><h1 id="npm包管理"><a href="#npm包管理" class="headerlink" title="npm包管理"></a>npm包管理</h1><ul><li>包全名 – 未安装的软件包,使用包全名,且要注意路径</li><li>包名  – /var/lib/rpm/中的数据库 , 已安装的软件包</li></ul><h2 id="rpm-ivh"><a href="#rpm-ivh" class="headerlink" title="rpm -ivh"></a>rpm -ivh</h2><blockquote><p>$ rpm -ivh 全包名   #rpm包安装</p></blockquote><ul><li><code>-i</code> 安装 install</li><li><code>-v</code> 显示详细信息  verbose</li><li><code>-h</code> 显示进度  hash</li><li><code>-nodeps</code> 不检测依赖性</li></ul><h2 id="rpm-Uvh"><a href="#rpm-Uvh" class="headerlink" title="rpm -Uvh"></a>rpm -Uvh</h2><blockquote><p>$ rpm -Uvh  包名    #rpm包升级</p></blockquote><ul><li><code>-U</code> Update</li></ul><h2 id="rpm-e"><a href="#rpm-e" class="headerlink" title="rpm -e"></a>rpm -e</h2><blockquote><p>$ rpm -e 包名     # 卸载包</p></blockquote><ul><li><code>-e</code> 卸载 erase</li><li><code>--nodeps</code> 不检测依赖性</li></ul><h2 id="rpm-q"><a href="#rpm-q" class="headerlink" title="rpm -q*"></a>rpm -q*</h2><blockquote><p>$ rpm -q 包名  # 查询是否安装</p></blockquote><ul><li><code>-q</code> 查询 query</li><li><code>-a</code> 查看全部已安装的包 all</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# rpm -q yum</span><br><span class="line">未安装软件包 yum </span><br><span class="line">[root@VM-0-9-centos ~]# rpm -qa</span><br><span class="line">ustr-1.0.4-16.el7.x86_64</span><br><span class="line">libselinux-devel-2.5-15.el7.x86_64</span><br><span class="line">libdaemon-0.14-7.el7.x86_64</span><br><span class="line">libXft-2.3.2-2.el7.x86_64</span><br><span class="line">python-2.7.5-90.el7.x86_64</span><br><span class="line">keyutils-libs-devel-1.5.8-3.el7.x86_64</span><br><span class="line">ncurses-5.9-14.20130511.el7_4.x86_64</span><br><span class="line">iptables-1.4.21-35.el7.x86_64</span><br><span class="line">tk-devel-8.5.13-6.el7.x86_64</span><br><span class="line">hostname-3.13-3.el7_7.1.x86_64</span><br><span class="line">satyr-0.13-15.el7.x86_64</span><br><span class="line">libdb4-devel-4.8.30-13.el7.x86_64</span><br><span class="line">info-5.1-5.el7.x86_64</span><br><span class="line">......</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查出所有带有python关键字的软件包</span></span><br><span class="line">[root@VM-0-9-centos ~]# rpm -qa | grep python</span><br><span class="line">python-2.7.5-90.el7.x86_64</span><br><span class="line">abrt-python-2.1.11-60.el7.centos.x86_64</span><br><span class="line">python-slip-dbus-0.4.0-4.el7.noarch</span><br><span class="line">newt-python-0.52.15-4.el7.x86_64</span><br><span class="line">python-iniparse-0.4-9.el7.noarch</span><br><span class="line">python-configobj-4.7.2-7.el7.noarch</span><br><span class="line">python-jinja2-2.7.2-4.el7.noarch</span><br><span class="line">python-ipaddress-1.0.16-2.el7.noarch</span><br><span class="line">.......</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询已安装相关信息.</span></span><br><span class="line">[root@VM-0-9-centos ~]# rpm -qi python</span><br><span class="line">Name        : python</span><br><span class="line">Version     : 2.7.5</span><br><span class="line">Release     : 90.el7</span><br><span class="line">Architecture: x86_64</span><br><span class="line">Install Date: 2021年01月19日 星期二 18时23分40秒</span><br><span class="line">Group       : Development/Languages</span><br><span class="line">Size        : 80835</span><br><span class="line">License     : Python</span><br><span class="line">Signature   : RSA/SHA256, 2020年11月18日 星期三 22时19分50秒, Key ID 24c6a8a7f4a80eb5</span><br><span class="line">Source RPM  : python-2.7.5-90.el7.src.rpm</span><br><span class="line">Build Date  : 2020年11月17日 星期二 06时47分32秒</span><br><span class="line">Build Host  : x86-01.bsys.centos.org</span><br><span class="line">Relocations : (not relocatable)</span><br><span class="line">Packager    : CentOS BuildSystem &lt;http://bugs.centos.org&gt;</span><br><span class="line">Vendor      : CentOS</span><br><span class="line">URL         : http://www.python.org/</span><br><span class="line">Summary     : An interpreted, interactive, object-oriented programming language</span><br><span class="line">Description :</span><br><span class="line">Python is an interpreted, interactive, object-oriented programming</span><br><span class="line">language often compared to Tcl, Perl, Scheme or Java. Python includes</span><br><span class="line">modules, classes, exceptions, very high level dynamic data types and</span><br><span class="line">dynamic typing. Python supports interfaces to many system calls and</span><br><span class="line">libraries, as well as to various windowing systems (X11, Motif, Tk,</span><br><span class="line">Mac and MFC).</span><br><span class="line"></span><br><span class="line">Programmers can write new built-in modules for Python in C or C++.</span><br><span class="line">Python can be used as an extension language for applications that need</span><br><span class="line">a programmable interface.</span><br><span class="line"></span><br><span class="line">Note that documentation for Python is provided in the python-docs</span><br><span class="line">package.</span><br><span class="line"></span><br><span class="line">This package provides the &quot;python&quot; executable; most of the actual</span><br><span class="line">implementation is within the &quot;python-libs&quot; package.</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p 查询未安装软件包信息</span></span><br><span class="line">[root@VM-0-9-centos ~]# rpm -qip yum-cron-3.4.3-168.el7.centos.noarch.rpm</span><br><span class="line">Name        : yum-cron</span><br><span class="line">Version     : 3.4.3</span><br><span class="line">Release     : 168.el7.centos</span><br><span class="line">Architecture: noarch</span><br><span class="line">Install Date: (not installed)</span><br><span class="line">Group       : System Environment/Base</span><br><span class="line">Size        : 52190</span><br><span class="line">License     : GPLv2+</span><br><span class="line">Signature   : RSA/SHA256, 2020年10月15日 星期四 03时21分12秒, Key ID 24c6a8a7f4a80eb5</span><br><span class="line">Source RPM  : yum-3.4.3-168.el7.centos.src.rpm</span><br><span class="line">Build Date  : 2020年10月02日 星期五 01时03分49秒</span><br><span class="line">Build Host  : x86-02.bsys.centos.org</span><br><span class="line">Relocations : (not relocatable)</span><br><span class="line">Packager    : CentOS BuildSystem &lt;http://bugs.centos.org&gt;</span><br><span class="line">Vendor      : CentOS</span><br><span class="line">URL         : http://yum.baseurl.org/</span><br><span class="line">Summary     : Files needed to run yum updates as a cron job</span><br><span class="line">Description :</span><br><span class="line">These are the files needed to run yum updates as a cron job.</span><br><span class="line">Install this package if you want auto yum updates nightly via cron.</span><br></pre></td></tr></table></figure><h2 id="rpm-ql"><a href="#rpm-ql" class="headerlink" title="rpm -ql"></a>rpm -ql</h2><ul><li><code>-l</code>  列表 list</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询已安装软件包的位置</span></span><br><span class="line">[root@VM-0-9-centos ~]# rpm -ql python</span><br><span class="line">/usr/bin/pydoc</span><br><span class="line">/usr/bin/python</span><br><span class="line">/usr/bin/python2</span><br><span class="line">/usr/bin/python2.7</span><br><span class="line">/usr/libexec/platform-python</span><br><span class="line">/usr/share/doc/python-2.7.5</span><br><span class="line">/usr/share/doc/python-2.7.5/LICENSE</span><br><span class="line">/usr/share/doc/python-2.7.5/README</span><br><span class="line">/usr/share/man/man1/python.1.gz</span><br><span class="line">/usr/share/man/man1/python2.1.gz</span><br><span class="line">/usr/share/man/man1/python2.7.1.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p 查询未安装的软件包,默认安装位置.</span></span><br><span class="line">[root@VM-0-9-centos ~]# rpm -qlp yum-cron-3.4.3-168.el7.centos.noarch.rpm</span><br><span class="line">/etc/cron.daily/0yum-daily.cron</span><br><span class="line">/etc/cron.hourly/0yum-hourly.cron</span><br><span class="line">/etc/yum/yum-cron-hourly.conf</span><br><span class="line">/etc/yum/yum-cron.conf</span><br><span class="line">/usr/lib/systemd/system/yum-cron.service</span><br><span class="line">/usr/sbin/yum-cron</span><br><span class="line">/usr/share/doc/yum-cron-3.4.3</span><br><span class="line">/usr/share/doc/yum-cron-3.4.3/COPYING</span><br><span class="line">/usr/share/man/man8/yum-cron.8</span><br></pre></td></tr></table></figure><h2 id="rpm-qf"><a href="#rpm-qf" class="headerlink" title="rpm -qf"></a>rpm -qf</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]#  rpm -ql python</span><br><span class="line">/usr/bin/pydoc</span><br><span class="line">/usr/bin/python</span><br><span class="line">/usr/bin/python2</span><br><span class="line">/usr/bin/python2.7</span><br><span class="line">/usr/libexec/platform-python</span><br><span class="line">/usr/share/doc/python-2.7.5</span><br><span class="line">/usr/share/doc/python-2.7.5/LICENSE</span><br><span class="line">/usr/share/doc/python-2.7.5/README</span><br><span class="line">/usr/share/man/man1/python.1.gz</span><br><span class="line">/usr/share/man/man1/python2.1.gz</span><br><span class="line">/usr/share/man/man1/python2.7.1.gz</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">反向查询 <span class="string">&#x27;系统文件&#x27;</span> 属于哪一个软件包下.</span></span><br><span class="line">[root@VM-0-9-centos ~]# rpm -qf /usr/share/man/man1/python2.7.1.gz</span><br><span class="line">python-2.7.5-90.el7.x86_64</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos rpm]# rpm</span><br><span class="line">RPM 版本 4.11.3</span><br><span class="line">版权所有 (C) 1998-2002 - 红帽公司。</span><br><span class="line">该程序可以在 GNU GPL 条款下自由分发</span><br><span class="line"></span><br><span class="line">用法: rpm [-aKfgpqVcdLilsiv?] [-a|--all] [-f|--file] [-g|--group] [-p|--package] [--pkgid] [--hdrid]</span><br><span class="line">        [--triggeredby] [--whatrequires] [--whatprovides] [--nomanifest] [-c|--configfiles]</span><br><span class="line">        [-d|--docfiles] [-L|--licensefiles] [--dump] [-l|--list] [--queryformat=QUERYFORMAT]</span><br><span class="line">        [-s|--state] [--nofiledigest] [--nofiles] [--nodeps] [--noscript] [--allfiles]</span><br><span class="line">        [--allmatches] [--badreloc] [-e|--erase &lt;package&gt;+] [--excludedocs] [--excludepath=&lt;path&gt;]</span><br><span class="line">        [--force] [-F|--freshen &lt;packagefile&gt;+] [-h|--hash] [--ignorearch] [--ignoreos]</span><br><span class="line">        [--ignoresize] [-i|--install] [--justdb] [--nodeps] [--nofiledigest] [--nocontexts]</span><br><span class="line">        [--noorder] [--noscripts] [--notriggers] [--nocollections] [--oldpackage] [--percent]</span><br><span class="line">        [--prefix=&lt;dir&gt;] [--relocate=&lt;old&gt;=&lt;new&gt;] [--replacefiles] [--replacepkgs] [--test]</span><br><span class="line">        [-U|--upgrade &lt;packagefile&gt;+] [--reinstall=&lt;packagefile&gt;+] [-D|--define “MACRO EXPR”]</span><br><span class="line">        [--undefine=MACRO] [-E|--eval “EXPR”] [--macros=&lt;FILE:…&gt;] [--noplugins] [--nodigest]</span><br><span class="line">        [--nosignature] [--rcfile=&lt;FILE:…&gt;] [-r|--root ROOT] [--dbpath=DIRECTORY] [--querytags]</span><br><span class="line">        [--showrc] [--quiet] [-v|--verbose] [--version] [-?|--help] [--usage] [--scripts]</span><br><span class="line">        [--setperms] [--setugids] [--setcaps] [--restore] [--conflicts] [--obsoletes]</span><br><span class="line">        [--provides] [--requires] [--info] [--changelog] [--xml] [--triggers] [--last] [--dupes]</span><br><span class="line">        [--filesbypkg] [--fileclass] [--filecolor] [--fscontext] [--fileprovide] [--filerequire]</span><br><span class="line">        [--filecaps]</span><br><span class="line"><span class="meta prompt_"> # </span><span class="language-bash">-p 查看未安装软件包的依赖性</span></span><br><span class="line">[root@VM-0-9-centos rpm]# rpm -qRp yum-cron-3.4.3-168.el7.centos.noarch.rpm</span><br><span class="line">错误：打开 yum-cron-3.4.3-168.el7.centos.noarch.rpm 失败： 没有那个文件或目录</span><br></pre></td></tr></table></figure><h2 id="rpm-V"><a href="#rpm-V" class="headerlink" title="rpm -V"></a>rpm -V</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看软件包是否被修改,无信息表示未被修改.</span></span><br><span class="line">[root@VM-0-9-centos rpm]# rpm -V python</span><br><span class="line">[root@VM-0-9-centos rpm]# rpm -V yum</span><br><span class="line">未安装软件包 yum </span><br><span class="line">[root@VM-0-9-centos rpm]# rpm -V httped</span><br><span class="line">未安装软件包 httped </span><br></pre></td></tr></table></figure><p><img src="http://qiniu.yujing.fit/typora_img/image-20211226133114942.png" alt="image-20211226133114942"></p><p><img src="http://qiniu.yujing.fit/typora_img/image-20211226133322261.png" alt="image-20211226133322261"></p><h2 id="rpm2cpio-全包名-cpio-idv-文件绝对路径"><a href="#rpm2cpio-全包名-cpio-idv-文件绝对路径" class="headerlink" title="rpm2cpio 全包名 | \ cpio -idv .文件绝对路径"></a>rpm2cpio 全包名 | \ cpio -idv .文件绝对路径</h2><ul><li><p><code>|</code> 管道符</p></li><li><p><code>\</code> 表示换行,一行命令为输入完全</p></li><li><p><code>.</code> 表示文件</p></li></ul><blockquote><p>rpm包中文件提取  , 一般用于误删除的修复.</p></blockquote><ul><li>rpm2cpio  将rpm包转换为cpio格式的命令</li><li>cpio 标准工具,用于创建软件档案文件和冲档案中提取文件</li></ul><blockquote><p>$ cpio 选项 &lt; [文件] [设备]</p></blockquote><h1 id="yum管理"><a href="#yum管理" class="headerlink" title="yum管理"></a>yum管理</h1><p><img src="http://qiniu.yujing.fit/typora_img/image-20211226135954726.png" alt="image-20211226135954726"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">已安装yum</span> </span><br><span class="line">[root@bogon ~]# yum -v</span><br><span class="line">加载 &quot;fastestmirror&quot; 插件</span><br><span class="line">Config time: 0.030</span><br><span class="line">Yum version: 3.4.3</span><br><span class="line">您需要给出命令</span><br><span class="line">Usage: yum [options] COMMAND</span><br><span class="line"></span><br><span class="line">List of Commands:</span><br><span class="line"></span><br><span class="line">check          检查 RPM 数据库问题</span><br><span class="line">check-update   检查是否有可用的软件包更新</span><br><span class="line">clean          删除缓存数据</span><br><span class="line">deplist        列出软件包的依赖关系</span><br><span class="line">distribution-synchronization 已同步软件包到最新可用版本</span><br><span class="line">downgrade      降级软件包</span><br><span class="line">erase          从系统中移除一个或多个软件包</span><br><span class="line">fs             Acts on the filesystem data of the host, mainly for removing docs/lanuages for minimal hosts.</span><br><span class="line">fssnapshot     Creates filesystem snapshots, or lists/deletes current snapshots.</span><br><span class="line">groups         显示或使用、组信息</span><br><span class="line">help           显示用法提示</span><br><span class="line">history        显示或使用事务历史</span><br><span class="line">info           显示关于软件包或组的详细信息</span><br><span class="line">install        向系统中安装一个或多个软件包</span><br><span class="line">list           列出一个或一组软件包</span><br><span class="line">load-transaction 从文件名中加载一个已存事务</span><br><span class="line">makecache      创建元数据缓存</span><br><span class="line">provides       查找提供指定内容的软件包</span><br><span class="line">reinstall      覆盖安装软件包</span><br><span class="line">repo-pkgs      将一个源当作一个软件包组，这样我们就可以一次性安装/移除全部软件包。</span><br><span class="line">repolist       显示已配置的源</span><br><span class="line">search         在软件包详细信息中搜索指定字符串</span><br><span class="line">shell          运行交互式的 yum shell</span><br><span class="line">swap           Simple way to swap packages, instead of using shell</span><br><span class="line">update         更新系统中的一个或多个软件包</span><br><span class="line">update-minimal Works like upgrade, but goes to the &#x27;newest&#x27; package match which fixes a problem that affects your system</span><br><span class="line">updateinfo     Acts on repository update information</span><br><span class="line">upgrade        更新软件包同时考虑软件包取代关系</span><br><span class="line">version        显示机器和/或可用的源版本。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Options:</span><br><span class="line">  -h, --help            显示此帮助消息并退出</span><br><span class="line">  -t, --tolerant        忽略错误</span><br><span class="line">  -C, --cacheonly       完全从系统缓存运行，不升级缓存</span><br><span class="line">  -c [config file], --config=[config file]</span><br><span class="line">                        配置文件路径</span><br><span class="line">  -R [minutes], --randomwait=[minutes]</span><br><span class="line">                        命令最长等待时间</span><br><span class="line">  -d [debug level], --debuglevel=[debug level]</span><br><span class="line">                        调试输出级别</span><br><span class="line">  --showduplicates      在 list/search 命令下，显示源里重复的条目</span><br><span class="line">  -e [error level], --errorlevel=[error level]</span><br><span class="line">                        错误输出级别</span><br><span class="line">  --rpmverbosity=[debug level name]</span><br><span class="line">                        RPM 调试输出级别</span><br><span class="line">  -q, --quiet           静默执行</span><br><span class="line">  -v, --verbose         详尽的操作过程</span><br><span class="line">  -y, --assumeyes       回答全部问题为是</span><br><span class="line">  --assumeno            回答全部问题为否</span><br><span class="line">  --version             显示 Yum 版本然后退出</span><br><span class="line">  --installroot=[path]  设置安装根目录</span><br><span class="line">  --enablerepo=[repo]   启用一个或多个软件源(支持通配符)</span><br><span class="line">  --disablerepo=[repo]  禁用一个或多个软件源(支持通配符)</span><br><span class="line">  -x [package], --exclude=[package]</span><br><span class="line">                        采用全名或通配符排除软件包</span><br><span class="line">  --disableexcludes=[repo]</span><br><span class="line">                        禁止从主配置，从源或者从任何位置排除</span><br><span class="line">  --disableincludes=[repo]</span><br><span class="line">                        disable includepkgs for a repo or for everything</span><br><span class="line">  --obsoletes           更新时处理软件包取代关系</span><br><span class="line">  --noplugins           禁用 Yum 插件</span><br><span class="line">  --nogpgcheck          禁用 GPG 签名检查</span><br><span class="line">  --disableplugin=[plugin]</span><br><span class="line">                        禁用指定名称的插件</span><br><span class="line">  --enableplugin=[plugin]</span><br><span class="line">                        启用指定名称的插件</span><br><span class="line">  --skip-broken         忽略存在依赖关系问题的软件包</span><br><span class="line">  --color=COLOR         配置是否使用颜色</span><br><span class="line">  --releasever=RELEASEVER</span><br><span class="line">                        在 yum 配置和 repo 文件里设置 $releasever 的值</span><br><span class="line">  --downloadonly        仅下载而不更新</span><br><span class="line">  --downloaddir=DLDIR   指定一个其他文件夹用于保存软件包</span><br><span class="line">  --setopt=SETOPTS      设置任意配置和源选项</span><br><span class="line">  --bugfix              Include bugfix relevant packages, in updates</span><br><span class="line">  --security            Include security relevant packages, in updates</span><br><span class="line">  --advisory=ADVS, --advisories=ADVS</span><br><span class="line">                        Include packages needed to fix the given advisory, in</span><br><span class="line">                        updates</span><br><span class="line">  --bzs=BZS             Include packages needed to fix the given BZ, in</span><br><span class="line">                        updates</span><br><span class="line">  --cves=CVES           Include packages needed to fix the given CVE, in</span><br><span class="line">                        updates</span><br><span class="line">  --sec-severity=SEVS, --secseverity=SEVS</span><br><span class="line">                        Include security relevant packages matching the</span><br><span class="line">                        severity, in updates</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">未安装</span></span><br><span class="line">[root@VM-0-9-centos ~]# yum -v</span><br><span class="line">-bash: yum: 未找到命令</span><br></pre></td></tr></table></figure><blockquote><p>IP地址配置与yum源配置</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看配置文件</span></span><br><span class="line">[root@bogon ~]# cat /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">CentOS-Base.repo</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># The mirror system uses the connecting IP address of the client and the</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">update status of each mirror to pick mirrors that are updated to and</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">geographically close to the client.  You should use this <span class="keyword">for</span> CentOS updates</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">unless you are manually picking other mirrors.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment"># If the mirrorlist= does not work for you, as a fall back you can try the</span></span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">remarked out baseurl= line instead.</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"><span class="comment">#</span></span></span><br><span class="line"></span><br><span class="line">[base]  # 容器名</span><br><span class="line">name=CentOS-$releasever - Base</span><br><span class="line">mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=os&amp;infra=$infra</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">baseurl=http://mirror.centos.org/centos/<span class="variable">$releasever</span>/os/<span class="variable">$basearch</span>/</span></span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">released updates</span> </span><br><span class="line">[updates]</span><br><span class="line">name=CentOS-$releasever - Updates</span><br><span class="line">mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=updates&amp;infra=$infra</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">baseurl=http://mirror.centos.org/centos/<span class="variable">$releasever</span>/updates/<span class="variable">$basearch</span>/</span></span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">additional packages that may be useful</span></span><br><span class="line">[extras]</span><br><span class="line">name=CentOS-$releasever - Extras</span><br><span class="line">mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=extras&amp;infra=$infra</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">baseurl=http://mirror.centos.org/centos/<span class="variable">$releasever</span>/extras/<span class="variable">$basearch</span>/</span></span><br><span class="line">gpgcheck=1</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">additional packages that extend functionality of existing packages</span></span><br><span class="line">[centosplus]</span><br><span class="line">name=CentOS-$releasever - Plus</span><br><span class="line">mirrorlist=http://mirrorlist.centos.org/?release=$releasever&amp;arch=$basearch&amp;repo=centosplus&amp;infra=$infra</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">baseurl=http://mirror.centos.org/centos/<span class="variable">$releasever</span>/centosplus/<span class="variable">$basearch</span>/</span></span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=0</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-7</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="yum-list"><a href="#yum-list" class="headerlink" title="yum list"></a>yum list</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查询yum源可安装的软件包列表</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">yum list</span> </span><br><span class="line">alsa-plugins-maemo.x86_64                                1.1.6-1.el7                           base     </span><br><span class="line">alsa-plugins-oss.i686                                    1.1.6-1.el7                           base     </span><br><span class="line">alsa-plugins-oss.x86_64                                  1.1.6-1.el7                           base     </span><br><span class="line">alsa-plugins-pulseaudio.i686                             1.1.6-1.el7                           base     </span><br><span class="line">alsa-plugins-pulseaudio.x86_64                           1.1.6-1.el7                           base     </span><br><span class="line">alsa-plugins-samplerate.i686                             1.1.6-1.el7                           base     </span><br><span class="line">alsa-plugins-samplerate.x86_64                           1.1.6-1.el7                           base     </span><br><span class="line">.......</span><br></pre></td></tr></table></figure><h2 id="yum-search"><a href="#yum-search" class="headerlink" title="yum search"></a>yum search</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">搜索软件包</span></span><br><span class="line">[root@bogon ~]# yum search gcc</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Repodata is over 2 weeks old. Install yum-cron? Or run: yum makecache fast</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.bupt.edu.cn</span><br><span class="line"> * extras: mirrors.bupt.edu.cn</span><br><span class="line"> * updates: mirrors.neusoft.edu.cn</span><br><span class="line">=========================================== N/S matched: gcc ===========================================</span><br><span class="line">gcc-c++.x86_64 : C++ support for GCC</span><br><span class="line">gcc-gnat.x86_64 : Ada 95 support for GCC</span><br><span class="line">gcc-objc.x86_64 : Objective-C support for GCC</span><br><span class="line">gcc-objc++.x86_64 : Objective-C++ support for GCC</span><br><span class="line">gcc-plugin-devel.x86_64 : Support for compiling GCC plugins</span><br><span class="line">libgcc.i686 : GCC version 4.8 shared support library</span><br><span class="line">libgcc.x86_64 : GCC version 4.8 shared support library</span><br><span class="line">relaxngcc-javadoc.noarch : Javadoc for relaxngcc</span><br><span class="line">compat-gcc-44.x86_64 : Compatibility GNU Compiler Collection</span><br><span class="line">compat-gcc-44-c++.x86_64 : C++ support for compatibility compiler</span><br><span class="line">compat-gcc-44-gfortran.x86_64 : Fortran support for compatibility compiler</span><br><span class="line">gcc.x86_64 : Various compilers (C, C++, Objective-C, Java, ...)</span><br><span class="line">gcc-gfortran.x86_64 : Fortran support</span><br><span class="line">gcc-go.x86_64 : Go support</span><br><span class="line">libgomp.i686 : GCC OpenMP v3.0 shared support library</span><br><span class="line">libgomp.x86_64 : GCC OpenMP v3.0 shared support library</span><br><span class="line">libmudflap.i686 : GCC mudflap shared support library</span><br><span class="line">libmudflap.x86_64 : GCC mudflap shared support library</span><br><span class="line">libmudflap-devel.i686 : GCC mudflap support</span><br><span class="line">libmudflap-devel.x86_64 : GCC mudflap support</span><br><span class="line">libquadmath.i686 : GCC __float128 shared support library</span><br><span class="line">libquadmath.x86_64 : GCC __float128 shared support library</span><br><span class="line">libquadmath-devel.i686 : GCC __float128 support</span><br><span class="line">libquadmath-devel.x86_64 : GCC __float128 support</span><br><span class="line">relaxngcc.noarch : RELAX NG Compiler Compiler</span><br><span class="line"></span><br><span class="line">  名称和简介匹配 only，使用“search all”试试。</span><br></pre></td></tr></table></figure><h2 id="yum-install"><a href="#yum-install" class="headerlink" title="yum install"></a>yum install</h2><ul><li><code>-y</code> 自动回答yes</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装c语言编译器gcc</span></span><br><span class="line">[root@bogon ~]# yum -y install gcc</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.bupt.edu.cn</span><br><span class="line"> * extras: mirrors.bupt.edu.cn</span><br><span class="line"> * updates: mirrors.neusoft.edu.cn</span><br><span class="line">base                                                                             | 3.6 kB  00:00:00     </span><br><span class="line">extras                                                                           | 2.9 kB  00:00:00     </span><br><span class="line">updates                                                                          | 2.9 kB  00:00:00     </span><br><span class="line">updates/7/x86_64/primary_db                                                      |  13 MB  00:00:19     </span><br><span class="line">正在解决依赖关系</span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在检查事务</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 gcc.x86_64.0.4.8.5-44.el7 将被 安装</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 cpp = 4.8.5-44.el7，它被软件包 gcc-4.8.5-44.el7.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 glibc-devel &gt;= 2.2.90-12，它被软件包 gcc-4.8.5-44.el7.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 libmpfr.so.4()(64bit)，它被软件包 gcc-4.8.5-44.el7.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 libmpc.so.3()(64bit)，它被软件包 gcc-4.8.5-44.el7.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在检查事务</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 cpp.x86_64.0.4.8.5-44.el7 将被 安装</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 glibc-devel.x86_64.0.2.17-325.el7_9 将被 安装</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 glibc-headers = 2.17-325.el7_9，它被软件包 glibc-devel-2.17-325.el7_9.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 glibc = 2.17-325.el7_9，它被软件包 glibc-devel-2.17-325.el7_9.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 glibc-headers，它被软件包 glibc-devel-2.17-325.el7_9.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 libmpc.x86_64.0.1.0.1-3.el7 将被 安装</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 mpfr.x86_64.0.3.1.1-4.el7 将被 安装</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在检查事务</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 glibc.x86_64.0.2.17-317.el7 将被 升级</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 glibc = 2.17-317.el7，它被软件包 glibc-common-2.17-317.el7.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 glibc.x86_64.0.2.17-325.el7_9 将被 更新</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 glibc-headers.x86_64.0.2.17-325.el7_9 将被 安装</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 kernel-headers &gt;= 2.2.1，它被软件包 glibc-headers-2.17-325.el7_9.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在处理依赖关系 kernel-headers，它被软件包 glibc-headers-2.17-325.el7_9.x86_64 需要</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">正在检查事务</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 glibc-common.x86_64.0.2.17-317.el7 将被 升级</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 glibc-common.x86_64.0.2.17-325.el7_9 将被 更新</span></span><br><span class="line"><span class="meta prompt_">---&gt; </span><span class="language-bash">软件包 kernel-headers.x86_64.0.3.10.0-1160.49.1.el7 将被 安装</span></span><br><span class="line"><span class="meta prompt_">--&gt; </span><span class="language-bash">解决依赖关系完成</span></span><br><span class="line"></span><br><span class="line">依赖关系解决</span><br><span class="line"></span><br><span class="line">========================================================================================================</span><br><span class="line"> Package                   架构              版本                              源                  大小</span><br><span class="line">========================================================================================================</span><br><span class="line">正在安装:</span><br><span class="line"> gcc                       x86_64            4.8.5-44.el7                      base                16 M</span><br><span class="line">为依赖而安装:</span><br><span class="line"> cpp                       x86_64            4.8.5-44.el7                      base               5.9 M</span><br><span class="line"> glibc-devel               x86_64            2.17-325.el7_9                    updates            1.1 M</span><br><span class="line"> glibc-headers             x86_64            2.17-325.el7_9                    updates            691 k</span><br><span class="line"> kernel-headers            x86_64            3.10.0-1160.49.1.el7              updates            9.0 M</span><br><span class="line"> libmpc                    x86_64            1.0.1-3.el7                       base                51 k</span><br><span class="line"> mpfr                      x86_64            3.1.1-4.el7                       base               203 k</span><br><span class="line">为依赖而更新:</span><br><span class="line"> glibc                     x86_64            2.17-325.el7_9                    updates            3.6 M</span><br><span class="line"> glibc-common              x86_64            2.17-325.el7_9                    updates             12 M</span><br><span class="line"></span><br><span class="line">事务概要</span><br><span class="line">========================================================================================================</span><br><span class="line">安装  1 软件包 (+6 依赖软件包)</span><br><span class="line">升级           ( 2 依赖软件包)</span><br><span class="line"></span><br><span class="line">总下载量：48 M</span><br><span class="line">Downloading packages:</span><br><span class="line">Delta RPMs disabled because /usr/bin/applydeltarpm not installed.</span><br><span class="line">(1/9): glibc-devel-2.17-325.el7_9.x86_64.rpm                                     | 1.1 MB  00:00:01     </span><br><span class="line">(2/9): glibc-headers-2.17-325.el7_9.x86_64.rpm                                   | 691 kB  00:00:00     </span><br><span class="line">(3/9): kernel-headers-3.10.0-1160.49.1.el7.x86_64.rpm                            | 9.0 MB  00:00:04     </span><br><span class="line">(4/9): libmpc-1.0.1-3.el7.x86_64.rpm                                             |  51 kB  00:00:00     </span><br><span class="line">(5/9): mpfr-3.1.1-4.el7.x86_64.rpm                                               | 203 kB  00:00:00     </span><br><span class="line">(6/9): glibc-2.17-325.el7_9.x86_64.rpm                                           | 3.6 MB  00:00:18     </span><br><span class="line">(7/9): cpp-4.8.5-44.el7.x86_64.rpm                                               | 5.9 MB  00:00:23     </span><br><span class="line">(8/9): glibc-common-2.17-325.el7_9.x86_64.rpm                                    |  12 MB  00:00:26     </span><br><span class="line">(9/9): gcc-4.8.5-44.el7.x86_64.rpm                                               |  16 MB  00:00:28     </span><br><span class="line">--------------------------------------------------------------------------------------------------------</span><br><span class="line">总计                                                                    1.7 MB/s |  48 MB  00:00:28     </span><br><span class="line">Running transaction check</span><br><span class="line">Running transaction test</span><br><span class="line">Transaction test succeeded</span><br><span class="line">Running transaction</span><br><span class="line">  正在更新    : glibc-2.17-325.el7_9.x86_64                                                        1/11 </span><br><span class="line">  正在更新    : glibc-common-2.17-325.el7_9.x86_64                                                 2/11 </span><br><span class="line">  正在安装    : mpfr-3.1.1-4.el7.x86_64                                                            3/11 </span><br><span class="line">  正在安装    : libmpc-1.0.1-3.el7.x86_64                                                          4/11 </span><br><span class="line">  正在安装    : cpp-4.8.5-44.el7.x86_64                                                            5/11 </span><br><span class="line">  正在安装    : kernel-headers-3.10.0-1160.49.1.el7.x86_64                                         6/11 </span><br><span class="line">  正在安装    : glibc-headers-2.17-325.el7_9.x86_64                                                7/11 </span><br><span class="line">  正在安装    : glibc-devel-2.17-325.el7_9.x86_64                                                  8/11 </span><br><span class="line">  正在安装    : gcc-4.8.5-44.el7.x86_64                                                            9/11 </span><br><span class="line">  清理        : glibc-2.17-317.el7.x86_64                                                         10/11 </span><br><span class="line">  清理        : glibc-common-2.17-317.el7.x86_64                                                  11/11 </span><br><span class="line">  验证中      : mpfr-3.1.1-4.el7.x86_64                                                            1/11 </span><br><span class="line">  验证中      : glibc-devel-2.17-325.el7_9.x86_64                                                  2/11 </span><br><span class="line">  验证中      : gcc-4.8.5-44.el7.x86_64                                                            3/11 </span><br><span class="line">  验证中      : glibc-headers-2.17-325.el7_9.x86_64                                                4/11 </span><br><span class="line">  验证中      : kernel-headers-3.10.0-1160.49.1.el7.x86_64                                         5/11 </span><br><span class="line">  验证中      : libmpc-1.0.1-3.el7.x86_64                                                          6/11 </span><br><span class="line">  验证中      : glibc-common-2.17-325.el7_9.x86_64                                                 7/11 </span><br><span class="line">  验证中      : glibc-2.17-325.el7_9.x86_64                                                        8/11 </span><br><span class="line">  验证中      : cpp-4.8.5-44.el7.x86_64                                                            9/11 </span><br><span class="line">  验证中      : glibc-2.17-317.el7.x86_64                                                         10/11 </span><br><span class="line">  验证中      : glibc-common-2.17-317.el7.x86_64                                                  11/11 </span><br><span class="line"></span><br><span class="line">已安装:</span><br><span class="line">  gcc.x86_64 0:4.8.5-44.el7                                                                             </span><br><span class="line"></span><br><span class="line">作为依赖被安装:</span><br><span class="line">  cpp.x86_64 0:4.8.5-44.el7                       glibc-devel.x86_64 0:2.17-325.el7_9                   </span><br><span class="line">  glibc-headers.x86_64 0:2.17-325.el7_9           kernel-headers.x86_64 0:3.10.0-1160.49.1.el7          </span><br><span class="line">  libmpc.x86_64 0:1.0.1-3.el7                     mpfr.x86_64 0:3.1.1-4.el7                             </span><br><span class="line"></span><br><span class="line">作为依赖被升级:</span><br><span class="line">  glibc.x86_64 0:2.17-325.el7_9                   glibc-common.x86_64 0:2.17-325.el7_9                  </span><br><span class="line"></span><br><span class="line">完毕！</span><br></pre></td></tr></table></figure><h2 id="yum-y-update"><a href="#yum-y-update" class="headerlink" title="yum -y update"></a>yum -y update</h2><blockquote><p>升级包名</p></blockquote><ul><li>==注意!== yum update 如果后不加包名,默认升级全部软件,包括Linux内核,可能会导致远程服务器无法正常运行.</li><li>==慎用==</li></ul><h2 id="yum-y-remove"><a href="#yum-y-remove" class="headerlink" title="yum -y remove"></a>yum -y remove</h2><ul><li><p>==注意== yum remove 卸载软件将会自动卸载所依赖的所有软件!!!</p></li><li><p>==慎用==</p></li></ul><h2 id="yum-grouplist"><a href="#yum-grouplist" class="headerlink" title="yum grouplist"></a>yum grouplist</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">显示所有可用的软件包组</span></span><br><span class="line">[root@bogon ~]# yum grouplist</span><br><span class="line">已加载插件：fastestmirror</span><br><span class="line">没有安装组信息文件</span><br><span class="line">Maybe run: yum groups mark convert (see man yum)</span><br><span class="line">Loading mirror speeds from cached hostfile</span><br><span class="line"> * base: mirrors.bupt.edu.cn</span><br><span class="line"> * extras: mirrors.bupt.edu.cn</span><br><span class="line"> * updates: mirrors.neusoft.edu.cn</span><br><span class="line">可用的环境分组：</span><br><span class="line">   最小安装</span><br><span class="line">   基础设施服务器</span><br><span class="line">   计算节点</span><br><span class="line">   文件及打印服务器</span><br><span class="line">   基本网页服务器</span><br><span class="line">   虚拟化主机</span><br><span class="line">   带 GUI 的服务器</span><br><span class="line">   GNOME 桌面</span><br><span class="line">   KDE Plasma Workspaces</span><br><span class="line">   开发及生成工作站</span><br><span class="line">可用组：</span><br><span class="line">   传统 UNIX 兼容性</span><br><span class="line">   兼容性程序库</span><br><span class="line">   图形管理工具</span><br><span class="line">   安全性工具</span><br><span class="line">   开发工具</span><br><span class="line">   控制台互联网工具</span><br><span class="line">   智能卡支持</span><br><span class="line">   科学记数法支持</span><br><span class="line">   系统管理</span><br><span class="line">   系统管理工具</span><br><span class="line">完成</span><br></pre></td></tr></table></figure><h2 id="以本地光盘作为yum源"><a href="#以本地光盘作为yum源" class="headerlink" title="以本地光盘作为yum源"></a>以本地光盘作为yum源</h2><p>……</p><h2 id="RPM包默认安装位置"><a href="#RPM包默认安装位置" class="headerlink" title="RPM包默认安装位置"></a>RPM包默认安装位置</h2><p><img src="http://qiniu.yujing.fit/typora_img/image-20211226183626980.png" alt="image-20211226183626980"></p><blockquote><p>服务管理命令  <code>service 服务名 start</code>  启动服务</p></blockquote><ul><li>在默认安装位置寻找服务</li></ul><blockquote><p>源码安装</p></blockquote><ul><li>源代码保存位置 /usr/local/src/</li><li>软件安装位置 /usr/local/</li><li>安装报错条件:  二者缺一不可</li><li><ul><li> 安装停止</li><li> 出现error , no 等提示</li></ul></li></ul><p><code>make</code> 编译</p><p><code>make install</code> 编译安装</p><p>源码包卸载: 直接删除源码包安装所在目录即可</p><blockquote><p>脚本安装</p></blockquote><p>…</p><h1 id="用户-组-管理"><a href="#用户-组-管理" class="headerlink" title="用户(组)管理"></a>用户(组)管理</h1><p><strong>Shell 是Linux默认命令解释器.</strong></p><ul><li>用户信息文件 /etc/passwd</li><li>影子文件 /etc/shadow</li><li>组信息文件 /etc/group </li><li>组密码文件 /etc/gshadow</li></ul><blockquote><p>字段说明</p></blockquote><p><code>root:x:0:0:root:/root:/bin/bash</code></p><ol><li>用户名</li><li>密码标识<code>x</code> 标示存在密码</li><li>数字标识UID</li></ol><blockquote><p><code>0</code> 超级用户</p><p><code>1~499</code> 系统用户(伪用户),不能登录,不能删除.</p><p><code>500~65535</code> 普通用户</p></blockquote><ol start="4"><li>用户初始组ID  –GID</li><li>用户说明(备注)</li><li>家目录–初始登录位置</li></ol><blockquote><p>普通用户: /home/用户名</p><p>超级用户: /root</p></blockquote><ol start="7"><li>shell默认命令解释器 /bin/bash</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用户配置文件信息</span></span><br><span class="line">[root@bogon ~]# cat /etc/passwd</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">用户名:密码标志:数字标识:</span></span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin</span><br><span class="line">sync:x:5:0:sync:/sbin:/bin/sync</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">mail:x:8:12:mail:/var/spool/mail:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br><span class="line">ftp:x:14:50:FTP User:/var/ftp:/sbin/nologin</span><br><span class="line">nobody:x:99:99:Nobody:/:/sbin/nologin</span><br><span class="line">systemd-network:x:192:192:systemd Network Management:/:/sbin/nologin</span><br><span class="line">dbus:x:81:81:System message bus:/:/sbin/nologin</span><br><span class="line">polkitd:x:999:998:User for polkitd:/:/sbin/nologin</span><br><span class="line">sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin</span><br><span class="line">postfix:x:89:89::/var/spool/postfix:/sbin/nologin</span><br><span class="line">chrony:x:998:996::/var/lib/chrony:/sbin/nologin</span><br><span class="line">tiam_beta:x:1000:1000:Tiam_Beta:/home/tiam_beta:/bin/bash</span><br><span class="line">tiam:x:1001:1001::/home/tiam:/bin/bash</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看配置文件帮助</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">man passwd</span></span><br><span class="line">PASSWD(1)                                   User utilities                                  PASSWD(1)</span><br><span class="line"></span><br><span class="line">NAME</span><br><span class="line">       passwd - update user&#x27;s authentication tokens</span><br><span class="line"></span><br><span class="line">SYNOPSIS</span><br><span class="line">       passwd [-k] [-l] [-u [-f]] [-d] [-e] [-n mindays] [-x maxdays] [-w warndays] [-i inactivedays]</span><br><span class="line">       [-S] [--stdin] [username]</span><br><span class="line"></span><br><span class="line">DESCRIPTION</span><br><span class="line">       The passwd utility is used to update user&#x27;s authentication token(s).</span><br><span class="line"></span><br><span class="line">       This task is achieved through calls to the Linux-PAM and Libuser API.   Essentially,  it  ini‐</span><br><span class="line">       tializes  itself as a &quot;passwd&quot; service with Linux-PAM and utilizes configured password modules</span><br><span class="line">       to authenticate and then update a user&#x27;s password.</span><br><span class="line"></span><br><span class="line">       A simple entry in the global Linux-PAM configuration file for this service would be:</span><br><span class="line">......</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">无操作权限,密码存放地址,只有root用户可查看.</span></span><br><span class="line">[root@bogon etc]# ll /etc/shadow</span><br><span class="line">----------. 1 root root 839 12月 16 01:25 /etc/shadow</span><br><span class="line">[root@bogon etc]# ll /etc/passwd</span><br><span class="line">-rw-r--r--. 1 root root 943 12月 16 01:20 /etc/passwd</span><br></pre></td></tr></table></figure><blockquote><p>字段说明</p></blockquote><ol><li>用户名</li><li>SHA512散列加密算法  加密的密码</li></ol><p>​    <code>!</code>或<code>*</code> 则不能登录</p><pre><code> 3. 密码最后修改日期</code></pre><blockquote><p>1970年1月1日起 , 每过一天加 1</p></blockquote><ol start="4"><li>密码间隔 , 规定密码修改的时间间隔.单位天</li><li>密码生效时间, 则生效时间过后必须更改密码.</li><li>到期前警告时间.</li><li>密码到期之后的可延期时间.</li></ol><blockquote><p>0: 密码过期立即失效</p><p>-1:密码永不失效</p></blockquote><ol start="8"><li>账号失效时间 , 以时间戳表示.</li><li>保留</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon etc]# cat /etc/shadow</span><br><span class="line">root:$6$v39kajRiQ7R.ifft$KkJZJT.3M8ef6T/MB53GaCFcbNt3dsO17lkhNRhIrijOS1rKYI5x8Wkx7iBRkXpkyWQKKG6.s2.Y5fnbxiC7C/::0:99999:7:::</span><br><span class="line">bin:*:18353:0:99999:7:::</span><br><span class="line">daemon:*:18353:0:99999:7:::</span><br><span class="line">adm:*:18353:0:99999:7:::</span><br><span class="line">lp:*:18353:0:99999:7:::</span><br><span class="line">sync:*:18353:0:99999:7:::</span><br><span class="line">shutdown:*:18353:0:99999:7:::</span><br><span class="line">halt:*:18353:0:99999:7:::</span><br><span class="line">mail:*:18353:0:99999:7:::</span><br><span class="line">operator:*:18353:0:99999:7:::</span><br><span class="line">games:*:18353:0:99999:7:::</span><br><span class="line">ftp:*:18353:0:99999:7:::</span><br><span class="line">nobody:*:18353:0:99999:7:::</span><br><span class="line">systemd-network:!!:18968::::::</span><br><span class="line">dbus:!!:18968::::::</span><br><span class="line">polkitd:!!:18968::::::</span><br><span class="line">sshd:!!:18968::::::</span><br><span class="line">postfix:!!:18968::::::</span><br><span class="line">chrony:!!:18968::::::</span><br><span class="line">tiam_beta:$6$Bo705/gRY3GbW3Zo$v39G56h686s/bY0rvxlSvBHUV/nzAl40UNGlLbhgVGX1kLRsOUVKUobRlPo0gzlf9I/Jmnklyh/WGDg9HCniS/::0:99999:7:::</span><br><span class="line">tiam:$6$4UGm5os7$HK.tR.wNXG9LW.QYzbkCEqmRTHrJTzeKpAgEOqtnNfQba7qAZk55Y2jzT.lCK2cm0nq3ST.PyWB7cRNhXo/CU.:18976:0:99999:7:::</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">时间戳转换</span></span><br><span class="line">[root@bogon etc]# date -d &quot;1970-01-01 18968 days&quot;</span><br><span class="line">2021年 12月 07日 星期二 00:00:00 CST</span><br></pre></td></tr></table></figure><blockquote><p>group 组用户信息 ,字段说明</p></blockquote><ol><li>组名 默认以用户名相同</li><li>组密码标志</li><li>GID   唯一标识,索引  </li><li>组中附加用户</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon etc]# cat /etc/group</span><br><span class="line">root:x:0:</span><br><span class="line">bin:x:1:</span><br><span class="line">daemon:x:2:</span><br><span class="line">sys:x:3:</span><br><span class="line">adm:x:4:</span><br><span class="line">tty:x:5:</span><br><span class="line">disk:x:6:</span><br><span class="line">lp:x:7:</span><br><span class="line">mem:x:8:</span><br><span class="line">kmem:x:9:</span><br><span class="line">wheel:x:10:</span><br><span class="line">cdrom:x:11:</span><br><span class="line">mail:x:12:postfix</span><br><span class="line">man:x:15:</span><br><span class="line">dialout:x:18:</span><br><span class="line">floppy:x:19:</span><br><span class="line">games:x:20:</span><br><span class="line">tape:x:33:</span><br><span class="line">video:x:39:</span><br><span class="line">ftp:x:50:</span><br><span class="line">lock:x:54:</span><br><span class="line">audio:x:63:</span><br><span class="line">nobody:x:99:</span><br><span class="line">users:x:100:</span><br><span class="line">utmp:x:22:</span><br><span class="line">utempter:x:35:</span><br><span class="line">input:x:999:</span><br><span class="line">systemd-journal:x:190:</span><br><span class="line">systemd-network:x:192:</span><br><span class="line">dbus:x:81:</span><br><span class="line">polkitd:x:998:</span><br><span class="line">ssh_keys:x:997:</span><br><span class="line">sshd:x:74:</span><br><span class="line">postdrop:x:90:</span><br><span class="line">postfix:x:89:</span><br><span class="line">chrony:x:996:</span><br><span class="line">tiam_beta:x:1000:tiam_beta</span><br><span class="line">tiam:x:1001:</span><br><span class="line">softwareclass:x:1002:</span><br></pre></td></tr></table></figure><blockquote><p>字段说明</p></blockquote><ol><li>组名</li><li>组密码</li><li>组管理员用户名</li><li>组中附加用户</li></ol><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon etc]# cat /etc/gshadow</span><br><span class="line">root:::</span><br><span class="line">bin:::</span><br><span class="line">daemon:::</span><br><span class="line">sys:::</span><br><span class="line">adm:::</span><br><span class="line">tty:::</span><br><span class="line">disk:::</span><br><span class="line">lp:::</span><br><span class="line">mem:::</span><br><span class="line">kmem:::</span><br><span class="line">wheel:::</span><br><span class="line">cdrom:::</span><br><span class="line">mail:::postfix</span><br><span class="line">man:::</span><br><span class="line">dialout:::</span><br><span class="line">floppy:::</span><br><span class="line">games:::</span><br><span class="line">tape:::</span><br><span class="line">video:::</span><br><span class="line">ftp:::</span><br><span class="line">lock:::</span><br><span class="line">audio:::</span><br><span class="line">nobody:::</span><br><span class="line">users:::</span><br><span class="line">utmp:!::</span><br><span class="line">utempter:!::</span><br><span class="line">input:!::</span><br><span class="line">systemd-journal:!::</span><br><span class="line">systemd-network:!::</span><br><span class="line">dbus:!::</span><br><span class="line">polkitd:!::</span><br><span class="line">ssh_keys:!::</span><br><span class="line">sshd:!::</span><br><span class="line">postdrop:!::</span><br><span class="line">postfix:!::</span><br><span class="line">chrony:!::</span><br><span class="line">tiam_beta:!!::tiam_beta</span><br><span class="line">tiam:!::</span><br><span class="line">softwareclass:!::</span><br></pre></td></tr></table></figure><p>提示用户标识</p><blockquote><p><code>#</code> 提示为超级用户</p><p><code>$</code> 提示的为普通用户</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">用户默认邮箱位置</span></span><br><span class="line">[root@VM-0-9-centos ~]# cd /var/spool/mail</span><br><span class="line">[root@VM-0-9-centos mail]# ll</span><br><span class="line">总用量 116</span><br><span class="line">-rw-rw----  1 lighthouse mail      0 10月 23 02:40 lighthouse</span><br><span class="line">-rw-rw----  1 mysql      mail      0 10月 23 02:53 mysql</span><br><span class="line">-rw-rw----  1 redis      mail      0 11月  5 15:21 redis</span><br><span class="line">-rw-------  1 root       mail 109450 12月 26 20:01 root</span><br><span class="line">-rw-rw----. 1 rpc        mail      0 3月   7 2019 rpc</span><br><span class="line">-rw-rw----  1 springboot mail      0 10月 23 11:21 springboot</span><br><span class="line">-rw-rw----  1 tiam       mail    656 12月 22 20:33 tiam</span><br><span class="line">-rw-rw----  1 www        mail      0 10月 23 02:51 www</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">添加用户时 默认产生的文件--&gt;默认模板配置位置.</span></span><br><span class="line">[root@VM-0-9-centos mail]# cd /etc/skel</span><br></pre></td></tr></table></figure><h2 id="新年快乐"><a href="#新年快乐" class="headerlink" title="新年快乐"></a>新年快乐</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# help</span><br><span class="line">GNU bash， 版本 4.2.46(2)-release (x86_64-redhat-linux-gnu)</span><br><span class="line">这些 shell 命令是内部定义的。请输入 `help&#x27; 以获取一个列表.</span><br><span class="line">输入 `help 名称&#x27; 以得到有关函数`名称&#x27;的更多信息.</span><br><span class="line">使用 `info bash&#x27; 来获得关于 shell 的更多一般性信息</span><br><span class="line">使用 `man -k&#x27; 或 `info&#x27; 来获取不在列表中的命令的更多信息.</span><br><span class="line"></span><br><span class="line">名称旁边的星号 (*) 意味着该命令被禁用.</span><br><span class="line"></span><br><span class="line"> job_spec [&amp;]                               history [-c] [-d 偏移量] [n] 或 his&gt;</span><br><span class="line"> (( 表达式 ))                            if 命令; then 命令; [ elif 命令; &gt;</span><br><span class="line"> . 文件名 [参数]                       jobs [-lnprs] [任务声明 ...] 或 jo&gt;</span><br><span class="line"> :                                          kill [-s 信号声明 | -n 信号编号&gt;</span><br><span class="line"> [ 参数... ]                              let 参数 [参数 ...]</span><br><span class="line"> [[ 表达式 ]]                            local [option] 名称[=值] ...</span><br><span class="line"> alias [-p] [名称[=值] ... ]             logout [n]</span><br><span class="line"> bg [任务声明 ...]                      mapfile [-n 计数] [-O 起始序号] [&gt;</span><br><span class="line"> bind [-lpvsPVS] [-m 键映射] [-f 文�&gt;  popd [-n] [+N | -N]</span><br><span class="line"> break [n]                                  printf [-v var] 格式 [参数]</span><br><span class="line"> builtin [shell 内嵌 [参数 ...]]        pushd [-n] [+N | -N | 目录]</span><br><span class="line"> caller [表达式]                         pwd [-LP]</span><br><span class="line"> case 词 in [模式 [| 模式]...) 命�&gt;  read [-ers] [-a 数组] [-d 分隔符] &gt;</span><br><span class="line"> cd [-L|[-P [-e]]] [dir]                    readarray [-n 计数] [-O 起始序号]&gt;</span><br><span class="line"> command [-pVv] 命令 [参数 ...]         readonly [-aAf] [name[=value] ...] or r&gt;</span><br><span class="line"> compgen [-abcdefgjksuv] [-o 选项]  [-A&gt;  return [n]</span><br><span class="line"> complete [-abcdefgjksuv] [-pr] [-DE] [-o&gt;  select NAME [in 词语 ... ;] do 命令&gt;</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# date</span><br><span class="line">2022年 01月 02日 星期日 10:19:21 CST</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# cal</span><br><span class="line">      一月 2022     </span><br><span class="line">日 一 二 三 四 五 六</span><br><span class="line">                   1</span><br><span class="line"> 2  3  4  5  6  7  8</span><br><span class="line"> 9 10 11 12 13 14 15</span><br><span class="line">16 17 18 19 20 21 22</span><br><span class="line">23 24 25 26 27 28 29</span><br><span class="line">30 31</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# time</span><br><span class="line"></span><br><span class="line">real    0m0.000s</span><br><span class="line">user    0m0.000s</span><br><span class="line">sys     0m0.000s</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# free</span><br><span class="line">              total        used        free      shared  buff/cache   available</span><br><span class="line">Mem:        3880180      302164     3270568        4344      307448     3354928</span><br><span class="line">Swap:             0           0           0</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# df</span><br><span class="line">文件系统          1K-块    已用     可用 已用% 挂载点</span><br><span class="line">devtmpfs        1929540       0  1929540    0% /dev</span><br><span class="line">tmpfs           1940088       0  1940088    0% /dev/shm</span><br><span class="line">tmpfs           1940088     512  1939576    1% /run</span><br><span class="line">tmpfs           1940088       0  1940088    0% /sys/fs/cgroup</span><br><span class="line">/dev/vda1      41152812 7555752 31693352   20% /</span><br><span class="line">tmpfs            388020       0   388020    0% /run/user/0</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# ls</span><br><span class="line">oneinstack  ReadMe</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# file oneinstack/</span><br><span class="line">oneinstack/: directory</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# less ReadMe </span><br></pre></td></tr></table></figure><h1 id="查看命令帮助"><a href="#查看命令帮助" class="headerlink" title="查看命令帮助"></a>查看命令帮助</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# type rm</span><br><span class="line">rm 是 `rm -i&#x27; 的别名</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# which rm</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">        /usr/bin/rm</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# whatis rm</span><br><span class="line">rm (1)               - remove files or directories</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# man rm</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# info rm</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# apropos rm</span><br><span class="line">usermod (8)          - 修改一个用户账户</span><br><span class="line">hashkit_murmur (3)   - libhashkit Documentation</span><br><span class="line">memrm (1)            - libmemcached Documentation</span><br><span class="line">zip_source_stat (3)  - get information about zip_source</span><br><span class="line">zip_stat (3)         - get information about file</span><br><span class="line">zip_stat_index (3)   - get information about file</span><br><span class="line">......</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# rm --help</span><br><span class="line">用法：rm [选项]... 文件...</span><br><span class="line">Remove (unlink) the FILE(s).</span><br><span class="line"></span><br><span class="line">  -f, --force           ignore nonexistent files and arguments, never prompt</span><br><span class="line">  -i                    prompt before every removal</span><br><span class="line">  -I                    prompt once before removing more than three files, or</span><br><span class="line">                          when removing recursively; less intrusive than -i,</span><br><span class="line">                          while still giving protection against most mistakes</span><br><span class="line">      --interactive[=WHEN]  prompt according to WHEN: never, once (-I), or</span><br><span class="line">                          always (-i); without WHEN, prompt always</span><br><span class="line">      --one-file-system         递归删除一个层级时，跳过所有不符合命令行参</span><br><span class="line">                                数的文件系统上的文件</span><br><span class="line">      --no-preserve-root  do not treat &#x27;/&#x27; specially</span><br><span class="line">      --preserve-root   do not remove &#x27;/&#x27; (default)</span><br><span class="line">  -r, -R, --recursive   remove directories and their contents recursively</span><br><span class="line">  -d, --dir             remove empty directories</span><br><span class="line">  -v, --verbose         explain what is being done</span><br><span class="line">      --help            显示此帮助信息并退出</span><br><span class="line">      --version         显示版本信息并退出</span><br><span class="line"></span><br><span class="line">默认时，rm 不会删除目录。使用--recursive(-r 或-R)选项可删除每个给定</span><br><span class="line">的目录，以及其下所有的内容。</span><br><span class="line"></span><br><span class="line">To remove a file whose name starts with a &#x27;-&#x27;, for example &#x27;-foo&#x27;,</span><br><span class="line">use one of these commands:</span><br><span class="line">  rm -- -foo</span><br><span class="line"></span><br><span class="line">  rm ./-foo</span><br><span class="line"></span><br><span class="line">请注意，如果使用rm 来删除文件，通常仍可以将该文件恢复原状。如果想保证</span><br><span class="line">该文件的内容无法还原，请考虑使用shred。</span><br><span class="line"></span><br><span class="line">GNU coreutils online help: &lt;http://www.gnu.org/software/coreutils/&gt;</span><br><span class="line">请向&lt;http://translationproject.org/team/zh_CN.html&gt; 报告rm 的翻译错误</span><br><span class="line">要获取完整文档，请运行：info coreutils &#x27;rm invocation&#x27;</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# help cd</span><br><span class="line">cd: cd [-L|[-P [-e]]] [dir]</span><br><span class="line">    Change the shell working directory.</span><br><span class="line">    </span><br><span class="line">    Change the current directory to DIR.  The default DIR is the value of the</span><br><span class="line">    HOME shell variable.</span><br><span class="line">    </span><br><span class="line">    The variable CDPATH defines the search path for the directory containing</span><br><span class="line">    DIR.  Alternative directory names in CDPATH are separated by a colon (:).</span><br><span class="line">    A null directory name is the same as the current directory.  If DIR begins</span><br><span class="line">    with a slash (/), then CDPATH is not used.</span><br><span class="line">    </span><br><span class="line">    If the directory is not found, and the shell option `cdable_vars&#x27; is set,</span><br><span class="line">    the word is assumed to be  a variable name.  If that variable has a value,</span><br><span class="line">    its value is used for DIR.</span><br><span class="line">    </span><br><span class="line">    Options:</span><br><span class="line">        -L      force symbolic links to be followed</span><br><span class="line">        -P      use the physical directory structure without following symbolic</span><br><span class="line">        links</span><br><span class="line">        -e      if the -P option is supplied, and the current working directory</span><br><span class="line">        cannot be determined successfully, exit with a non-zero status</span><br><span class="line">    </span><br><span class="line">    The default is to follow symbolic links, as if `-L&#x27; were specified.</span><br><span class="line">    </span><br><span class="line">    Exit Status:</span><br><span class="line">    Returns 0 if the directory is changed, and if $PWD is set successfully when</span><br><span class="line">    -P is used; non-zero otherwise.</span><br></pre></td></tr></table></figure><h1 id="创建命令alias"><a href="#创建命令alias" class="headerlink" title="创建命令alias"></a>创建命令alias</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# alias foo=&#x27;cd /data;ll&#x27;</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z ~]# foo</span><br><span class="line">总用量 12</span><br><span class="line">drwxr-xr-x 5 mysql mysql 4096 1月   2 10:11 mysql</span><br><span class="line">drwxr-xr-x 2 www   www   4096 8月  21 13:20 wwwlogs</span><br><span class="line">drwxr-xr-x 3 www   www   4096 8月  21 11:31 wwwroot</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">检查命令关键字是否被使用</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# type foo</span><br><span class="line">foo 是 `cd /data;ll&#x27; 的别名</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除别名</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# unalias foo</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# type foo</span><br><span class="line">-bash: type: foo: 未找到</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看系统内建命令别名</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# alias</span><br><span class="line">alias acme.sh=&#x27;/root/.acme.sh/acme.sh&#x27;</span><br><span class="line">alias cp=&#x27;cp -i&#x27;</span><br><span class="line">alias egrep=&#x27;egrep --color&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color&#x27;</span><br><span class="line">alias grep=&#x27;grep --color&#x27;</span><br><span class="line">alias l=&#x27;ls -AFhlt&#x27;</span><br><span class="line">alias l.=&#x27;ls -d .* --color=auto&#x27;</span><br><span class="line">alias lh=&#x27;l | head&#x27;</span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">alias mv=&#x27;mv -i&#x27;</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">alias vi=&#x27;vim&#x27;</span><br><span class="line">alias which=&#x27;alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde&#x27;</span><br></pre></td></tr></table></figure><h2 id="输出存入"><a href="#输出存入" class="headerlink" title="输出存入"></a>输出存入</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将<span class="built_in">alias</span>命令的输出内容存入 output.txt 的文件中.</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# alias &gt; output.txt</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# ls</span><br><span class="line">mysql  output.txt  wwwlogs  wwwroot</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# cat output.txt </span><br><span class="line">alias acme.sh=&#x27;/root/.acme.sh/acme.sh&#x27;</span><br><span class="line">alias cp=&#x27;cp -i&#x27;</span><br><span class="line">alias egrep=&#x27;egrep --color&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color&#x27;</span><br><span class="line">alias grep=&#x27;grep --color&#x27;</span><br><span class="line">alias l=&#x27;ls -AFhlt&#x27;</span><br><span class="line">alias l.=&#x27;ls -d .* --color=auto&#x27;</span><br><span class="line">alias lh=&#x27;l | head&#x27;</span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">alias mv=&#x27;mv -i&#x27;</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">alias vi=&#x27;vim&#x27;</span><br><span class="line">alias which=&#x27;alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde&#x27;</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">以追加的方式添加到文件中, &gt; 一个将会覆盖.</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# whatis rm &gt;&gt; output.txt </span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# cat output.txt </span><br><span class="line">alias acme.sh=&#x27;/root/.acme.sh/acme.sh&#x27;</span><br><span class="line">alias cp=&#x27;cp -i&#x27;</span><br><span class="line">alias egrep=&#x27;egrep --color&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color&#x27;</span><br><span class="line">alias grep=&#x27;grep --color&#x27;</span><br><span class="line">alias l=&#x27;ls -AFhlt&#x27;</span><br><span class="line">alias l.=&#x27;ls -d .* --color=auto&#x27;</span><br><span class="line">alias lh=&#x27;l | head&#x27;</span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">alias mv=&#x27;mv -i&#x27;</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">alias vi=&#x27;vim&#x27;</span><br><span class="line">alias which=&#x27;alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde&#x27;</span><br><span class="line">rm (1)               - remove files or directories</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# whatis rm</span><br><span class="line">rm (1)               - remove files or directories</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# lsas</span><br><span class="line">-bash: lsas: 未找到命令</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将错误信息追加到文件后.</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# lsas &amp;&gt;&gt; output.txt </span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# cat output.txt </span><br><span class="line">alias acme.sh=&#x27;/root/.acme.sh/acme.sh&#x27;</span><br><span class="line">alias cp=&#x27;cp -i&#x27;</span><br><span class="line">alias egrep=&#x27;egrep --color&#x27;</span><br><span class="line">alias fgrep=&#x27;fgrep --color&#x27;</span><br><span class="line">alias grep=&#x27;grep --color&#x27;</span><br><span class="line">alias l=&#x27;ls -AFhlt&#x27;</span><br><span class="line">alias l.=&#x27;ls -d .* --color=auto&#x27;</span><br><span class="line">alias lh=&#x27;l | head&#x27;</span><br><span class="line">alias ll=&#x27;ls -l --color=auto&#x27;</span><br><span class="line">alias ls=&#x27;ls --color=auto&#x27;</span><br><span class="line">alias mv=&#x27;mv -i&#x27;</span><br><span class="line">alias rm=&#x27;rm -i&#x27;</span><br><span class="line">alias vi=&#x27;vim&#x27;</span><br><span class="line">alias which=&#x27;alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde&#x27;</span><br><span class="line">rm (1)               - remove files or directories</span><br><span class="line">-bash: lsas: 未找到命令</span><br></pre></td></tr></table></figure><h2 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# stat output.txt </span><br><span class="line">  文件：&quot;output.txt&quot;</span><br><span class="line">  大小：482             块：8          IO 块：4096   普通文件</span><br><span class="line">设备：fd01h/64769d      Inode：524589      硬链接：1</span><br><span class="line">权限：(0644/-rw-r--r--)  Uid：(    0/    root)   Gid：(    0/    root)</span><br><span class="line">最近访问：2022-01-02 11:45:49.604338061 +0800</span><br><span class="line">最近更改：2022-01-02 11:45:42.309277245 +0800</span><br><span class="line">最近改动：2022-01-02 11:45:42.309277245 +0800</span><br><span class="line">创建时间：-</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">特殊文件.</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# stat /dev/null</span><br><span class="line">  文件：&quot;/dev/null&quot;</span><br><span class="line">  大小：0               块：0          IO 块：4096   字符特殊文件</span><br><span class="line">设备：5h/5d     Inode：1042        硬链接：1     设备类型：1,3</span><br><span class="line">权限：(0666/crw-rw-rw-)  Uid：(    0/    root)   Gid：(    0/    root)</span><br><span class="line">最近访问：2022-01-02 10:11:08.052112934 +0800</span><br><span class="line">最近更改：2022-01-02 10:11:08.052112934 +0800</span><br><span class="line">最近改动：2022-01-02 10:11:08.052112934 +0800</span><br><span class="line">创建时间：-</span><br></pre></td></tr></table></figure><h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# cat</span><br><span class="line">nihao , hello worldnihao , hello world[root@iZbp1244h71ferqzghq7m4Z data]# </span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将文本写入 testcat.txt文件中.  Ctrl+D 停止输入.</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# cat &gt; testcat.txt</span><br><span class="line">nigedashabi , hello world ,ruguo,nizai ,youyiho </span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# cat testcat.txt </span><br><span class="line">nigedashabi , hello world ,ruguo,nizai ,youyiho </span><br></pre></td></tr></table></figure><h2 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h2><blockquote><p> word count , 统计文件中换行符,单词,以及字节的数量.</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# wc output.txt </span><br><span class="line"> 16  59 482 output.txt</span><br></pre></td></tr></table></figure><h2 id="echo妙用"><a href="#echo妙用" class="headerlink" title="echo妙用"></a>echo妙用</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# echo *</span><br><span class="line">mysql output.txt testcat.txt wwwlogs wwwroot</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# ls</span><br><span class="line">mysql  output.txt  testcat.txt  wwwlogs  wwwroot</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# pwd</span><br><span class="line">/data</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">筛选文件.</span></span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z data]# echo www*</span><br><span class="line">wwwlogs wwwroot</span><br><span class="line">[tiam@iZbp1244h71ferqzghq7m4Z ~]$ echo ~tiam</span><br><span class="line">/home/tiam</span><br></pre></td></tr></table></figure><h2 id="登录环境切换"><a href="#登录环境切换" class="headerlink" title="登录环境切换"></a>登录环境切换</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[tiam@iZbp1244h71ferqzghq7m4Z ~]$ exit</span><br><span class="line">exit</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z home]# su tiam</span><br><span class="line">[tiam@iZbp1244h71ferqzghq7m4Z home]$ exit</span><br><span class="line">exit</span><br><span class="line">[root@iZbp1244h71ferqzghq7m4Z home]# </span><br></pre></td></tr></table></figure><h2 id="set"><a href="#set" class="headerlink" title="set"></a>set</h2><h2 id="printenv"><a href="#printenv" class="headerlink" title="printenv"></a>printenv</h2><p>查看环境变量</p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>application.yaml配置</title>
      <link href="/artical/d96f0873.html"/>
      <url>/artical/d96f0873.html</url>
      
        <content type="html"><![CDATA[<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String type;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"><span class="comment">//setter方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span>  <span class="comment">//注入spring的bean中</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;user&quot;)</span></span><br><span class="line"><span class="comment">//在配置文件中,将以user开头的属性注入</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id;  <span class="comment">//基本数据类型 int</span></span><br><span class="line">    <span class="keyword">private</span> String username;  <span class="comment">//基本数据类型 String</span></span><br><span class="line">    <span class="keyword">private</span> String password;  </span><br><span class="line">    <span class="keyword">private</span> List hobby;  <span class="comment">//集合</span></span><br><span class="line">    <span class="keyword">private</span> String\[\] song;  <span class="comment">//数组</span></span><br><span class="line">    <span class="keyword">private</span> Map map;  <span class="comment">//Map对象</span></span><br><span class="line">    <span class="keyword">private</span> Pet pet;  <span class="comment">//POJO对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//setter方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>application.yeal <strong>注意!冒号后有个空格!!!!</strong> application.properties 比 application.yeal优先级高</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">user:</span></span><br><span class="line">  <span class="attr">id:</span> <span class="number">2</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">linda</span></span><br><span class="line">  <span class="attr">password:</span> <span class="number">123</span></span><br><span class="line">  <span class="attr">hobby:</span> <span class="string">\[footboll,basketboll\]</span></span><br><span class="line">  <span class="attr">song:</span> <span class="string">\[she,where\]</span></span><br><span class="line">  <span class="attr">map:</span> &#123;<span class="attr">k1:</span> <span class="string">v1</span>,<span class="attr">k2:</span> <span class="string">v2</span>&#125;</span><br><span class="line">  <span class="attr">pet:</span> &#123;<span class="attr">type:</span> <span class="string">cat</span>,<span class="attr">age:</span> <span class="number">12</span>&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">测试类</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(SpringRunner.class)</span></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Tests01</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>springboot模拟登录</title>
      <link href="/artical/e35ee2ef.html"/>
      <url>/artical/e35ee2ef.html</url>
      
        <content type="html"><![CDATA[<p>一个简单的登录判断功能，成功跳转到主页面，显示用户表，否则跳回登录页。如直接访问主页，想跳过登录页，会判断session是否存在用户，有则进入主页面,没有则不显示页面,显示空白。</p><h2 id="功能大致展示"><a href="#功能大致展示" class="headerlink" title="功能大致展示:"></a>功能大致展示:</h2><h2 id="xmvc01数据库user表"><a href="#xmvc01数据库user表" class="headerlink" title="xmvc01数据库user表"></a>xmvc01数据库user表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SQLyog Ultimate v12.08 (64 bit)</span></span><br><span class="line"><span class="comment">MySQL - 5.5.12 </span></span><br><span class="line"><span class="comment">*********************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/*!40101 SET NAMES utf8 */</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `<span class="keyword">user</span>` (</span><br><span class="line">`id` <span class="type">varchar</span> (<span class="number">96</span>),</span><br><span class="line">`userName` <span class="type">varchar</span> (<span class="number">300</span>),</span><br><span class="line">`password` <span class="type">varchar</span> (<span class="number">300</span>)</span><br><span class="line">); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `<span class="keyword">user</span>` (`id`, `userName`, `password`) <span class="keyword">values</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;admin&#x27;</span>,<span class="string">&#x27;123&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `<span class="keyword">user</span>` (`id`, `userName`, `password`) <span class="keyword">values</span>(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;root&#x27;</span>,<span class="string">&#x27;321&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-69.png"></p><h2 id="登录表单"><a href="#登录表单" class="headerlink" title="登录表单"></a>登录表单</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;$&#123;pageContext.request.contextPath&#125;/login&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span>  &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;userName&quot;</span>&gt;</span>用户名<span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;userName&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入用户名&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;password&quot;</span>&gt;</span>密码<span class="tag">&lt;/<span class="name">label</span>&gt;</span> <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;password&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入密码&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">value</span>=<span class="string">&quot;&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-inline text-right&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>登录<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;reset&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span> <span class="attr">focus</span>&gt;</span>重置<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="用户列表"><a href="#用户列表" class="headerlink" title="用户列表"></a>用户列表</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;panel-heading&quot;</span>&gt;</span>用户列表<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-bordered table-hover text-center&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span> <span class="attr">class</span>=<span class="string">&quot;info&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>用户名称<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">td</span>&gt;</span>用户密码<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">c:forEach</span> <span class="attr">var</span>=<span class="string">&quot;u&quot;</span> <span class="attr">items</span>=<span class="string">&quot;$&#123;userList&#125;&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;u.userName &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">td</span>&gt;</span>$&#123;u.password &#125;<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">c:forEach</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>请看注释</p><h2 id="LoginController-java"><a href="#LoginController-java" class="headerlink" title="LoginController.java"></a>LoginController.java</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-70.png"></p><h2 id="userService-java"><a href="#userService-java" class="headerlink" title="userService.java"></a>userService.java</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-72.png"></p><h2 id="userServiceImpl-java"><a href="#userServiceImpl-java" class="headerlink" title="userServiceImpl.java"></a>userServiceImpl.java</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-73-1024x787.png"></p><h2 id="userMapper-java"><a href="#userMapper-java" class="headerlink" title="userMapper.java"></a>userMapper.java</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-74.png"></p><h2 id="userMapper-xml"><a href="#userMapper-xml" class="headerlink" title="userMapper.xml"></a>userMapper.xml</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-75-1024x287.png"></p><h2 id="userController-java"><a href="#userController-java" class="headerlink" title="userController.java"></a>userController.java</h2><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-77-1024x548.png"></p><h2 id="点击查看源码"><a href="#点击查看源码" class="headerlink" title="点击查看源码"></a>点击查看源<a href="https://wws.lanzoui.com/iu4KDujm55g">码</a></h2>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于跨域问题</title>
      <link href="/artical/bdf2fa.html"/>
      <url>/artical/bdf2fa.html</url>
      
        <content type="html"><![CDATA[<p>嗯….最近找到个好玩的API，可以随机生成一个数独游戏谜题，刚好最近数独也玩得比较多，就想借这个试试能不能自己做一个玩玩，ran后第一步就死了，获取不到接口数据。</p><p>接口在聚合数据上找的，是免费的，应该可以用的。接口地址及说明：</p><p><a href="http://apis.juhe.cn/fapig/sudoku/generate?difficulty=normal&key=34f37a2e3ebb4b7133b54264a44c6596">http://apis.juhe.cn/fapig/sudoku/generate?key=34f37a2e3ebb4b7133b54264a44c6596&amp;difficulty=normal</a></p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>WX小程序--音乐播放器</title>
      <link href="/artical/ed803555.html"/>
      <url>/artical/ed803555.html</url>
      
        <content type="html"><![CDATA[<p>从最开始了解微信小程序到萌生想法想自己做一个发布到自己的公众号，中间还是隔了蛮久，近几天突然有了想法做什么了，今天却因为个人小程序的原因审核不通过，可气。</p><p>最开始也是一点也不了解，甚至小程序用什么语言写的也不知道。萌生了想法就去找<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/quickstart/">官方文档</a>查看，寥寥草草的差不多看了一晚上，知道了小程序的文件结构以及所需的编程语言，主要编程语言是JavaScript，好在JavaScript有学过一点，至少还有点基础。还有新的语言，WXML和WXSS，不过呢WXML和HTML极为相似，WXSS和CSS极为相似，正好HTML和CSS都学过一点，还记得一点基本语法。也不算新的东西。还有个配置文件的JSON格式，虽不是编程语言，也没有学过，可是之前几次做项目却用过几次，大概还记得怎么用。就这样，觉得自己应该可以做出来，第二天就开始新建项目做了。</p><p>当然过程中会遇到很多很多的困难，只能一步一步慢慢解决，慢慢来了。</p><p>实践的时候，总觉得没有之前那么逻辑顺畅，而且有了之前的经验应该会该快更好才对。上学期用Vue映入API接口做了个网页的音乐播放器，然后又用uni-app做了个表格的增删改查。虽不一样，却有很多类似的地方可以借鉴。比如：页面间传递数据、将API获取到的数据渲染到页面上等等。</p><p>虽现在还没有做得很好，但是音乐播放的基本功能还是实现了，页面样式还没有写，丑得一批，可惜没有设计的头脑，目前的想法只有借鉴其他音乐播放器的样式排版了（虽然不一定能做得出来哈哈）。</p><p>好了，记录一下到完成到现在的功能的思路及实现。（目前2021/9/18）</p><hr><hr><p>先是音乐资源，刚好可以借用到上次Vue音乐播放器用的<a href="https://autumnfish.cn/">网易云API</a>，然后优先要实现最主要的基本功能，功能太少无实际作用，太多难以实现又复杂。那么初步定义的功能有什么呢？那必定要实现查询功能了，想听什么都可以查寻到，再是能让查询到歌曲能够播放出来（有声就行）。哈，就两个功能，感觉挺简单。</p><p>创建一个小程序的新项目，有一个默认的首页，就默认当作首页了，添加一个按钮，点击进入首页，就是搜索页面，输入搜索，将查询到的歌曲渲染到页面，点击歌曲进入播放页面，播放歌曲。</p><h3 id="注册页面"><a href="#注册页面" class="headerlink" title="注册页面"></a>注册页面</h3><p>所以需要在配置文件app.json中注册两个层级的页面，一个显示歌曲列表music，一个显示播放界面player。</p><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-58.png"></p><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-57.png"></p><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-59.png"></p><h3 id="页面跳转"><a href="#页面跳转" class="headerlink" title="页面跳转"></a>页面跳转</h3><p>在首页wxml添加一个按钮,在JS文件绑定点击事件,跳转页面.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bindtap=&quot;bindViewMusic&quot;  //绑定函数</span><br></pre></td></tr></table></figure><p>页面跳转: <strong>wx.navigateTo</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;../music/music&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="music界面"><a href="#music界面" class="headerlink" title="music界面"></a>music界面</h2><h3 id="实时显示搜索结果"><a href="#实时显示搜索结果" class="headerlink" title="实时显示搜索结果"></a>实时显示搜索结果</h3><p>就是能够实现每输入一个字就能显示对应的结果,而不是必须全部输入完,点击搜索才进行搜索。那么搜索按钮也省去了没什么用，一个输入框就够了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;search-input&quot;</span> <span class="attr">maxlength</span>=<span class="string">&quot;10&quot;</span> <span class="attr">bindinput</span>=<span class="string">&quot;bindKeyInput&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;请输入你想要听的歌曲&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p><strong>bindinput</strong> ， 编辑器内容改变时触发 ，调用bindKeyInput函数，即每次输入都会触发。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">bindKeyInput</span>:<span class="keyword">function</span>(<span class="params">e</span>) &#123;        </span><br><span class="line">      <span class="keyword">var</span> that =<span class="variable language_">this</span>;</span><br><span class="line">      wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;https://autumnfish.cn/search?keywords=&#x27;</span> + e.<span class="property">detail</span>.<span class="property">value</span>,</span><br><span class="line">        <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">          that.<span class="title function_">setData</span>(&#123;</span><br><span class="line">             <span class="attr">objectArray</span>: res.<span class="property">data</span>.<span class="property">result</span>.<span class="property">songs</span> <span class="comment">//将查询到的数据实时渲染到列表中</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html"><strong>wx.request</strong></a> ，发起 HTTPS 网络请求。调用API接口。</p><p>调用成功后将查询到的数组数据存储到 objectArray ，然后通过wx:for，列表渲染到界面上。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;view id=&quot;&#123;&#123;item.id&#125;&#125;&quot; bindtap=&quot;playerView&quot; wx:for=&quot;&#123;&#123;objectArray&#125;&#125;&quot; &gt;&#123;&#123;index+1&#125;&#125;、&#123;&#123;item.name&#125;&#125;--&#123;&#123;item.artists[0].name&#125;&#125; &lt;/view&gt;</span><br></pre></td></tr></table></figure><p>在组件上使用 <strong>wx:for</strong> 控制属性绑定一个数组，即可使用数组中各项的数据重复渲染该组件。默认数组的当前项的下标变量名默认为 index，数组当前项的变量名默认为 item。</p><p>可先通过控制台将接受数据打印出来，查看数据形式。比如搜索“天下”，如下：</p><p><img src="http://yujing.fit/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-60.png"></p><h2 id="player界面"><a href="#player界面" class="headerlink" title="player界面"></a>player界面</h2><h3 id="页面数据传递"><a href="#页面数据传递" class="headerlink" title="页面数据传递"></a>页面数据传递</h3><p>下一步为渲染到页面的歌曲列表绑定事件，使其点击能被跳转到播放页面，播放歌曲。</p><p>每一首歌都不同，怎么确定播放的点击那首呢？那就需要点击跳转时，还需要将当前点击的歌曲唯一Id，传入到下一个界面。然后通过Id获取到歌曲的播放地址url和歌曲名、歌手名等相关信息。在页面播放歌曲，并渲染出歌曲的相关信息。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跳转播放页面,带当前歌曲id传入下个页面</span></span><br><span class="line">    <span class="title function_">playerView</span>(<span class="params">e</span>)&#123;</span><br><span class="line">      wx.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;id&#x27;</span>, e.<span class="property">currentTarget</span>.<span class="property">id</span>)</span><br><span class="line">      <span class="keyword">var</span> id = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;id&#x27;</span>);</span><br><span class="line">      wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;../player/player?id=&#x27;</span>+id</span><br><span class="line">      &#125;)</span><br><span class="line">     &#125;  </span><br></pre></td></tr></table></figure><p><strong>wx.setStorageSync(string key, any data)</strong></p><h3 id="播放歌曲"><a href="#播放歌曲" class="headerlink" title="播放歌曲"></a>播放歌曲</h3><p>在player界面接收到Id后，调用API接收到歌曲的相关信息。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">onLoad</span>: <span class="keyword">function</span> (<span class="params">option</span>) &#123; </span><br><span class="line">    <span class="keyword">var</span> that =<span class="variable language_">this</span>;</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123; </span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;https://autumnfish.cn/song/url?id=&#x27;</span> + option.<span class="property">id</span>, <span class="comment">//根据id获取歌曲</span></span><br><span class="line">      <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//console.log(option.id) //得到当前点击歌曲id</span></span><br><span class="line">        <span class="comment">//console.log(res.data.data); //获取当前歌曲信息</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>.<span class="property">data</span>[<span class="number">0</span>].<span class="property">url</span>)</span><br><span class="line">        that.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">musicUrl</span>: res.<span class="property">data</span>.<span class="property">data</span>[<span class="number">0</span>].<span class="property">url</span>     <span class="comment">//获取歌曲播放地址  </span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">///////留白,插入下片代码</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>接口地址不一样,所以会调用两次。</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  wx.<span class="title function_">request</span>(&#123; </span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;https://autumnfish.cn/search?keywords=&#x27;</span> + option.<span class="property">id</span>, <span class="comment">//根据id获取歌曲</span></span><br><span class="line">  <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">    that.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">imgSrc</span>: res.<span class="property">data</span>.<span class="property">result</span>.<span class="property">songs</span>[<span class="number">0</span>].<span class="property">artists</span>[<span class="number">0</span>].<span class="property">img1v1Url</span>,  <span class="comment">//获取专辑封面</span></span><br><span class="line">      <span class="attr">author</span>: res.<span class="property">data</span>.<span class="property">result</span>.<span class="property">songs</span>[<span class="number">0</span>].<span class="property">artists</span>[<span class="number">0</span>].<span class="property">name</span>,  <span class="comment">//获取歌手名</span></span><br><span class="line">      <span class="attr">musicName</span>: res.<span class="property">data</span>.<span class="property">result</span>.<span class="property">songs</span>[<span class="number">0</span>].<span class="property">name</span>   <span class="comment">//获取歌曲名</span></span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>默认控件上的作者名字，如果 controls 属性值为 false 则设置 author 无效</p><p>主要是觉得这个要简单一点，那个不知道怎么用。也懒得去研究研究，这个也够用了。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">audio</span> <span class="attr">poster</span>=<span class="string">&quot;&#123;&#123;imgSrc&#125;&#125;&quot;</span> <span class="attr">name</span>=<span class="string">&quot;&#123;&#123;musicName&#125;&#125;&quot;</span> <span class="attr">author</span>=<span class="string">&quot;&#123;&#123;author&#125;&#125;&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123;musicUrl&#125;&#125;&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myAudio&quot;</span> <span class="attr">controls</span> <span class="attr">loop</span> <span class="attr">bindplay</span>=<span class="string">&quot;funplay&quot;</span> <span class="attr">bindpause</span>=<span class="string">&quot;funpause&quot;</span> <span class="attr">binderror</span>=<span class="string">&quot;funerror&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">audio</span>&gt;</span></span><br></pre></td></tr></table></figure><p>将API接收到的数据，通过<strong>数据绑定</strong>到音频组件上。</p><p>基本功能实现完成。代码还有很多冗杂，不过至少能跑，管它什么轮子。</p><h3 id="点击查看效果演示视频"><a href="#点击查看效果演示视频" class="headerlink" title="点击查看效果演示视频"></a><a href="https://wwr.lanzoui.com/iMByUu7sk8d">点击查看效果演示视频</a></h3><p>2021-9-19-10:48</p>]]></content>
      
      
      <categories>
          
          <category> 小程序 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wx小程序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MyBatis</title>
      <link href="/artical/1bff3c65.html"/>
      <url>/artical/1bff3c65.html</url>
      
        <content type="html"><![CDATA[<p>以Maven方式创建文件</p><h2 id="1-搭建目录结构-如下"><a href="#1-搭建目录结构-如下" class="headerlink" title="1 搭建目录结构,如下:"></a>1 搭建目录结构,如下:</h2><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-50.png"></p><h2 id="2-引入数据库Customer表"><a href="#2-引入数据库Customer表" class="headerlink" title="2 引入数据库Customer表"></a>2 引入数据库Customer表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE mybatis; </span><br><span class="line">USE mybatis; </span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> `t_customer` (</span><br><span class="line">`id` <span class="type">int</span> (<span class="number">32</span>),</span><br><span class="line">`username` <span class="type">varchar</span> (<span class="number">150</span>),</span><br><span class="line">`jobs` <span class="type">varchar</span> (<span class="number">150</span>),</span><br><span class="line">`phone` <span class="type">varchar</span> (<span class="number">48</span>)</span><br><span class="line">); </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `t_customer` (`id`, `username`, `jobs`, `phone`) <span class="keyword">values</span>(<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;joy&#x27;</span>,<span class="string">&#x27;doctor&#x27;</span>,<span class="string">&#x27;13745874578&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `t_customer` (`id`, `username`, `jobs`, `phone`) <span class="keyword">values</span>(<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;jack&#x27;</span>,<span class="string">&#x27;doctor&#x27;</span>,<span class="string">&#x27;17623194363&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> `t_customer` (`id`, `username`, `jobs`, `phone`) <span class="keyword">values</span>(<span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;qqq&#x27;</span>,<span class="string">&#x27;programmer&#x27;</span>,<span class="string">&#x27;13311111111&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="3-在pom-xml文件中导入所需的MyBatis依赖包"><a href="#3-在pom-xml文件中导入所需的MyBatis依赖包" class="headerlink" title="3 在pom.xml文件中导入所需的MyBatis依赖包"></a>3 在pom.xml文件中导入所需的MyBatis依赖包</h2><p>配置后会自动下载导入</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mybatis所需的jar包--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>asm<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>asm<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>cglib<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.2.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-logging<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.javassist<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javassist<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.17.1-GA<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.slf4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>slf4j-log4j12<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.7.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="4-MyBatis-config-xml"><a href="#4-MyBatis-config-xml" class="headerlink" title="4 MyBatis-config.xml"></a>4 MyBatis-config.xml</h2><p>连接数据库,配置Mapper的位置</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;mysql&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mybatis&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/CustomerMapper.xml&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="5-映射文件-CustomerMapper-xml"><a href="#5-映射文件-CustomerMapper-xml" class="headerlink" title="5 映射文件 CustomerMapper.xml"></a>5 映射文件 CustomerMapper.xml</h2><p>创建所需的SQL语句</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;mapper.CustomerMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findCustomerById&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">resultType</span>=<span class="string">&quot;com.example.po.Customer&quot;</span>&gt;</span></span><br><span class="line">select * from t_customer where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findCustomerByName&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;String&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">resultType</span>=<span class="string">&quot;com.example.po.Customer&quot;</span>&gt;</span></span><br><span class="line">        select * from t_customer where username like &#x27;%$&#123;value&#125;%&#x27;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;addCustomer&quot;</span>  <span class="attr">parameterType</span>=<span class="string">&quot;com.example.po.Customer&quot;</span>&gt;</span></span><br><span class="line">        insert into t_customer(username,jobs,phone)</span><br><span class="line">        values(#&#123;username&#125;,#&#123;jobs&#125;,#&#123;phone&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateCustomer&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;com.example.po.Customer&quot;</span>&gt;</span></span><br><span class="line">       update t_customer set</span><br><span class="line">       username=#&#123;username&#125;,jobs=#&#123;jobs&#125;,phone=#&#123;phone&#125;</span><br><span class="line">       where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteCustomer&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;Integer&quot;</span>&gt;</span></span><br><span class="line">       delete from t_customer where id=#&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="6-创建Customer表的持久化类"><a href="#6-创建Customer表的持久化类" class="headerlink" title="6 创建Customer表的持久化类"></a>6 创建Customer表的持久化类</h2><p>快捷生成getter and setter方法 和 to String()方法,略.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Integer id;</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line"><span class="keyword">private</span> String jobs;</span><br><span class="line"><span class="keyword">private</span> String phone;</span><br></pre></td></tr></table></figure><h2 id="7-导入日志文件log4j-properties"><a href="#7-导入日志文件log4j-properties" class="headerlink" title="7 导入日志文件log4j.properties"></a>7 导入日志文件log4j.properties</h2><p>输出日志信息,在控制台查看SQL语句</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Global logging configuration</span></span><br><span class="line"><span class="attr">log4j.rootLogger</span>=<span class="string">ERROR, stdout</span></span><br><span class="line"><span class="comment"># MyBatis logging configuration...</span></span><br><span class="line"><span class="attr">log4j.logger.mapper</span>=<span class="string">DEBUG  </span></span><br><span class="line"><span class="comment"># Console output...</span></span><br><span class="line"><span class="attr">log4j.appender.stdout</span>=<span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.layout</span>=<span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.layout.ConversionPattern</span>=<span class="string">%5p [%t] - %m%n</span></span><br></pre></td></tr></table></figure><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-52-1024x410.png"></p><h2 id="8-创建测试文件"><a href="#8-创建测试文件" class="headerlink" title="8 创建测试文件"></a>8 创建测试文件</h2><p>除查询以外,其他需要提交事务 sqlSession.commit();</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.example.po.Customer;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisTest</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">CustomerTest</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> <span class="string">&quot;mybatis-config.xml&quot;</span>;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> Resources.getResourceAsStream(resource);</span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(inputStream);</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> sqlSessionFactory.openSession();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//添加数据</span></span><br><span class="line"><span class="comment">//        Customer customerIn = new Customer();</span></span><br><span class="line"><span class="comment">//        customerIn.setUsername(&quot;rose&quot;);</span></span><br><span class="line"><span class="comment">//        customerIn.setJobs(&quot;student&quot;);</span></span><br><span class="line"><span class="comment">//        customerIn.setPhone(&quot;13333533092&quot;);</span></span><br><span class="line"><span class="comment">//        int rows = sqlSession.insert(&quot;mapper.CustomerMapper.addCustomer&quot;, customerIn);</span></span><br><span class="line"><span class="comment">//        if (rows&gt;0)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;插入了&quot;+rows+&quot;条数据&quot;);</span></span><br><span class="line"><span class="comment">//        &#125;else&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;插入失败!&quot;);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        sqlSession.commit();//提交事务</span></span><br><span class="line">        <span class="comment">//查询</span></span><br><span class="line">        <span class="comment">//Customer customerId = sqlSession.selectOne(&quot;mapper.CustomerMapper.findCustomerById&quot;, 3);//查询Id</span></span><br><span class="line">        <span class="comment">//List&lt;Customer&gt; customerName = sqlSession.selectList(&quot;mapper.CustomerMapper.findCustomerByName&quot;, &quot;j&quot;);//模糊查询姓名</span></span><br><span class="line">        <span class="comment">//System.out.println(customerId.toString());</span></span><br><span class="line">        <span class="comment">//System.out.println(customerName.toString());</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//更新</span></span><br><span class="line"><span class="comment">//        Customer customerUp = new Customer();</span></span><br><span class="line"><span class="comment">//        customerUp.setId(3); //根据Id修改数据</span></span><br><span class="line"><span class="comment">//        customerUp.setUsername(&quot;qqq&quot;);</span></span><br><span class="line"><span class="comment">//        customerUp.setJobs(&quot;programmer&quot;);</span></span><br><span class="line"><span class="comment">//        customerUp.setPhone(&quot;13311111111&quot;);</span></span><br><span class="line"><span class="comment">//        int row = sqlSession.update(&quot;mapper.CustomerMapper.updateCustomer&quot;, customerUp);</span></span><br><span class="line"><span class="comment">//        if (row&gt;0)&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;更新了&quot;+row+&quot;条数据&quot;);</span></span><br><span class="line"><span class="comment">//        &#125;else&#123;</span></span><br><span class="line"><span class="comment">//            System.out.println(&quot;更新失败!&quot;);</span></span><br><span class="line"><span class="comment">//        &#125;</span></span><br><span class="line"><span class="comment">//        sqlSession.commit();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//删除</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">del</span> <span class="operator">=</span> sqlSession.delete(<span class="string">&quot;mapper.CustomerMapper.deleteCustomer&quot;</span>, <span class="number">26</span>);</span><br><span class="line">        <span class="keyword">if</span> (del &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;删除了&quot;</span> + del + <span class="string">&quot;条数据&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;删除失败!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        sqlSession.commit();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        sqlSession.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="9-运行测试"><a href="#9-运行测试" class="headerlink" title="9 运行测试"></a>9 运行测试</h2><p>因没有Id为26的,所以删除失败.</p>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python小练习</title>
      <link href="/artical/43ebbc9e.html"/>
      <url>/artical/43ebbc9e.html</url>
      
        <content type="html"><![CDATA[<p>问:进步一天+0.02，退步一天减0.01，不退不进始终为1，那么一年中进步多少天，退步多少天，与全年每天都不进不退最接近。</p><p>思路：</p><p>根据问题可得到两个方程：</p><p>① 一年中进步x天，退步(365-x)天的收获为：y=(1.02^x)*(0.99^(365-x))</p><p>② 全年每天都不进不退的收获为: y=1</p><p>画出函数图像，交叉点为最接近的，但由于天数只能为整数，所以不能取交叉点。</p><p>函数图像地址：<a href="https://www.desmos.com/calculator/m2nm4xh78d">https://www.desmos.com/calculator/m2nm4xh78d</a></p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/desmos-graph.png"></p><p>放大：</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-48-1024x443.png"></p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="built_in">min</span> = <span class="number">10</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">366</span>):  <span class="comment"># 进步i天</span></span><br><span class="line">    A = fabs(<span class="built_in">pow</span>((<span class="number">1</span> + <span class="number">0.02</span>), i) * <span class="built_in">pow</span>((<span class="number">1</span> - <span class="number">0.01</span>), (<span class="number">365</span> - i)) - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">if</span> A &lt; <span class="built_in">min</span>:</span><br><span class="line">        <span class="built_in">min</span> = A</span><br><span class="line">        x = i</span><br><span class="line">        y = <span class="number">365</span> - i</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;当进步%d天,退步%d天时,最接近&quot;</span> % (x, y))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;最接近的值为&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">pow</span>((<span class="number">1</span> + <span class="number">0.02</span>), x) * <span class="built_in">pow</span>((<span class="number">1</span> - <span class="number">0.01</span>), y)))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">min</span>)</span><br></pre></td></tr></table></figure><p>输<strong>出结果：</strong></p><p>当进步123天,退步242天时,最接近<br>最接近的值为1.003548160754847<br>0.003548160754847096</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>商家抹零</title>
      <link href="/artical/29ce22bc.html"/>
      <url>/artical/29ce22bc.html</url>
      
        <content type="html"><![CDATA[<p>新增：错误排查提示</p><p>排除后自动跳转重新输入</p><p>可循环输入任意商品数</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        shop=[]</span><br><span class="line">        <span class="built_in">sum</span>=<span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;请输入第%d个商品价格,输入End结束：&quot;</span>%(i+<span class="number">1</span>),end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">            shop.append(<span class="built_in">input</span>())</span><br><span class="line">            <span class="keyword">if</span> shop[i]==<span class="string">&#x27;End&#x27;</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="built_in">sum</span>+=<span class="built_in">float</span>(shop[i])</span><br><span class="line">        <span class="comment"># 总金额达到100，抹零</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">sum</span> &gt;= <span class="number">100</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;结算金额为：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(<span class="built_in">sum</span>)))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># 未达到四舍五入</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">sum</span> - <span class="built_in">int</span>(<span class="built_in">sum</span>)) &gt;= <span class="number">0.5</span>:  <span class="comment"># 五入</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;结算金额为：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(<span class="built_in">sum</span>) + <span class="number">1</span>))</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">else</span>:  <span class="comment"># 四舍</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;结算金额为：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(<span class="built_in">sum</span>)))</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请输入正确的价格格式！请重新输入&quot;</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Spring中的Bean</title>
      <link href="/artical/5a117f65.html"/>
      <url>/artical/5a117f65.html</url>
      
        <content type="html"><![CDATA[<h2 id="以Maven方式创建文件"><a href="#以Maven方式创建文件" class="headerlink" title="以Maven方式创建文件"></a>以Maven方式创建文件</h2><h4 id="1-文件目录结构"><a href="#1-文件目录结构" class="headerlink" title="1 文件目录结构:"></a>1 文件目录结构:</h4><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-29.png"></p><h4 id="2-在pom-xml中添加配置文件-将自动下载jar包"><a href="#2-在pom-xml中添加配置文件-将自动下载jar包" class="headerlink" title="2 在pom.xml中添加配置文件,将自动下载jar包"></a>2 在pom.xml中添加配置文件,将自动下载jar包</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Spring核心模块 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-beans<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aop<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="3-新增配置文件"><a href="#3-新增配置文件" class="headerlink" title="3 新增配置文件"></a>3 新增配置文件</h4><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-30-1024x732.png"></p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-31-1024x252.png"></p><h4 id="4"><a href="#4" class="headerlink" title="4"></a>4</h4><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-32-1024x366.png"></p><h4 id="5-UserController类中添加save方法"><a href="#5-UserController类中添加save方法" class="headerlink" title="5 UserController类中添加save方法"></a>5 UserController类中添加save方法</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;success print controller&quot;</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="6-添加测试文件-运行测试"><a href="#6-添加测试文件-运行测试" class="headerlink" title="6 添加测试文件,运行测试"></a>6 添加测试文件,运行测试</h4><p>查看控制台,成功调用UserController类中的save方法,打印出 “ success print controller “</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test01</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;ApplicationContext.xml&quot;</span>);</span><br><span class="line">        <span class="type">UserController</span> <span class="variable">userController</span> <span class="operator">=</span> (UserController)applicationContext.getBean(<span class="string">&quot;userController&quot;</span>);</span><br><span class="line">        userController.save();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-33-1024x497.png"></p><h2 id="基于xml的Spring-DI实现"><a href="#基于xml的Spring-DI实现" class="headerlink" title="基于xml的Spring DI实现"></a>基于xml的Spring DI实现</h2><p>通过Controller类调用Service中的方法,直接调用Controller,而测试类就不用既调用COntroller类又调用Service类,就可实现成功调用两个类中的方法.</p><h4 id="1-创建UserService类"><a href="#1-创建UserService类" class="headerlink" title="1 创建UserService类"></a>1 创建UserService类</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;success print service&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-在Controller中注入Service"><a href="#2-在Controller中注入Service" class="headerlink" title="2 在Controller中注入Service"></a>2 在Controller中注入Service</h4><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-34-1024x378.png"></p><h4 id="3-在Controller类中调用Service"><a href="#3-在Controller类中调用Service" class="headerlink" title="3 在Controller类中调用Service"></a>3 在Controller类中调用Service</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> UserService userService;  <span class="comment">//引入UserService</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserService</span><span class="params">(UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;    <span class="comment">//添加setter方法</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;success print controller&quot;</span>);</span><br><span class="line">        userService.save();    <span class="comment">//调用save方法</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="4-运行显示成功调用"><a href="#4-运行显示成功调用" class="headerlink" title="4 运行显示成功调用"></a>4 运行显示成功调用</h4><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-36-1024x723.png"></p><h2 id="基于注解的Spring-DI实现"><a href="#基于注解的Spring-DI实现" class="headerlink" title="基于注解的Spring DI实现"></a>基于注解的Spring DI实现</h2><h4 id="1"><a href="#1" class="headerlink" title="1"></a>1</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller(&quot;userController&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line">    <span class="meta">@Resource(name = &quot;userService&quot;)</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    public void setUserService(UserService userService) &#123;</span></span><br><span class="line"><span class="comment">//        this.userService = userService;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;success print controller&quot;</span>);</span><br><span class="line">        userService.save();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-41.png"></p><p>UserService:</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-43.png"></p><h4 id="2"><a href="#2" class="headerlink" title="2"></a>2</h4><p>添加扫描器扫描包</p><p>bean被注解代替</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-45.png"></p><h4 id="3-运行项目"><a href="#3-运行项目" class="headerlink" title="3 运行项目"></a>3 运行项目</h4><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-47.png"></p><p>源文件下载:<a href="https://wwr.lanzoui.com/ijP6hu2f4sj">https://wwr.lanzoui.com/ijP6hu2f4sj</a></p>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>第一个Spring Boot入门程序</title>
      <link href="/artical/7dca1831.html"/>
      <url>/artical/7dca1831.html</url>
      
        <content type="html"><![CDATA[<p>1、基于spring框架。</p><p>2、使用“约定优先配置”的思想，优化繁琐的手动配置方式。</p><p>3、依靠大量注解，实现自动化配置。</p><p>4、Spring Boot 2.1.3版本必须要求JDK版本 8 及以上</p><p>5、第三方项目构建工具 Maven（3.3+）和Gradle（4.4+）</p><p>6、①以Maven方式构建</p><p>②以Spring Initializr 方式构建</p><p>7、@SpringBootApplication 标记为主程序启动类，是SpringBoot的核心注解。</p><p>①以Maven方式构建</p><p><strong>主程序启动类 ：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.SpringApplication;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.autoconfigure.SpringBootApplication;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootApplication</span> <span class="comment">//标记为主程序启动类</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ManualChapter01Application</span> &#123;</span><br><span class="line">    <span class="comment">//启动方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        SpringApplication.run(ManualChapter01Application.class,args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>请求处理控制类：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.controller;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestController;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HelloController</span> &#123;</span><br><span class="line">    <span class="meta">@GetMapping(&quot;/hello&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">Hello</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hello Spring Boot&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>依赖文件pom.xml:</strong></p><p>提示框选择”Enable Auto-Import” 选项,自动导入依赖</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">modelVersion</span>&gt;</span>4.0.0<span class="tag">&lt;/<span class="name">modelVersion</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>manual_chapter01<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-parent<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.3.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure><p>②以Spring Initializr 方式构建</p><p><strong>目录结构:</strong></p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-27.png"></p><p>注<strong>意:</strong> controller类的包应与主程序启动类 <em>同级</em></p><p>运行 主程序启动类:</p><p>输入 地址: Http://localhost:8080/hello</p><p>运行结果:</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/09/%E5%9B%BE%E7%89%87-28.png"></p>]]></content>
      
      
      <categories>
          
          <category> spring boot </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>6位随机验证码生成</title>
      <link href="/artical/373e32e3.html"/>
      <url>/artical/373e32e3.html</url>
      
        <content type="html"><![CDATA[<p>随机生成6位由大小写字母和数字组成的验证码</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random <span class="keyword">as</span> r</span><br><span class="line"></span><br><span class="line">code = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):  <span class="comment"># 6位验证码</span></span><br><span class="line">    state = r.randint(<span class="number">0</span>, <span class="number">2</span>)  <span class="comment"># 随机大小写字母和数字</span></span><br><span class="line">    <span class="keyword">if</span> state == <span class="number">0</span>:</span><br><span class="line">        code.append(<span class="built_in">chr</span>(r.randint(<span class="number">48</span>, <span class="number">57</span>)))  <span class="comment"># chr()转换为字符</span></span><br><span class="line">    <span class="keyword">elif</span> state == <span class="number">1</span>:</span><br><span class="line">        code.append(<span class="built_in">chr</span>(r.randint(<span class="number">65</span>, <span class="number">90</span>)))</span><br><span class="line">    <span class="keyword">elif</span> state == <span class="number">2</span>:</span><br><span class="line">        code.append(<span class="built_in">chr</span>(r.randint(<span class="number">97</span>, <span class="number">122</span>)))</span><br><span class="line"></span><br><span class="line">s = <span class="string">&quot;&quot;</span>.join(code)  <span class="comment"># 以&quot;&quot;(即空)把字符连接成字符串</span></span><br><span class="line"><span class="built_in">print</span>(s)</span><br></pre></td></tr></table></figure><p>1、需先定义一个空列表</p><p>2、根据随机的state，判断列表是数字、大写字母、小写字母。</p><p>3、append（） 向列表添加元素</p><p>4、chr（） 转换为字符 str（）转换为字符串 不一样</p><p>5、” “.join() 以空连接成字符串</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Python-turtle</title>
      <link href="/artical/a378bd8e.html"/>
      <url>/artical/a378bd8e.html</url>
      
        <content type="html"><![CDATA[<h2 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h2><p><strong>画个五角星</strong></p><p>导入turtle模块</p><p>注意:1、文件名不能以 turtle.py 命名，否则会报错：AttributeError: partially initialized module ‘turtle’ has no attribute ‘pencolor’ (most likely due to a circular import)</p><p>2、是 True 不是 Ture</p><p>代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line">t.pencolor(<span class="string">&quot;red&quot;</span>)</span><br><span class="line">t.fillcolor(<span class="string">&quot;yellow&quot;</span>)</span><br><span class="line">t.begin_fill()</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    t.forward(<span class="number">200</span>)</span><br><span class="line">    t.right(<span class="number">144</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(t.pos())&lt;<span class="number">1</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">t.end_fill()</span><br></pre></td></tr></table></figure><p>结果显示：</p><p>绘制同起点不同大小的5个五角星</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> turtle <span class="keyword">as</span> t</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">draw_fiveStars</span>(<span class="params">leng</span>):</span><br><span class="line">    count =<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> count &lt;=<span class="number">5</span>:</span><br><span class="line">        t.forward(leng)</span><br><span class="line">        t.right(<span class="number">144</span>)</span><br><span class="line">        count+=<span class="number">1</span></span><br><span class="line">    leng+=<span class="number">10</span></span><br><span class="line">    <span class="keyword">if</span> leng &lt;=<span class="number">100</span>:</span><br><span class="line">        draw_fiveStars(leng)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    t.penup()</span><br><span class="line">    t.backward(<span class="number">100</span>)</span><br><span class="line">    t.pendown()</span><br><span class="line">    t.pensize(<span class="number">2</span>)</span><br><span class="line">    t.pencolor(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">    segment =<span class="number">50</span></span><br><span class="line">    draw_fiveStars(segment)</span><br><span class="line">    t.exitonclick()</span><br><span class="line"><span class="keyword">if</span> __name__== <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>报数游戏</title>
      <link href="/artical/13253c62.html"/>
      <url>/artical/13253c62.html</url>
      
        <content type="html"><![CDATA[<p>n个人围成一圈，顺序排号，从第一个人开始报数（从1到3报数），凡报到3的人退出圈子，问最后留下的是原来几号的那位</p><p>思考:1、围成一圈？怎么围？</p><p>2、退出圈子？怎么实现。</p><p>3、怎么判断最后留下的是几号？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> n; <span class="comment">//总人数</span></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">    <span class="type">int</span> a[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) <span class="comment">//顺序排号</span></span><br><span class="line">    &#123;</span><br><span class="line">        a[i] = i + <span class="number">1</span>；</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> k = <span class="number">0</span>; <span class="comment">//报数</span></span><br><span class="line">    <span class="type">int</span> m = <span class="number">0</span>; <span class="comment">//记录退出圈子的个数</span></span><br><span class="line">    <span class="type">int</span> last;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] != <span class="number">0</span>) <span class="comment">//除去为0的</span></span><br><span class="line">        &#123;</span><br><span class="line">            k++; <span class="comment">//报数</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">3</span>) <span class="comment">//报到3退出,</span></span><br><span class="line">        &#123;</span><br><span class="line">            a[i] = <span class="number">0</span>; <span class="comment">//赋值为0,代表退出圈子;</span></span><br><span class="line">            m++;      <span class="comment">//记录一个退出</span></span><br><span class="line">            k = <span class="number">0</span>;    <span class="comment">//重新将k赋值,下次重新报数到3</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> ((n - m) == <span class="number">1</span>) <span class="comment">//当剩最后一人的时候,结束循环</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (a[j] != <span class="number">0</span>) &#123;</span><br><span class="line">                    last = a[j];</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (i == (n - <span class="number">1</span>)) <span class="comment">//围成一圈,无限循环</span></span><br><span class="line">        &#123;</span><br><span class="line">            i = <span class="number">-1</span>; <span class="comment">//当循环到最后一个时,将i重新赋值到第一个.因为会执行一次i++,所以要赋值为-1,否则会跳过第一个.</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, last);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>1、围成一圈需实现的结果就是当最后一人报数过后，到第一人报数。根据需求，列出循环，判断当循环到最后一个人的时候，重新赋值循环变量，使其重新循环到第一人。</p><p>注意：这将会导致无限循环，需想办法跳出循环。将循环变量重新赋值后，还会执行i++,再而才会进行循环条件判断,是否继续进行循环。所以要时i++后的值，指向第一个人，即i==0，所以i应赋值为-1。否则将会跳过第一个人执行循环体。</p><p>2、退出圈子，需实现的需求就是下次报数不再进行报数，或许会想到删除，将报到3的人踢出圈子，不过数组实现删除却有些麻烦，或者换成链表组成圈子，实现删除操作将会简单很多。嗯》》》不如换个思考方式，报到3的人，为他做一个标记，循环报数对有标记的人就不用报数。虽并未实际“退出圈子”，却也实现了需求。对于问题的实际需求，需灵活判断。找到效率更高的算法。</p><p>3、对一圈的人，顺序排序，当退出的人（标记的人）达到总人数减一的时候，也就是只剩下一人的时候，循环全部人，查找其中未被标记的输出即可。</p><blockquote><p>动画演示</p><p>--c</p></blockquote><p>动画也太难搞了吧。<a href="https://www.xiuzhan365.com/video-99031225.html">https://www.xiuzhan365.com/video-99031225.html</a></p>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>查询替换</title>
      <link href="/artical/c3148876.html"/>
      <url>/artical/c3148876.html</url>
      
        <content type="html"><![CDATA[<p>在s串中,寻找t串,将之替换为g串.并记录有几次替换.</p><p>例、输入:s串 regret —— t串 re —— g串 log</p><p>在s串中查询t串re，发现两处，即两次替换后，输出替换后的s串为 logglogt</p><p>实现思路</p><p>先分别定义s、t、g对应的字符数组，给上相应大小，并指向数组，分别输入s、t、g串</p><p>调用函数 replace_str ，将s、t、g作实参传入，执行查询替换</p><p>先定义一个count，作用是记录替换次数，也可作查询到几处t串</p><p>再定义的str数组及指针，储存替换后 新的字符串。</p><p>而定义的p，记录str存储进度</p><p>接下来开始循环遍历，循环次数为s串的长度，因为要将s串中的每个字符遍历一次</p><p>新定义的k，为t串的比较进度，当循环到s串的下一个字符，t串比较进度需重新刷新为0，所以在循环内部定义，且内循环每次结束k++，表示比较t串的下一个字符。</p><p>而内循环的j，会根据当前外循环的i改变而随之改变，代表s串的比较进度</p><p>内循环每次判断s串与t串中字符相等，记录相等的次数m，如次数达到t串的长度，即表示在s串中查询到一处与t串相等的地方。</p><p>例：s 串 asacadd t串ac</p><p>只有当连续两次都相等时，即a==a，c==c时，才会被记录。避免as与ac判断时，有一次相等，a==a，不满足条件。</p><p>所以进行循环后进行判断m次数，是否与t串长度相等，是，则进行循环赋值，将替换的g串赋值到str中，并且记录存储进度。而且进行了一次替换，所以count计数加一。</p><p>且下次循环将跳过t串长度-1的i,所以将i加上(strlen(t)-1)，为什么？</p><p>解释：如下次循环还按着顺序执行i++，那么在s串中寻找的t串，只会被替换一个。不符合程序设定，只能成功替换当t串长度为一的。所以每当t串被查询到一次，i循环将跳过 (strlen(t)-1) 。</p><p>例：regret 当第一次循环到re，将之替换为log后，第二次循环就应该从i指向regret中的g开始，而不是i++指向的e，因为e已经被替换掉了，不可再进行赋值到str中。</p><p>如判断为，否，则将s串中原本不动的赋值到str中，且用p记录存储进度。</p><p>整个循环结束，表示已经全部查询替换存储完成，在str最后赋值上’\0’，表示str串的结束。存储完成。</p><p>输出打印count与str串。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">replace_str</span><span class="params">(<span class="type">char</span> *s, <span class="type">char</span> *t, <span class="type">char</span> *g)</span>; <span class="comment">//替换函数</span></span><br><span class="line">    <span class="type">char</span> *s, *t, *g;</span><br><span class="line">    <span class="type">char</span> s1[<span class="number">20</span>], t1[<span class="number">5</span>], g1[<span class="number">10</span>];</span><br><span class="line">    s = s1;</span><br><span class="line">    t = t1;</span><br><span class="line">    g = g1;</span><br><span class="line">    gets(s);</span><br><span class="line">    gets(t);</span><br><span class="line">    gets(g);</span><br><span class="line">    replace_str(s, t, g);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">replace_str</span><span class="params">(<span class="type">char</span> *s, <span class="type">char</span> *t, <span class="type">char</span> *g)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> count = <span class="number">0</span>; <span class="comment">//计数</span></span><br><span class="line">    <span class="type">char</span> str1[<span class="number">100</span>];</span><br><span class="line">    <span class="type">char</span> *str;</span><br><span class="line">    str = str1;</span><br><span class="line">    <span class="type">int</span> p = <span class="number">0</span>; <span class="comment">//记录str存储进度</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(s); i++) &#123;</span><br><span class="line">        <span class="type">int</span> k = <span class="number">0</span>; <span class="comment">//循环t的比较进度</span></span><br><span class="line">        <span class="type">int</span> m = <span class="number">0</span>; <span class="comment">//记录单字符相等次数</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i; j &lt; <span class="built_in">strlen</span>(t) + i; j++, k++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (*(s + j) == *(t + k)) &#123;</span><br><span class="line">                m++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (m == <span class="built_in">strlen</span>(t)) <span class="comment">//标志在s串中找到一处与t串相同</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> n = <span class="number">0</span>; n &lt; <span class="built_in">strlen</span>(g); n++) &#123;</span><br><span class="line">                *(str + p) = *(g + n);</span><br><span class="line">                p++;</span><br><span class="line">            &#125;</span><br><span class="line">            count++;</span><br><span class="line">            i += (<span class="built_in">strlen</span>(t) - <span class="number">1</span>); <span class="comment">//跳过下...次循环</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            *(str + p) = *(s + i);</span><br><span class="line">            p++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    *(str + p) = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s\n&quot;</span>, str);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;count=%d\n&quot;</span>, count);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-22.png"></p>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>杨辉三角</title>
      <link href="/artical/4ee864f8.html"/>
      <url>/artical/4ee864f8.html</url>
      
        <content type="html"><![CDATA[<p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-21-1024x463.png"></p><p>先找出规律，发现为均上一列之和，定义两个数组，循环赋值。</p><p>例。定义a[10]={1},b[10]={1,1}</p><p>下次根据b的值,将a重新赋值.循环如此</p><p>代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[M] = &#123;<span class="number">1</span>&#125;, b[M] = &#123;<span class="number">1</span>, <span class="number">1</span>&#125;;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; M; i++) <span class="comment">//需要得到多少层的数据M</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1 &quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (i % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">            a[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++) &#123;</span><br><span class="line">                a[j] = b[j - <span class="number">1</span>] + b[j];</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            b[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">1</span>; j &lt; i; j++) &#123;</span><br><span class="line">                b[j] = a[j - <span class="number">1</span>] + a[j];</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, b[j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;1\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 1 1</span></span><br><span class="line"><span class="comment">// 1 2 1</span></span><br><span class="line"><span class="comment">// 1 3 3 1</span></span><br><span class="line"><span class="comment">// 1 4 6 4 1</span></span><br><span class="line"><span class="comment">// 1 5 10 10 5 1</span></span><br><span class="line"><span class="comment">// 1 6 15 20 15 6 1</span></span><br><span class="line"><span class="comment">// 1 7 21 35 35 21 7 1</span></span><br><span class="line"><span class="comment">// 1 8 28 56 70 56 28 8 1</span></span><br><span class="line"><span class="comment">// 1 9 36 84 126 126 84 36 9 1</span></span><br></pre></td></tr></table></figure><h2 id="比较字符串大小"><a href="#比较字符串大小" class="headerlink" title="比较字符串大小"></a>比较字符串大小</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str[<span class="number">3</span>], *max;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        str[i] = (<span class="type">char</span> *)<span class="built_in">malloc</span>(<span class="number">3</span> * <span class="keyword">sizeof</span>(<span class="type">char</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        gets(str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    max = str[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">strcmp</span>(max, str[i]) &lt; <span class="number">0</span>) &#123;</span><br><span class="line">            max = str[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, max);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>统计数据不同个数</title>
      <link href="/artical/3c161bfa.html"/>
      <url>/artical/3c161bfa.html</url>
      
        <content type="html"><![CDATA[<p>要求:输入10个数，统计10个数中，不同的个数。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-20.png"></p><p>思路：！！！！很重要</p><p>循环遍历需判断的10个数，当往后找不出相同的数时，计数加1.</p><p>例：样例1，当循环第一个数时，往后没有1了，计数加1</p><p>样例2，当循环第一个数时，往后还有1，直接跳出循环，进行下次判断，循环第二个数，但第二个数还是1，继续跳出循环，直到第5次循环，往后再没有1了，则计数加1.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">实现1</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> *a, i, j;</span><br><span class="line">    a = (<span class="type">int</span> *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(<span class="type">int</span>) * <span class="number">10</span>); <span class="comment">//创建一个int形 10个int大小的存储空间</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)             <span class="comment">//输入</span></span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, a + i);</span><br><span class="line">    <span class="type">int</span> flag = <span class="number">0</span>; <span class="comment">//计数不同个数,初始值为0</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">9</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = i - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--)</span><br><span class="line">            <span class="keyword">if</span> (*(a + i) == *(a + j))</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span> (j == <span class="number">-1</span>)</span><br><span class="line">            flag++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, flag);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>实现2</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 10 <span class="comment">//数组长度,即需要判断的数据长度</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[M], sum = <span class="number">0</span>, flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; M; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (a[i] == a[j]) <span class="comment">//循环判断到 最后一个</span></span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">            sum++;</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, sum);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="统计字符串相同的个数"><a href="#统计字符串相同的个数" class="headerlink" title="统计字符串相同的个数"></a>统计字符串相同的个数</h2><p>例:aabbbcc</p><p>a:2</p><p>b:3</p><p>c:2</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span> sum = <span class="number">1</span>; <span class="comment">//计数,初始为1</span></span><br><span class="line">    gets(str);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="built_in">strlen</span>(str); i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; <span class="built_in">strlen</span>(str); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (str[i] == str[j]) &#123;</span><br><span class="line">                sum++; <span class="comment">//循环到相同的,计数加一</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c:%d\n&quot;</span>, str[i], sum);</span><br><span class="line">        sum = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>思路与上大概一致</p>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>素数</title>
      <link href="/artical/78975c89.html"/>
      <url>/artical/78975c89.html</url>
      
        <content type="html"><![CDATA[<h2 id="什么是素数"><a href="#什么是素数" class="headerlink" title="什么是素数?"></a>什么是素数?</h2><p>_素数_一般指_质数_。_质数_是指在大于1的自然数中，除了1和它本身以外不再有其他因数的自然数。</p><p>曾称质数。一个大于1的正整数，如果除了1和它本身以外，不能被其他正整数整除，就叫素数。</p><p>要求：输出1~200之间的所有素数。</p><p>思路：先定义一个数组，由于不清楚200内素数有多少个，不知道定义多大，但可以肯定不超过200。如果稍微判断，可以肯定不超过100个，因为除了2，所有偶数都不是素数，都可以被2整除。所以，先定义一个数组存放素数，大小100就够，即int a[100]。</p><p>循环判断3-199之间的所有数 i ，每次将其循环与2到当前数本身减去1，即 i % j 取余，</p><p>如遇到一个可以被整除的，那么i就不是素数，将flag赋值为0，标志当前的i不为素数，以便后面进行判断。且不必再进行判断后面的j了，直接break跳出内循环。</p><p>初步代码如下：（有错误）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">100</span>], flag = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt; <span class="number">200</span>; i++) <span class="comment">// i为1~200内的整数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>) &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="type">int</span> k = <span class="number">0</span>; <span class="comment">//不能再内部赋值,否则每次循环执行时.将会重新赋值</span></span><br><span class="line">            a[k] = i;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) <span class="comment">//不能直接输出全部,有的并没有值</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>修正代码如下</strong></p><p>注意1、两次循环的初始条件，为什么？</p><p>2、flag及k的作用，默认值。</p><p>3、每完成一次外循环，就需要将flag重新赋值为1，为什么？</p><p>因为循环是默认在flag=1的条件下进行的，循环内的语句可能改变flag的值，再下次循环默认为0的话，将会得出错误结果。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">100</span>], flag = <span class="number">1</span>, k = <span class="number">1</span>;</span><br><span class="line">    a[<span class="number">0</span>] = <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">3</span>; i &lt; <span class="number">200</span>; i++) <span class="comment">// i为3~200内的整数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt; i; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i % j == <span class="number">0</span>) <span class="comment">//判断_如果i被j整除了,那么i不是素数,后面不用再循环判断,break跳出循环.</span></span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>; <span class="comment">// i不是素数</span></span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">            a[k] = i;</span><br><span class="line">            k++;</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="number">1</span>; <span class="comment">//每次循环完,将flag重新赋值为1!!!</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; k; i++) <span class="comment">//总共有k个素数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, a[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>略微修改</p><p>输入一个整数,判断是否为素数</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a, flag = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入一个整数:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">2</span>; j &lt; a; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (a % j == <span class="number">0</span>) <span class="comment">//判断_如果a被j整除了,那么a不是素数,后面不用再循环判断,break跳出循环.</span></span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="number">0</span>; <span class="comment">// a不是素数</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d不是一个素数,它能被%d整除&quot;</span>, a, j);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d是一个素数&quot;</span>, a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>字符排序2</title>
      <link href="/artical/a3935f3f.html"/>
      <url>/artical/a3935f3f.html</url>
      
        <content type="html"><![CDATA[<p>要求: 按照字母顺序排列,不区分大小写.</p><p>例: a(ASClL码97) 应该排列在 B(ASCLL码66)的前面.</p><p>A(ASClL码65) 也应该排列在 B(ASCLL码66)的前面.</p><p>思路1:统一字符大小写,将所有字母统一改为小写,即ASCLLL码在65~90范围的字母,加上32,转换为小写,再根据ASCLL码由小到大排序.</p><p><strong>问题</strong>: ASCLLL码在65~90范围的字母,加上32,转换为小写, 暂时无法实现</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 8</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str[M] = &#123;<span class="string">&quot;BASIC&quot;</span>, <span class="string">&quot;Computer&quot;</span>, <span class="string">&quot;design&quot;</span>, <span class="string">&quot;FORTRAN&quot;</span>, <span class="string">&quot;Follow&quot;</span>, <span class="string">&quot;me&quot;</span>, <span class="string">&quot;Great&quot;</span>, <span class="string">&quot;Wall&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="built_in">strlen</span>(str[i]); j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((<span class="type">int</span>)*(str[i] + j) &lt; <span class="number">97</span>) <span class="comment">//判断大写字母</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// *(str[i]+j)+=32;</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;%c  &quot;</span>, *(str[i] + j) + <span class="number">32</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// printf(&quot;%c &quot;,*(str[i]+j));</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>解决:strlwr()函数,将所有大写字母转化为小写.</p><p>将指针字符数组改为二维数组</p><p>新定义一个二维数组str1，将str复制到str1，目的是将操作都在str1中执行，不改变原数组中的内容。</p><p>利用strlwr（）函数，将str1中字母都转为小写后，应用strcmp（）函数比较str1的ASCLL码大小，对两个数组都进行冒泡排序，即str与str1的存储顺序将会保持一致，不一样的只是str中含有大写，而str1中都转为了小写，不含有大写字母。</p><p>最后输出str数组。</p><p>为什么要先转为小写再比较？</p><p>并不是非要转为小写，利用strupr（）函数转为大写也可以，目的是统一大小写。</p><p>否则直接排序会将大写的全部先输出了，再输出小写的。（因为ASCLL码中大写字母比小写字母小），即 B 将会 排序 到 a 前面，但这并不是我们想要的排序结果。</p><p>实现代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 8  <span class="comment">//单词个数</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 10 <span class="comment">//单词最大长度</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[M][N] = &#123;<span class="string">&quot;BASIC&quot;</span>, <span class="string">&quot;Computer&quot;</span>, <span class="string">&quot;design&quot;</span>, <span class="string">&quot;ancestor&quot;</span>, <span class="string">&quot;Follow&quot;</span>, <span class="string">&quot;English&quot;</span>, <span class="string">&quot;Great&quot;</span>, <span class="string">&quot;Horion&quot;</span>&#125;, str1[M][N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="built_in">strcpy</span>(str1[i], str[i]); <span class="comment">//复制到str1,不改变内容,只改变顺序.</span></span><br><span class="line">        strlwr(str1[i]);         <span class="comment">//将str1改为小写输出</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; M; j++) <span class="comment">//冒泡排序</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M - j - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str1[i], str1[i + <span class="number">1</span>]) &gt; <span class="number">0</span>) <span class="comment">//注意!!!!惊天妙手,为什么要两个数组的都要交换?</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">char</span> temp[N];</span><br><span class="line">                <span class="built_in">strcpy</span>(temp, str[i]); <span class="comment">//字符串的赋值方式!!</span></span><br><span class="line">                <span class="built_in">strcpy</span>(str[i], str[i + <span class="number">1</span>]);</span><br><span class="line">                <span class="built_in">strcpy</span>(str[i + <span class="number">1</span>], temp);</span><br><span class="line"></span><br><span class="line">                <span class="built_in">strcpy</span>(temp, str1[i]); <span class="comment">//因为要保持数据的一致性</span></span><br><span class="line">                <span class="built_in">strcpy</span>(str1[i], str1[i + <span class="number">1</span>]);</span><br><span class="line">                <span class="built_in">strcpy</span>(str1[i + <span class="number">1</span>], temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) <span class="comment">//输出</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">// ancestor BASIC Computer design English Follow Great Horion</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>整数排序</title>
      <link href="/artical/e89f0eed.html"/>
      <url>/artical/e89f0eed.html</url>
      
        <content type="html"><![CDATA[<h3 id="对10个整数由大到小排序"><a href="#对10个整数由大到小排序" class="headerlink" title="对10个整数由大到小排序"></a>对10个整数由大到小排序</h3><p><strong>指针</strong></p><p>思路：10次外循环，第一次循环输出最大的，第二次循环输出第二大的，以此类推。</p><p>注意：这将会改变原数组内的值。且输入的整数不可以有负数，否则将排序错乱。</p><p>思考改进：如何不改变原数组的值？</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>], *p;</span><br><span class="line">    <span class="keyword">for</span> (p = a; p &lt; a + <span class="number">10</span>; p++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)<span class="comment">//找出最大值</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (*p &lt; a[i])</span><br><span class="line">            &#123;</span><br><span class="line">                p = &amp;a[i];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *p);</span><br><span class="line">        *p=<span class="number">0</span>; <span class="comment">//将指向最大的数,重新赋值为0,下次循环将找出第二大的,       </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>冒泡排序法</strong></p><p>对数组利用冒泡排序法,重新排序,不会改变数组内的值,但会改变存储顺序.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> a[<span class="number">10</span>], *p;</span><br><span class="line">    <span class="keyword">for</span> (p = a; p &lt; a + <span class="number">10</span>; p++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (p = a; p &lt; a + <span class="number">10</span>-i; p++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (*p&lt;*(p+<span class="number">1</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> temp;</span><br><span class="line">                temp=*p;</span><br><span class="line">                *p=*(p+<span class="number">1</span>);</span><br><span class="line">                *(p+<span class="number">1</span>)=temp;</span><br><span class="line">            &#125;   </span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (p = a; p &lt; a + <span class="number">10</span>; p++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *p);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如不想改变原数组,可以复制出一个数组进行排序操作.</p>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>关于建站</title>
      <link href="/artical/b8d057a.html"/>
      <url>/artical/b8d057a.html</url>
      
        <content type="html"><![CDATA[<p>关于建站吧，我也不是太懂，就讲一下这个网站是怎么搭建的吧。也可以当作一个简单的教程，或者参考。</p><p>想拥有一个属于自己的网站，第一步当然是得拥有属于一个自己的域名啦。域名是神马？以下内容来自百科（<a href="https://baike.baidu.com/item/%E5%9F%9F%E5%90%8D/86062?fr=aladdin">https://baike.baidu.com/item/%E5%9F%9F%E5%90%8D/86062?fr=aladdin</a>）</p><p><strong>域名</strong>（英语：<strong>Domain Name</strong>），又称<strong>网域</strong>，是由一串用点分隔的名字组成的<a href="https://baike.baidu.com/item/Internet">Internet</a>上某一台<a href="https://baike.baidu.com/item/%E8%AE%A1%E7%AE%97%E6%9C%BA/140338">计算机</a>或计算机组的名称，用于在数据传输时对计算机的定位标识（有时也指地理位置）。 [1]  由于<a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80/150859">IP地址</a>具有不方便记忆并且不能显示地址组织的名称和性质等缺点，人们设计出了域名，并通过网域名称系统（<a href="https://baike.baidu.com/item/DNS">DNS</a>，Domain Name System）来将域名和<a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80">IP地址</a>相互<a href="https://baike.baidu.com/item/%E6%98%A0%E5%B0%84/20402621">映射</a>，使人更方便地访问<a href="https://baike.baidu.com/item/%E4%BA%92%E8%81%94%E7%BD%91/199186">互联网</a>，而不用去记住能够被机器直接读取的<a href="https://baike.baidu.com/item/IP%E5%9C%B0%E5%9D%80">IP地址</a>数串。 [1]  </p><p>其实也没那么复杂，就是一个网站地址。那怎么才能拥有呢？网站域名可以在中国最大的域名注册服务商——万网（<a href="https://wanwang.aliyun.com/">https://www.net.cn</a>），进行购买注册，不过现在万网被阿里收购了。价格根据域名不同而有所不同，价格差距或有天壤之别。一般情况下 例如: 以.com、 .cn 等较为常见的域名后缀，价格较高。对于新手小白，或者只是玩玩而已，可以找个便宜一点的，也有几块十几块一年的（有钱另当别论）。对于新用户，一般还有优惠活动，可以省下一小笔money，我记得我第一个域名就只用了1块，第二个也就11块，对于现在学生一般也能接受。域名起名的话，一般以好记，或有什么特殊意义，没什么特殊要求，你想起啥就起啥，只要还未被抢先注册。因为域名遵循：先注册先得的原则。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-12-1024x479.png"></p><p>那有了域名以后呢，还需要对域名进行实名认证。可以在阿里云平台上找到你购买的域名，找到实名认证入口，进行实名认证。第一步就基本完成啦。</p><p>第二步，就是需要运行网站的服务器（<a href="https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/100571?fr=aladdin">https://baike.baidu.com/item/%E6%9C%8D%E5%8A%A1%E5%99%A8/100571?fr=aladdin</a>）了。服务器有好多好多种，按需购买就好，我也不知道服务器各个的使用方法。对于个人学习网站，也没有必要买太好，能用就好。我买的是 云轻量应用服务器（<a href="https://www.aliyun.com/product/swas?spm=5176.12157752.J_8058803260.97.3718424cBPhO8U">https://www.aliyun.com/product/swas?spm=5176.12157752.J_8058803260.97.3718424cBPhO8U</a>），这里要注意了，买国内（除中国香港）的服务器是需要进行网站备案的，而国外的不需要。 网站备案需要购买有三个月及以上的服务器时长，且备案审核时间一般为6~20个工作日，根据所在省份，具体所需资料有所不同。</p><p>实例类型选择 服务器类型</p><p>地域和可用区 选择国内的需备案，国外的不需备案，但会有延迟。我选择的国内的上海。</p><p>镜像 我选择的wordpress，比较方便，快捷。选择参考文章（<a href="https://blog.csdn.net/wx_15323880413/article/details/108091161">https://blog.csdn.net/wx_15323880413/article/details/108091161</a>）</p><p>配置 选最便宜的就够了</p><p>数据盘 就0就OK，不用额外增加了</p><p>时长可以先3个月试试，如果可以再考虑续费。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-14-932x1024.png"></p><p>不过国内的网站访问速度相较于国外的会快很多，价格方面原价是比较贵的，但是不要忘了，我们还有新用户优惠，我买了4个月的服务器也只用了不到40块。拥有域名后，在服务器上解析域名，以后不但可以通过公网ip访问，也可以通过域名进行访问你的网站了，当然，一个服务器是可以绑定多个域名的，不过域名是需要实名的，好像一个人最多可以实名5个域名。有了服务器就需要填写资料进行网站备案了，这一步往往比较复杂，填写的信息比较多，还需验证等待等。按照提示一步一步做就可以了。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-15-1024x479.png"></p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-18-1024x609.png"></p><p>备案通过后，找到服务器，获取密码远程连接wordpress，登录wordpress就可以自定义建设你的网站啦。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-16-1024x474.png"></p><p>wordpress界面</p><p>功能还是比较全面的，不用自己一点一点写网站代码。但也造成了一些局限性。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-17-1024x478.png"></p><p>网站搭建后，还有一点需要注意，还需进行ICP备案后处理（<a href="https://help.aliyun.com/document_detail/146190.html?spm=a2c4g.11186623.6.667.6610593bQkCb3D">https://help.aliyun.com/document_detail/146190.html?spm=a2c4g.11186623.6.667.6610593bQkCb3D</a>）。</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-19-1024x899.png"></p>]]></content>
      
      
      <categories>
          
          <category> 建站 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>字符排序</title>
      <link href="/artical/20353b76.html"/>
      <url>/artical/20353b76.html</url>
      
        <content type="html"><![CDATA[<h2 id="要求"><a href="#要求" class="headerlink" title="要求"></a>要求</h2><p>将字符串按ASCLL码升序排序</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-7.png"></p><h3 id="冒泡排序法"><a href="#冒泡排序法" class="headerlink" title="冒泡排序法"></a>冒泡排序法</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 5</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str[M] = &#123;<span class="string">&quot;China&quot;</span>, <span class="string">&quot;Japan&quot;</span>, <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;American&quot;</span>, <span class="string">&quot;England&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; M; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M - j - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str[i], str[i + <span class="number">1</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">char</span> *temp;</span><br><span class="line">                temp = str[i];</span><br><span class="line">                str[i] = str[i + <span class="number">1</span>];</span><br><span class="line">                str[i + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, str[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>输出//China American England Japan Korea</p><p>结果错误</p><p>不能再内部循环中输出, 为啥????</p><p>因为 在j=0的时候,内循环完成排序为 C J A E K ,并未完全排序完成,就已经执行了打印语句,输出了str[0] ,即”China”,余下相同原因.</p><p>应后面另外加输出语句,代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 5</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str[M] = &#123;<span class="string">&quot;China&quot;</span>, <span class="string">&quot;Japan&quot;</span>, <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;American&quot;</span>, <span class="string">&quot;England&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; M; j++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M - j - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str[i], str[i + <span class="number">1</span>]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">char</span> *temp;</span><br><span class="line">                temp = str[i];</span><br><span class="line">                str[i] = str[i + <span class="number">1</span>];</span><br><span class="line">                str[i + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, str[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, str[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">// China American England Japan Korea</span></span><br><span class="line"><span class="comment">// American China England Japan Korea</span></span><br><span class="line"><span class="comment">//排序过程</span></span><br><span class="line"><span class="comment">// C J K A E</span></span><br><span class="line"><span class="comment">// C J K A E</span></span><br><span class="line"><span class="comment">// C J A K E</span></span><br><span class="line"><span class="comment">// C J A E K</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// C J A E K</span></span><br><span class="line"><span class="comment">// C A J E K</span></span><br><span class="line"><span class="comment">// C A E J K</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A C E J K</span></span><br><span class="line"><span class="comment">// A C E J K</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A C E J K</span></span><br></pre></td></tr></table></figure><h3 id="不知名-排序-我不知道哈哈"><a href="#不知名-排序-我不知道哈哈" class="headerlink" title="不知名 排序(我不知道哈哈)"></a>不知名 排序(我不知道哈哈)</h3><p>这个在内部输出正确的,是因为在完成第一次内部循环时,排序为A J K C E,输出了str[0],即”American”</p><p>第二次内部循环时,排序为A C J K E,输出了str[1],即”China”,</p><p>…….余下同样原理,</p><p>不具有普遍性,不建议使用</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 5</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *str[M] = &#123;<span class="string">&quot;China&quot;</span>, <span class="string">&quot;Japan&quot;</span>, <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;American&quot;</span>, <span class="string">&quot;England&quot;</span>&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = i + <span class="number">1</span>; j &lt; M; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(str[i], str[j]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="type">char</span> *temp;</span><br><span class="line">                temp = str[i];</span><br><span class="line">                str[i] = str[j];</span><br><span class="line">                str[j] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, str[i]); <span class="comment">//最好不在内部输出,另起一个循环输出</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//排序过程</span></span><br><span class="line"><span class="comment">// C J K A E</span></span><br><span class="line"><span class="comment">// C J K A E</span></span><br><span class="line"><span class="comment">// A J K C E</span></span><br><span class="line"><span class="comment">// A J K C E</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A J K C E</span></span><br><span class="line"><span class="comment">// A C K J E</span></span><br><span class="line"><span class="comment">// A C J K E</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A C J K E</span></span><br><span class="line"><span class="comment">// A C E K J</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// A C E J K</span></span><br></pre></td></tr></table></figure><h3 id="简单选择排序"><a href="#简单选择排序" class="headerlink" title="简单选择排序"></a>简单选择排序</h3><p>效率最高,只用执行3次交换.</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> *n[] = &#123;<span class="string">&quot;China&quot;</span>, <span class="string">&quot;Japan&quot;</span>, <span class="string">&quot;Korea&quot;</span>, <span class="string">&quot;American&quot;</span>, <span class="string">&quot;England&quot;</span>&#125;, *temp;</span><br><span class="line">    <span class="type">int</span> i, j, k;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">        k = i;</span><br><span class="line">        <span class="keyword">for</span> (j = i + <span class="number">1</span>; j &lt; <span class="number">5</span>; j++)</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(n[k], n[j]) &gt; <span class="number">0</span>)</span><br><span class="line">                k = j; <span class="comment">//找出最小值</span></span><br><span class="line">        <span class="keyword">if</span> (k != i) &#123;</span><br><span class="line">            temp = n[k];</span><br><span class="line">            n[k] = n[i];</span><br><span class="line">            n[i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, n[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>怎么运行排序的呢?</p><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-8-1024x622.png"></p><p>思路:第一次外循环从5个字符串中,找出最小的一个,交换到第一个位置。</p><p>第二次外循环 从后4个字符串中,找出最小的一个,交换到第二个位置。</p><p>…..余下原理相同,</p><p>即最多执行5次交换,最少0次,效率最高.</p><p>妙啊</p><p>以下为了方便,统一用字符串的首字母代表字符串.例: C 即代表 “China”</p><p>可以发现，只进行了三次交换</p><p>第一次交换 ： A J K C E</p><p>第二次交换 : A C K J E</p><p>第三次交换: A C E J K</p><p>可以得出，第一次交换完成后，得到的排序应是 A J K C E 。在进行第二次外循环的时候，即i=1时，内循环中 j=i+1=2，循环条件为 j&lt;5 ，循环变量增值为 j++，所以理论上会循环j=2,j=3,j=4 ，一共3次。</p><p>循环中的判断条件为 strcmp(n[k],n[j])&gt;0 ，即当n[k]&gt;n[j]时，条件成立，执行if内语句，否者将不执行。</p><p>前有赋值语句k=i，如果只讨论第二次外循环，在内循环中，k的值可以确定为与i相等，即k=1。而j的可能值前已经讨论过了，一共有三个值，分别是2，3，4。</p><p>现在我们分三种情况，讨论内循环中判断语句的执行情况。</p><p>1、当k=1，j=2时， n[k] = n[1]= J ， n[j] = n[2] = K ，在ASCLL码中，J小于K，所以 n[k]&gt;n[j] 不成立，不执行条件语句。</p><p>2、当k=1，j=3时， n[k] = n[1]= J ， n[j] = n[3] = C ， 在ASCLL码中，J大于C，所以 n[k]&gt;n[j] 成立， 应当执行if内的赋值语句k=j，将当前j的值赋值给k。 注意：！！！！此时k值改变，下次循环将比较 n[3]与n[4] 。</p><p>3、当j=4时， n[j] = n[4] = E，注意，k不再等于1了， 上次循环已经改变k的值，k=3。所以 n[k] = n[3]= C， 在ASCLL码中，C小于E， 所以 n[k]&gt;n[j] 不成立，不执行条件语句。</p><p>余下以此类推…</p>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>ASCLL字符加密</title>
      <link href="/artical/59dc3bf9.html"/>
      <url>/artical/59dc3bf9.html</url>
      
        <content type="html"><![CDATA[<h2 id="大致要求"><a href="#大致要求" class="headerlink" title="大致要求:"></a>大致要求:</h2><p>静态:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> d, slen = <span class="number">6</span>;</span><br><span class="line">    <span class="type">char</span> *a = <span class="string">&quot;Weihua&quot;</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; slen; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((i + slen / <span class="number">2</span>) &gt; <span class="number">5</span>) &#123;</span><br><span class="line">            d = (<span class="type">int</span>)*(a + i) - (<span class="type">int</span>)*(a + i + slen / <span class="number">2</span> - <span class="number">6</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            d = (<span class="type">int</span>)*(a + i) - (<span class="type">int</span>)*(a + i + slen / <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (; d &lt; <span class="number">97</span>; d += <span class="number">26</span>)</span><br><span class="line">            ;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>新增可动态输入:</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> d, slen;</span><br><span class="line">    <span class="type">char</span> *a, b[<span class="number">20</span>];</span><br><span class="line">    a = b;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;please enter:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, a);</span><br><span class="line">    slen = <span class="built_in">strlen</span>(a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%s &quot;</span>, a);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; slen; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> ((i + slen / <span class="number">2</span>) &gt; <span class="number">5</span>) <span class="comment">//使字符串首位相接</span></span><br><span class="line">        &#123;</span><br><span class="line">            d = (<span class="type">int</span>)*(a + i) - (<span class="type">int</span>)*(a + i + slen / <span class="number">2</span> - <span class="number">6</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            d = (<span class="type">int</span>)*(a + i) - (<span class="type">int</span>)*(a + i + slen / <span class="number">2</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (; d &lt; <span class="number">97</span>; d += <span class="number">26</span>)</span><br><span class="line">            ;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, d);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>动态数组筛选</title>
      <link href="/artical/6213299b.html"/>
      <url>/artical/6213299b.html</url>
      
        <content type="html"><![CDATA[<p>要求：建立一个动态数组，输入N个学生成绩，筛选出未及格的学生成绩</p><p>利用malloc函数开辟动态存储空间（头部需导入&lt;stdlib.h&gt;文件）,调用check()判断输出.代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> N 5</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span> *)</span>;</span><br><span class="line">    <span class="type">int</span> *p1;</span><br><span class="line">    p1 = (<span class="type">int</span> *)<span class="built_in">malloc</span>(N * <span class="keyword">sizeof</span>(<span class="type">int</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;please enter:&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, p1 + i);</span><br><span class="line">    &#125;</span><br><span class="line">    check(p1);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">int</span> <span class="title function_">check</span><span class="params">(<span class="type">int</span> *p)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; N; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (*(p + i) &lt; <span class="number">60</span>) &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;%d &quot;</span>, *(p + i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>结构数组排序</title>
      <link href="/artical/37b3ddae.html"/>
      <url>/artical/37b3ddae.html</url>
      
        <content type="html"><![CDATA[<p>要求：定义有M个同学,每个学生有学号、姓名、分数。现将每个学生的信息按分数由高到低输出。</p><p>利用冒泡排序法对结构体数组重新排序，再打印输出。代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">//声明一个名字为Student的数据类型</span></span><br><span class="line"><span class="comment">// your code</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> M 5</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//your code begin</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">Student</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="type">int</span> num;</span><br><span class="line">        <span class="type">char</span> *name;</span><br><span class="line">        <span class="type">float</span> score;</span><br><span class="line">    &#125; stu[M] = &#123;&#123;<span class="number">10101</span>, <span class="string">&quot;Zhang&quot;</span>, <span class="number">78</span>&#125;, &#123;<span class="number">10103</span>, <span class="string">&quot;Wang&quot;</span>, <span class="number">98.5</span>&#125;, &#123;<span class="number">10106</span>, <span class="string">&quot;Li&quot;</span>, <span class="number">86</span>&#125;, &#123;<span class="number">10108</span>, <span class="string">&quot;Ling&quot;</span>, <span class="number">73.5</span>&#125;, &#123;<span class="number">10110</span>, <span class="string">&quot;Fun&quot;</span>, <span class="number">100</span>&#125;&#125;;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M - j; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (stu[i].score &lt; stu[i + <span class="number">1</span>].score)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="class"><span class="keyword">struct</span> <span class="title">Student</span> <span class="title">temp</span>;</span></span><br><span class="line">                temp=stu[i];</span><br><span class="line">                stu[i]=stu[i+<span class="number">1</span>];</span><br><span class="line">                stu[i+<span class="number">1</span>]=temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; M; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">/* code */</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d %s %.2f\n&quot;</span>, stu[i].num, stu[i].name, stu[i].score);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//your code end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>回文数判断</title>
      <link href="/artical/17704cf2.html"/>
      <url>/artical/17704cf2.html</url>
      
        <content type="html"><![CDATA[<h2 id="什么是回文数-摘自百度百科"><a href="#什么是回文数-摘自百度百科" class="headerlink" title="什么是回文数?(摘自百度百科)"></a>什么是回文数?(摘自百度百科)</h2><p>“回文”是指正读反读都能读通的句子，它是古今中外都有的一种修辞方式和文字游戏，如“我为人人，人人为我”等。在数学中也有这样一类数字有这样的特征，成为回文数（palindrome number）。 [1]  设n是一任意自然数。若将n的各位数字反向排列所得自然数n1与n相等，则称n为一回文数。例如，若n=1234321，则称n为一回文数；但若n=1234567，则n不是回文数。 [1]  </p><p>注意：1.偶数个的数字也有回文数124421</p><p>2.小数没有回文数</p><p>中文名 回文数</p><p>外文名 palindrome number</p><p>定    义 正读倒读都一样的整数</p><p>增加一个定义判断: 输入字符判断</p><p>例:abcdcba</p><h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><p>利用 正读倒读都一样 的特性,先将字符数组倒转,判断与原数组是否相等,相等则判断为回文,否则输出 No. 代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> h[<span class="number">20</span>], n[<span class="number">20</span>];</span><br><span class="line">    <span class="type">int</span> mid, d;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;请输入:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, h);</span><br><span class="line">    <span class="built_in">strcpy</span>(n, h); <span class="comment">// strcpy函数,将h复制给n</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;输出n:%s\n&quot;</span>, n);</span><br><span class="line">    d = <span class="built_in">strlen</span>(h); <span class="comment">// strlen函数 直接输出数组长度,或者下面方法循环计数得出</span></span><br><span class="line">    <span class="comment">// for (d = 0; h[d] != &#x27;\0&#x27;; d++); //计数,输入的字符长度i</span></span><br><span class="line">    mid = d / <span class="number">2</span>;</span><br><span class="line">    <span class="comment">//倒换字符数组</span></span><br><span class="line">    <span class="keyword">if</span> (d % <span class="number">2</span> == <span class="number">0</span>) <span class="comment">//长度为偶数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; mid; i++) &#123;</span><br><span class="line">            <span class="type">char</span> temp;</span><br><span class="line">            temp = h[mid + i];</span><br><span class="line">            h[mid + i] = h[mid - <span class="number">1</span> - i];</span><br><span class="line">            h[mid - <span class="number">1</span> - i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="comment">//长度为奇数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt;= mid; i++) &#123;</span><br><span class="line">            <span class="type">char</span> temp;</span><br><span class="line">            temp = h[mid + i];</span><br><span class="line">            h[mid + i] = h[mid - i];</span><br><span class="line">            h[mid - i] = temp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;输出h:%s,长度%d\n&quot;</span>, h, d);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">strcmp</span>(h, n) == <span class="number">0</span>) <span class="comment">// strcmp函数 比较两个字符串大小,相等则为0;</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s 是回文数&quot;</span>, n);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s 不是回文数&quot;</span>, n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><p>利用两个指针分别指向字符数组头尾,循环判断每次是否相等.代码如下</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">void</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">81</span>], *p, *q;</span><br><span class="line">    gets(str); <span class="comment">//输入得到 字符窜</span></span><br><span class="line">    <span class="keyword">for</span> (q = str; *q != <span class="string">&#x27;\0&#x27;</span>; q++)</span><br><span class="line">        ; <span class="comment">//将q指针循环指向到数组中最后一位,即指向 &#x27;\0&#x27;</span></span><br><span class="line">    <span class="comment">// q-- ,使q指针指向数组最后一个字符,而不是结束字符 &#x27;\0&#x27;</span></span><br><span class="line">    <span class="comment">// p=str  使p指针指向数组第一个字符</span></span><br><span class="line">    <span class="comment">//当p&lt;q,且指向的字符相等,执行循环.</span></span><br><span class="line">    <span class="comment">//当p&gt;=q,说明循环执行完成,是回文数</span></span><br><span class="line">    <span class="keyword">for</span> (p = str, q--; (p &lt; q) &amp;&amp; (*p == *q); p++, q--)</span><br><span class="line">        ;</span><br><span class="line">    <span class="keyword">if</span> (p &lt; q)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;no&quot;</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;yes&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>动态链表节点删除</title>
      <link href="/artical/c23edc96.html"/>
      <url>/artical/c23edc96.html</url>
      
        <content type="html"><![CDATA[<p>链表是一种常见的重要的数据结构，他是动态的进行存储分配的一种结构。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;malloc.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span>               <span class="comment">//动态分配内存引入</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> NC sizeof(struct student) <span class="comment">//宏定义内存大小</span></span></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">student</span>                    //定义结构体数据类型</span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> num;              <span class="comment">//学号</span></span><br><span class="line">    <span class="type">int</span> score;            <span class="comment">//分数</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">next</span>;</span> <span class="comment">//下一个结点地址</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="type">int</span> N; <span class="comment">//全局变量,表示链表节点数</span></span><br><span class="line"><span class="comment">//函数声明</span></span><br><span class="line"><span class="keyword">struct</span> student *<span class="title function_">creat</span><span class="params">(<span class="type">void</span>)</span>; <span class="comment">//创建链表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">()</span>;                <span class="comment">//打印函数</span></span><br><span class="line"><span class="keyword">struct</span> student *<span class="title function_">del</span><span class="params">()</span>;       <span class="comment">//删除函数</span></span><br><span class="line"><span class="comment">//主函数</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">stu</span>, *<span class="title">p</span>;</span></span><br><span class="line">    <span class="type">int</span> num; <span class="comment">//定义需删除的数据的num号</span></span><br><span class="line"></span><br><span class="line">    stu = creat(); <span class="comment">//创建链表,返回头指针head</span></span><br><span class="line">    p = stu;</span><br><span class="line">    print(p); <span class="comment">//打印数据</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Please input the num to delete:&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;num);</span><br><span class="line">    print(del(p, num)); <span class="comment">//调用del函数后,返回头指针,重新传递给print函数打印出数据</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n\n&quot;</span>);</span><br><span class="line">    system(<span class="string">&quot;pause&quot;</span>); <span class="comment">//就是暂停程序的执行，等待任意健继续执行,查看结果,防止一闪而过</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//创建链表</span></span><br><span class="line"><span class="keyword">struct</span> student *<span class="title function_">creat</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p1</span>, *<span class="title">p2</span>, *<span class="title">head</span>;</span></span><br><span class="line">    p1 = p2 = (<span class="keyword">struct</span> student *)<span class="built_in">malloc</span>(NC); <span class="comment">//动态分配内存大小</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;please input num :&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;p1-&gt;num);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;please input score :&quot;</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;p1-&gt;score);</span><br><span class="line">    head = <span class="literal">NULL</span>; <span class="comment">//初始化</span></span><br><span class="line">    N = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p1-&gt;num) &#123;</span><br><span class="line">        N++;</span><br><span class="line">        <span class="keyword">if</span> (N == <span class="number">1</span>) &#123;</span><br><span class="line">            head = p1;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            p2-&gt;next = p1;</span><br><span class="line">        &#125;</span><br><span class="line">        p2 = p1;</span><br><span class="line">        p1 = (<span class="keyword">struct</span> student *)<span class="built_in">malloc</span>(NC);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\nplease input num :&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;p1-&gt;num);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;please input score :&quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;p1-&gt;score);</span><br><span class="line">    &#125;</span><br><span class="line">    p2-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出链表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">print</span><span class="params">(<span class="keyword">struct</span> student *head)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p</span>;</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\nThere are %d records!\n&quot;</span>, N);</span><br><span class="line">    p = head;</span><br><span class="line">    <span class="keyword">if</span> (head) &#123;</span><br><span class="line">        <span class="keyword">do</span> &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;学号为%d的同学成绩是:%d\n&quot;</span>, p-&gt;num, p-&gt;score);</span><br><span class="line">            p = p-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">while</span> (p); <span class="comment">// p为NULL时停止循环</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//删除结点</span></span><br><span class="line"><span class="keyword">struct</span> student *<span class="title function_">del</span><span class="params">(<span class="keyword">struct</span> student *head, <span class="type">int</span> num)</span> <span class="comment">//形参</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">student</span> *<span class="title">p1</span>, *<span class="title">p2</span>;</span></span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\nThis is a NULL chart!&quot;</span>);</span><br><span class="line">        <span class="keyword">goto</span> END; <span class="comment">//判断链表为空,直接跳转到返回语句</span></span><br><span class="line">    &#125;</span><br><span class="line">    p1 = head; <span class="comment">//不为空赋值给p1</span></span><br><span class="line">    <span class="keyword">while</span> (p1-&gt;num != num &amp;&amp; p1-&gt;next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        p2 = p1;</span><br><span class="line">        p1 = p1-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (num == p1-&gt;num) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p1 == head) &#123;</span><br><span class="line">            <span class="comment">/* code */</span></span><br><span class="line">            head = p1-&gt;next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            p2-&gt;next = p1-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\nDelete num:%d data success!&quot;</span>, num);</span><br><span class="line">        N--;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\nnum:%d not been found!&quot;</span>, num);</span><br><span class="line">    &#125;</span><br><span class="line">END:</span><br><span class="line">    <span class="keyword">return</span> head;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="http://47.101.172.219/wp-content/uploads/2021/08/%E5%9B%BE%E7%89%87-5.png"></p><h2 id="动态链表插入流程图"><a href="#动态链表插入流程图" class="headerlink" title="动态链表插入流程图"></a>动态链表插入流程图</h2>]]></content>
      
      
      <categories>
          
          <category> C语言 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
